!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=219)}([function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return c});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}},function(e,t,n){(function(t){e.exports=t.jQuery=n(74)}).call(this,n(23))},function(e,t,n){"use strict";function i(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(e,Error)}}function r(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return"undefined"!=typeof Event&&g(e,Event)}function d(e){return"undefined"!=typeof Element&&g(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function f(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function g(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,"d",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"k",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"g",function(){return g})},function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return h});var i=n(36),r=(n(21),{});function o(){return Object(i.b)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}function a(){var e=o(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+i}}function l(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function c(e){var t=o();if(!("console"in t))return e();var n=t.console,i={};["debug","info","warn","error","log","assert"].forEach(function(e){e in t.console&&n[e].__sentry_original__&&(i[e]=n[e],n[e]=n[e].__sentry_original__)});var r=e();return Object.keys(i).forEach(function(e){n[e]=i[e]}),r}function u(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function d(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(n){e.exception.values[0].mechanism[n]=t[n]})}catch(e){}}function p(){try{return document.location.href}catch(e){return""}}var f=6e4;function h(e,t){if(!t)return f;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var i=Date.parse(""+t);return isNaN(i)?f:i-e}}).call(this,n(23))},,function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return y});var i=n(0),r=n(37),o=n(2),a=n(69),s=n(16),l=n(21);function c(e,t,n){if(t in e){var i=e[t],r=n(i);if("function"==typeof r)try{r.prototype=r.prototype||{},Object.defineProperties(r,{__sentry_original__:{enumerable:!1,value:i}})}catch(e){}e[t]=r}}function u(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function d(e){if(Object(o.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}if(Object(o.f)(e)){var a=e,s={};s.type=a.type;try{s.target=Object(o.c)(a.target)?Object(r.a)(a.target):Object.prototype.toString.call(a.target)}catch(e){s.target="<unknown>"}try{s.currentTarget=Object(o.c)(a.currentTarget)?Object(r.a)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(e){s.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&Object(o.g)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a);return s}return e}function p(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function f(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var i=m(e,t);return p(i)>n?f(e,t-1,n):i}function h(t,n){return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==e&&t===e?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(o.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(s.a)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function g(e,t,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new a.a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=h(e);return Object(o.i)(n)?n:t}(t);if(null!==t&&void 0!==t&&"function"==typeof t.toJSON)return t.toJSON();var r=h(t,e);if(Object(o.i)(r))return r;var s=d(t),l=Array.isArray(t)?[]:{};if(i.memoize(t))return"[Circular ~]";for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(l[c]=g(c,s[c],n-1,i));return i.unmemoize(t),l}function m(e,t){try{return JSON.parse(JSON.stringify(e,function(e,n){return g(e,n,t)}))}catch(e){return"**non-serializable**"}}function v(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(l.d)(n[0],t);for(var i=n.length;i>0;i--){var r=n.slice(0,i).join(", ");if(!(r.length>t))return i===n.length?r:Object(l.d)(r,t)}return""}function y(e){var t,n;if(Object(o.h)(e)){var r=e,a={};try{for(var s=Object(i.f)(Object.keys(r)),l=s.next();!l.done;l=s.next()){var c=l.value;void 0!==r[c]&&(a[c]=y(r[c]))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(y):e}}).call(this,n(23))},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return y});var i=n(0),r=n(3),o=n(96),a=n(11),s=n(36),l=n(33),c=n(82),u=n(5),d=function(){function e(e){this.errors=0,this.sid=Object(r.i)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=c.a.Ok,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:Object(r.i)()),e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),"number"==typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===c.a.Ok?this.update({status:c.a.Exited}):this.update()},e.prototype.toJSON=function(){return Object(u.a)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(u.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),p=3,f=function(){function e(e,t,n){void 0===t&&(t=new l.a),void 0===n&&(n=p),this._version=n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=l.a.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(r.i)(),o=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}o={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,Object(i.a)(Object(i.a)({},o),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var o=this._lastEventId=Object(r.i)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(e){s=e}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,Object(i.a)(Object(i.a)({},a),{event_id:o})),o},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(r.i)();return this._invokeClient("captureEvent",e,Object(i.a)(Object(i.a)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),a=n.scope,s=n.client;if(a&&s){var l=s.getOptions&&s.getOptions()||{},c=l.beforeBreadcrumb,u=void 0===c?null:c,d=l.maxBreadcrumbs,p=void 0===d?100:d;if(!(p<=0)){var f=Object(o.a)(),h=Object(i.a)({timestamp:f},e),g=u?Object(r.c)(function(){return u(h,t)}):h;null!==g&&a.addBreadcrumb(g,Math.min(p,100))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,i=t.client;n&&i&&e(n)},e.prototype.run=function(e){var t=g(this);try{e(this)}finally{g(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return a.a.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,r=t.client,o=r&&r.getOptions()||{},a=o.release,s=o.environment,l=new d(Object(i.a)(Object(i.a)({release:a,environment:s},n&&{user:n.getUser()}),e));return n&&n.setSession(l),l},e.prototype.endSession=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var i=t.getSession&&t.getSession();i&&(i.close(),n&&n.captureSession&&n.captureSession(i),t.setSession())}},e.prototype._invokeClient=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,Object(i.e)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=h().__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,t);a.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function h(){var e=Object(r.e)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function g(e){var t=h(),n=y(t);return _(t,e),n}function m(){var e=h();return v(e)&&!y(e).isOlderThan(p)||_(e,new f),Object(s.b)()?function(e){try{var t=(i=h().__SENTRY__)&&i.extensions&&i.extensions.domain&&i.extensions.domain.active;if(!t)return y(e);if(!v(t)||y(t).isOlderThan(p)){var n=y(e).getStackTop();_(t,new f(n.client,l.a.clone(n.scope)))}return y(t)}catch(t){return y(e)}var i}(e):y(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub?e.__SENTRY__.hub:(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new f,e.__SENTRY__.hub)}function _(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"k",function(){return m}),n.d(t,"m",function(){return v}),n.d(t,"l",function(){return y});var i=n(0),r=n(6);function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Object(r.b)();if(o&&o[e])return o[e].apply(o,Object(i.e)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function a(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return o("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function s(e,t){var n;try{throw new Error(e)}catch(e){n=e}var r="string"!=typeof t?{captureContext:t}:void 0;return o("captureMessage",e,"string"==typeof t?t:void 0,Object(i.a)({originalException:e,syntheticException:n},r))}function l(e){return o("captureEvent",e)}function c(e){o("configureScope",e)}function u(e){o("addBreadcrumb",e)}function d(e,t){o("setContext",e,t)}function p(e){o("setExtras",e)}function f(e){o("setTags",e)}function h(e,t){o("setExtra",e,t)}function g(e,t){o("setTag",e,t)}function m(e){o("setUser",e)}function v(e){o("withScope",e)}function y(e,t){return o("startTransaction",Object(i.a)({},e),t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i,r={};n.r(r),n.d(r,"FunctionToString",function(){return o}),n.d(r,"InboundFilters",function(){return f});var o=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){i=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return i.apply(n,e)}},e.id="FunctionToString",e}(),a=n(0),s=n(33),l=n(6),c=n(11),u=n(3),d=n(21),p=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],f=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){Object(s.b)(function(t){var n=Object(l.b)();if(!n)return t;var i=n.getIntegration(e);if(i){var r=n.getClient(),o=r?r.getOptions():{},a=i._mergeOptions(o);if(i._shouldDropEvent(t,a))return null}return t})},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(c.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(u.d)(e)),!0):this._isIgnoredError(e,t)?(c.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(u.d)(e)),!0):this._isDeniedUrl(e,t)?(c.a.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(u.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(c.a.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(u.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some(function(e){return t.ignoreErrors.some(function(t){return Object(d.a)(e,t)})})},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some(function(e){return Object(d.a)(n,e)})},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some(function(e){return Object(d.a)(n,e)})},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:Object(a.e)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Object(a.e)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Object(a.e)(this._options.ignoreErrors||[],e.ignoreErrors||[],p),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,i=void 0===n?"":n,r=t.value,o=void 0===r?"":r;return[""+o,i+": "+o]}catch(t){return c.a.error("Cannot extract message for event "+Object(u.d)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(t){return c.a.error("Cannot extract url for event "+Object(u.d)(e)),null}},e.id="InboundFilters",e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IloveEvent=void 0;var i=function(){return function(e,t){void 0===t&&(t=null),this.name=e,this.detail=t}}();t.IloveEvent=i},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d});var i=n(0),r=n(7),o=n(47),a=n(3),s=n(11),l=0;function c(){return l>0}function u(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var o=function(){var o=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var s=o.map(function(e){return u(e,t)});return e.handleEvent?e.handleEvent.apply(this,s):e.apply(this,s)}catch(e){throw l+=1,setTimeout(function(){l-=1}),Object(r.m)(function(n){n.addEventProcessor(function(e){var n=Object(i.a)({},e);return t.mechanism&&(Object(a.b)(n,void 0,void 0),Object(a.a)(n,t.mechanism)),n.extra=Object(i.a)(Object(i.a)({},n.extra),{arguments:o}),n}),Object(r.c)(e)}),e}};try{for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s])}catch(e){}e.prototype=e.prototype||{},o.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:o}),Object.defineProperties(o,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:function(){return e.name}})}catch(e){}return o}function d(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new o.a(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else s.a.error("Missing dsn option in showReportDialog call");else s.a.error("Missing eventId option in showReportDialog call")}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(3),r=Object(i.e)(),o="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){r.console.log(o+"[Log]: "+e.join(" "))})},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){r.console.warn(o+"[Warn]: "+e.join(" "))})},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){r.console.error(o+"[Error]: "+e.join(" "))})},e}();r.__SENTRY__=r.__SENTRY__||{};var s=r.__SENTRY__.logger||(r.__SENTRY__.logger=new a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i,r=n(2);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(i||(i={}));var o=function(){function e(e){var t=this;this._state=i.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(i.RESOLVED,e)},this._reject=function(e){t._setResult(i.REJECTED,e)},this._setResult=function(e,n){t._state===i.PENDING&&(Object(r.m)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==i.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach(function(e){e.done||(t._state===i.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===i.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)})}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.all=function(t){return new e(function(n,i){if(Array.isArray(t))if(0!==t.length){var r=t.length,o=[];t.forEach(function(t,a){e.resolve(t).then(function(e){o[a]=e,0===(r-=1)&&n(o)}).then(null,i)})}else n([]);else i(new TypeError("Promise.all requires an array as input."))})},e.prototype.then=function(t,n){var i=this;return new e(function(e,r){i._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void r(e)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void r(e)}else r(t)}})})},e.prototype.catch=function(e){return this.then(function(e){return e},e)},e.prototype.finally=function(t){var n=this;return new e(function(e,i){var r,o;return n.then(function(e){o=!1,r=e,t&&t()},function(e){o=!0,r=e,t&&t()}).then(function(){o?i(r):e(r)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}()},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Lang=void 0;var a=o(n(57)),s=function(){function t(){}return t.t=function(e,t){var n="iloveLang";return t&&t.source&&(n=t.source),window[n]&&window[n][e]&&(e=window[n][e]),e=this.tr(e,t)},t.tr=function(e,t){return null!=t&&Object.keys(t).forEach(function(n){var i=t[n];e=(e=e.replace("${"+n+"}",i)).replace("{"+n+"}",i)}),e},t.w=function(n,i){void 0===n&&(n="translate"),e("."+n).each(function(){var n=e(this).html();e(this).html(t.t(n,i))}),e("#"+n).each(function(){var n=e(this).html();e(this).html(t.t(n,i))})},t.fontsForWritingSystem=function(e){switch(e){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];case"unknown":default:return["arial-unicode-ms"]}},t.getFontsInfo=function(){var e=window.fonts;if(!e)throw"[Lang Service] You have to load the fonts information from the backend to use this method";return e},t.loadAllFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&this.loadFont(e)},t.loadFont=function(e){e in this.loadedFonts||(a.lazyloadCss("/font/"+e+".css"),this.loadedFonts[e]=!0)},t.hasHindiCharacters=function(e){return e.split("").filter(function(e){var t=e.charCodeAt();return t>=2309&&t<=2361}).length>0},t.hasJapanCharacters=function(e){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(e)},t.hasChineseCharacters=function(e){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(e)},t.hasKoreanCharacters=function(e){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(e)},t.hasArabicCharacters=function(e){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(e)},t.hasGreekCharacters=function(e){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(e)},t.hasCyrillicCharacters=function(e){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(e)},t.hasCommonLatinCharacters=function(e){return!1},t.keyCodeToWritingSystem=function(e){for(var t in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[t],i=0;i<n.length;i++){var r=n[i],o=r[0],a=r[1];if(e>=o&&e<=a)return t}return"unknown"},t.detectWritingSystems=function(e){if(0===e.length)return[];for(var t={},n=0;n<e.length;n++){t[this.keyCodeToWritingSystem(e.charCodeAt(n))]=!0}return Object.keys(t)},t.loadedFonts={},t.FALLBACK_FONT_FAMILY="arial-unicode-ms",t.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},t}();t.Lang=s}).call(this,n(1))},function(e,t,n){"use strict";var i;n.r(t),n.d(t,"LogLevel",function(){return i}),n.d(t,"SessionStatus",function(){return o.a}),n.d(t,"Severity",function(){return a.a}),n.d(t,"Status",function(){return s.a}),n.d(t,"TransactionSamplingMethod",function(){return r}),function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Debug=2]="Debug",e[e.Verbose=3]="Verbose"}(i||(i={}));var r,o=n(82),a=n(31),s=n(60);!function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return v}),n.d(t,"f",function(){return y}),n.d(t,"d",function(){return _}),n.d(t,"g",function(){return b}),n.d(t,"c",function(){return w}),n.d(t,"a",function(){return E}),n.d(t,"i",function(){return x});var i=n(8),r=n(53),o=n(6),a=n(3),s=n(12),l=n(42),c=n(10),u=n(49),d=n(48),p=n(50),f=n(51),h=n(52),g=[new i.a.InboundFilters,new i.a.FunctionToString,new u.a,new d.a,new p.a,new f.a,new h.a];function m(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=g),void 0===e.release){var t=Object(a.e)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!1),Object(r.a)(l.a,e),e.autoSessionTracking&&function(){var e=Object(a.e)(),t=Object(o.b)(),n="complete"===document.readyState,i=!1,r=function(){i&&n&&t.endSession()},s=function(){n=!0,r(),e.removeEventListener("load",s)};t.startSession(),n||e.addEventListener("load",s);try{var l=new PerformanceObserver(function(e,t){e.getEntries().forEach(function(e){"first-contentful-paint"===e.name&&e.startTime<c&&(t.disconnect(),i=!0,r())})}),c="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",function(e){c=Math.min(c,e.timeStamp)},{once:!0}),l.observe({type:"paint",buffered:!0})}catch(e){i=!0,r()}}()}function v(e){void 0===e&&(e={}),e.eventId||(e.eventId=Object(o.b)().lastEventId());var t=Object(o.b)().getClient();t&&t.showReportDialog(e)}function y(){return Object(o.b)().lastEventId()}function _(){}function b(e){e()}function w(e){var t=Object(o.b)().getClient();return t?t.flush(e):s.a.reject(!1)}function E(e){var t=Object(o.b)().getClient();return t?t.close(e):s.a.reject(!1)}function x(e){return Object(c.c)(e)()}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i="<anonymous>";function r(e){try{return e&&"function"==typeof e&&e.name||i}catch(e){return i}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0),r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var o=function(e){function t(t){var n=this.constructor,i=e.call(this,t)||this;return i.message=t,i.name=n.prototype.constructor.name,r(i,n.prototype),i}return Object(i.b)(t,e),t}(Error)},function(e,t,n){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserModel=void 0;var r=function(){function t(e){void 0===e&&(e={}),this.loginUrl="auth",this.registerUrl="signup",this.sendResetPasswordEmailUrl="login/forgetpassword",Object.assign(this,e);var t="en-US"==window.lang?"":"/"+window.lang;this.domain=window.location.hostname+t}return Object.defineProperty(t,"userType",{get:function(){return t.isPremium()?"premium":t.isUser()?"user":"guest"},enumerable:!1,configurable:!0}),t.isTeamManaged=function(){var e=window.userModel;return e&&null!=e.team_role&&"owner"!=e.team_role},t.hasSubscription=function(){var e=window.userModel;return"object"==typeof e&&null!=e&&null!=e.current_subscription},t.prototype.login=function(t){var n="//"+this.domain+"/"+this.loginUrl;return new Promise(function(i,r){e.post(n,t,function(e){window.ilovepdfConfig&&(window.ilovepdfConfig.fileLimits=e.user.limits,window.ilovepdfConfig.userToken=e.token),i(e)}).fail(r)})},t.prototype.register=function(t){var n="//"+this.domain+"/"+this.registerUrl;return new Promise(function(i,r){e.post(n,t,function(e){i(e)}).fail(r)})},t.prototype.sendResetPasswordEmail=function(t){var n="//"+this.domain+"/"+this.sendResetPasswordEmailUrl;return new Promise(function(i,r){e.post(n,t,function(e){i(e)}).fail(r)})},t.isLoggedIn=function(){return!!window.userModel},t.get=function(){return window.userModel},t.set=function(e){window.userModel=e},t.logout=function(){document.location.href=e(".logout").attr("href")},t.isUser=function(){var e=t.get();return"object"==typeof e&&null!=e},t.isPremium=function(){return t.isRealPremium()},t.isPremiumTemp=function(){return window.ilovepdfConfig&&"premium"==window.ilovepdfConfig.levelTemp},t.isTempPremium=function(){return t.isPremiumTemp()},t.isRealPremium=function(){var e=window.userModel;return"object"==typeof e&&null!=e?e.premium:"object"==typeof e&&null!=e&&e.premium},t.canDoTrial=function(){var e=window.userModel;return"object"==typeof e&&null!=e?e.can_trial:!!window.uct},t.refresh=function(e){return void 0===e&&(e=null),n(this,void 0,void 0,function(){var n,r,o,a;return i(this,function(i){switch(i.label){case 0:return[4,fetch(e?"/user/info/"+e:"/user/info")];case 1:return n=i.sent(),a=(o=JSON).parse,[4,n.json()];case 2:return r=a.apply(o,[i.sent()]),t.set(r.user),[2]}})})},t.removeAds=function(){var e=document.getElementsByClassName("add");e&&Array.from(e).forEach(function(e){e.remove()})},t.updateUser=function(e){window.userModel=e,window.ilovepdfConfig&&(window.ilovepdfConfig.user=e),1==t.isRealPremium()&&t.removeAds()},t.serviceToken=function(){var e=window.userModel;return e?e.token:null},t}();t.UserModel=r}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateBase=void 0;var i=n(13),r=n(29),o=n(9),a=n(38),s=function(){function e(){var e=this;this.wasDomReadyExecutedBefore=!1,this.loadingElem=null,this.backdropElem=null,this.runTooltip=!0,this.showBackdrop=function(t,n,i){var r=e.appendBackdropElement();r.innerHTML="",t.classList.add("ilove-backdrop__content"),r.appendChild(t);var o=r.querySelector(".ilove-backdrop__title");o.querySelector(".ilove-backdrop__title__text").innerHTML=null!==n&&void 0!==n?n:"";var a=r.querySelector(".ilove-backdrop__subtitle");a.querySelector(".ilove-backdrop__subtitle__text").innerHTML=null!==i&&void 0!==i?i:"",r.classList.add("ilove-backdrop--visible"),e.domRoot.style.overflow="hidden",o.addEventListener("click",function(){e._backdrop_click_callback1&&e._backdrop_click_callback1()}),a.addEventListener("click",function(){e._backdrop_click_callback2&&e._backdrop_click_callback2()})},this.setBackdropCallback=function(t,n){e._backdrop_click_callback1=t,e._backdrop_click_callback2=n},this.clearBackdrop=function(){var t;null===(t=e.backdropElem)||void 0===t||t.classList.remove("ilove-backdrop--visible"),e.domRoot.style.overflow="",e.setBackdropCallback(null,null)},this._onLayoutTemplateLoaded=function(){e.ctx._onDomReady(e.domRoot),e.dispatchEvent(new o.IloveEvent("unsetContentAbandonment")),!0===e.runTooltip&&a.Tooltip.init(),e.onDomReady(),e.wasDomReadyExecutedBefore=!0},this.showLoadingScreen=function(){e.appendLoadingElement().classList.add("wait--visible"),e.domRoot.style.overflow="hidden"},this.clearLoadingScreen=function(){var t;null===(t=e.loadingElem)||void 0===t||t.classList.remove("wait--visible"),e.domRoot.style.overflow=""},this.goToPreviousStateButtonIsVisible=function(){var t=e.domStateRoot.querySelector(".dialog__back");return!!t&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},this.t=function(t,n){if(e._t){if(!(t in e._t))throw"Key '"+t+"' not found";return i.Lang.tr(e._t[t],n)}var r=e.domRoot.querySelector("[data-state='"+e.name+"'] .text-translations");if(!r)throw"Text translations for state '"+e.name+"' not found";if("html"===r.dataset.format){var o=r.querySelector("[data-key="+t+"]");if(!o)throw"Key '"+t+"' not found";var a=o.innerHTML;return i.Lang.tr(a,n)}if(e._t=JSON.parse(r.textContent),"object"!=typeof e._t)throw"Translation object not found";return e.t(t,n)},this.eventEmitter=new r.ILoveEventEmitter}return e.prototype.render=function(e){var t=this;if(this.domRoot=e,this.ctx.isInline)return this.showCurrentStateScreens(),void this._onLayoutTemplateLoaded();this.loadTemplateOn(this.LAYOUT_TEMPLATE_NAME,this.domRoot).then(function(){t.showLoadingScreen(),t.showCurrentStateScreens().then(t._onLayoutTemplateLoaded).catch(function(e){throw e})}).catch(function(e){throw"Problem loading template "+t.LAYOUT_TEMPLATE_NAME+": "+e})},e.prototype.reset=function(){},e.prototype.appendLoadingElement=function(){var e=this.domRoot;return this.loadingElem||(this.loadingElem=document.createElement("div"),this.loadingElem.classList.add("wait","wait--animated","wait--sm"),e.parentNode.appendChild(this.loadingElem)),this.loadingElem},e.prototype.appendBackdropElement=function(){var e=this.domRoot;return this.backdropElem||(this.backdropElem=document.createElement("div"),this.backdropElem.classList.add("ilove-backdrop","ilove-backdrop--animated","ilove-backdrop--sm"),e.parentNode.appendChild(this.backdropElem)),this.backdropElem},e.prototype.isTemplateAppended=function(e){return this.ctx.appendedTemplates.includes(e)},e.prototype.loadTemplateOn=function(e,t){var n=this;return this.isTemplateAppended(e)?Promise.resolve():new Promise(function(i,r){n.ctx.getTemplateViaAjax(e).then(function(r){n.ctx.appendedTemplates.push(e),t.innerHTML=r,i()},function(e){r()})})},e.prototype.showCurrentStateScreens=function(){this.domRoot.querySelectorAll("[data-state]").forEach(function(e){return e.style.display="none"});var e=this.domRoot.querySelector("[data-state='"+this.name+"']");if(!e)throw"Template container for '"+this.name+"' state not found";e.style.display="";var t=e.getAttribute("data-template-name");return t?this.loadTemplateOn(t,e):Promise.resolve()},e.prototype.changeScreen=function(e){this.domRoot.querySelectorAll("[data-state='"+this.name+"'] [data-screen]").forEach(function(e){e.style.display="none"});var t=this.domRoot.querySelector("[data-state="+this.name+"] [data-screen='"+e+"']");if(!t)throw"Screen '"+e+"' for state '"+this.name+"' not found";t.style.display="",this.currentScreen=t},e.prototype.setContext=function(e){this.ctx=e},Object.defineProperty(e.prototype,"domStateRoot",{get:function(){var e=this.domRoot.querySelector("[data-state="+this.name+"]");if(!e)throw"Dom State root for "+this.name+" not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dialogCloseBtn",{get:function(){return this.domStateRoot.querySelector(".dialog__close")},enumerable:!1,configurable:!0}),e.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},e.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},e}();t.StateBase=s},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var i=n(0),r=n(31),o=n(3),a=n(12),s=n(2),l=n(27),c=n(22);function u(e,t,n){var i=p(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return Object(o.a)(i,{handled:!0,type:"generic"}),i.level=r.a.Error,n&&n.event_id&&(i.event_id=n.event_id),a.a.resolve(i)}function d(e,t,n,i){void 0===n&&(n=r.a.Info);var o=f(t,i&&i.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return o.level=n,i&&i.event_id&&(o.event_id=i.event_id),a.a.resolve(o)}function p(e,t,n){var r;if(void 0===n&&(n={}),Object(s.e)(e)&&e.error)return e=e.error,r=Object(l.b)(Object(c.a)(e));if(Object(s.a)(e)||Object(s.b)(e)){var a=e,u=a.name||(Object(s.a)(a)?"DOMError":"DOMException"),d=a.message?u+": "+a.message:u;return r=f(d,t,n),Object(o.b)(r,d),"code"in a&&(r.tags=Object(i.a)(Object(i.a)({},r.tags),{"DOMException.code":""+a.code})),r}if(Object(s.d)(e))return r=Object(l.b)(Object(c.a)(e));if(Object(s.h)(e)||Object(s.f)(e)){var p=e;return r=Object(l.a)(p,t,n.rejection),Object(o.a)(r,{synthetic:!0}),r}return r=f(e,t,n),Object(o.b)(r,""+e,void 0),Object(o.a)(r,{synthetic:!0}),r}function f(e,t,n){void 0===n&&(n={});var i={message:e};if(n.attachStacktrace&&t){var r=Object(c.a)(t),o=Object(l.d)(r.stack);i.stacktrace={frames:o}}return i}},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var i=n(2);function r(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){var n=e,i=n.length;if(i<=150)return n;t>i&&(t=i);var r=Math.max(t-60,0);r<5&&(r=0);var o=Math.min(r+140,i);return o>i-5&&(o=i),o===i&&(r=Math.max(o-140,0)),n=n.slice(r,o),r>0&&(n="'{snip} "+n),o<i&&(n+=" {snip}"),n}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],i=0;i<e.length;i++){var r=e[i];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return!!Object(i.k)(e)&&(Object(i.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(0),r="?",o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=/Minified React error #\d+;/i;function d(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:u.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=e.stacktrace.split("\n"),a=[],s=0;s<o.length;s+=2){var l=null;(t=n.exec(o[s]))?l={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(l={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),l&&(!l.func&&l.line&&(l.func=r),a.push(l))}if(!a.length)return null;return{message:f(e),name:e.name,stack:a}}(e))return p(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,i,u=[],d=e.stack.split("\n"),p=0;p<d.length;++p){if(n=o.exec(d[p])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=c.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),i={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||r,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=s.exec(d[p]))i={url:n[2],func:n[1]||r,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=l.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==p||n[5]||void 0===e.columnNumber||(u[0].column=e.columnNumber+1),i={url:n[3],func:n[1]||r,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=r),u.push(i)}if(!u.length)return null;return{message:f(e),name:e.name,stack:u}}(e))return p(t,n)}catch(e){}return{message:f(e),name:e&&e.name,stack:[],failed:!0}}function p(e,t){try{return Object(i.a)(Object(i.a)({},e),{stack:e.stack.slice(t)})}catch(t){return e}}function f(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"Severity",function(){return r.a}),n.d(t,"Status",function(){return o.a}),n.d(t,"addGlobalEventProcessor",function(){return a.b}),n.d(t,"addBreadcrumb",function(){return s.a}),n.d(t,"captureException",function(){return s.c}),n.d(t,"captureEvent",function(){return s.b}),n.d(t,"captureMessage",function(){return s.d}),n.d(t,"configureScope",function(){return s.e}),n.d(t,"getHubFromCarrier",function(){return l.c}),n.d(t,"getCurrentHub",function(){return l.b}),n.d(t,"Hub",function(){return l.a}),n.d(t,"makeMain",function(){return l.d}),n.d(t,"Scope",function(){return a.a}),n.d(t,"startTransaction",function(){return s.l}),n.d(t,"setContext",function(){return s.f}),n.d(t,"setExtra",function(){return s.g}),n.d(t,"setExtras",function(){return s.h}),n.d(t,"setTag",function(){return s.i}),n.d(t,"setTags",function(){return s.j}),n.d(t,"setUser",function(){return s.k}),n.d(t,"withScope",function(){return s.m}),n.d(t,"BrowserClient",function(){return c.a}),n.d(t,"injectReportDialog",function(){return u.a}),n.d(t,"eventFromException",function(){return d.a}),n.d(t,"eventFromMessage",function(){return d.b}),n.d(t,"defaultIntegrations",function(){return p.b}),n.d(t,"forceLoad",function(){return p.d}),n.d(t,"init",function(){return p.e}),n.d(t,"lastEventId",function(){return p.f}),n.d(t,"onLoad",function(){return p.g}),n.d(t,"showReportDialog",function(){return p.h}),n.d(t,"flush",function(){return p.c}),n.d(t,"close",function(){return p.a}),n.d(t,"wrap",function(){return p.i}),n.d(t,"SDK_NAME",function(){return f.a}),n.d(t,"SDK_VERSION",function(){return f.b}),n.d(t,"Integrations",function(){return b}),n.d(t,"Transports",function(){return v});var i=n(0),r=n(31),o=n(60),a=n(33),s=n(7),l=n(6),c=n(42),u=n(10),d=n(20),p=n(15),f=n(25),h=n(8),g=n(3),m=n(41),v=n(45),y={},_=Object(g.e)();_.Sentry&&_.Sentry.Integrations&&(y=_.Sentry.Integrations);var b=Object(i.a)(Object(i.a)(Object(i.a)({},y),h.a),m)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i="sentry.javascript.browser",r="5.30.0"},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var i=n(0);function r(e,t){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function o(e,t){var n=e.tags||{},r=n.__sentry_samplingMethod,o=n.__sentry_sampleRate,a=Object(i.d)(n,["__sentry_samplingMethod","__sentry_sampleRate"]);e.tags=a;var s="transaction"===e.type,l={body:JSON.stringify(e),type:e.type||"event",url:s?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(s){var c=JSON.stringify({event_id:e.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:r,rate:o}]})+"\n"+l.body;l.body=c}return l}},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u});var i=n(2),r=n(5),o=n(22),a=50;function s(e){var t=u(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function l(e,t,n){var a={exception:{values:[{type:Object(i.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(r.b)(e)}]},extra:{__serialized__:Object(r.e)(e)}};if(t){var s=u(Object(o.a)(t).stack);a.stacktrace={frames:s}}return a}function c(e){return{exception:{values:[s(e)]}}}function u(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",i=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==i.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,a).map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}}).reverse()}},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i,r=n(0),o=n(2),a=n(11),s=n(3),l=n(5),c=n(16),u=n(43),d=Object(s.e)(),p={},f={};function h(e){if(!f[e])switch(f[e]=!0,e){case"console":!function(){if(!("console"in d))return;["debug","info","warn","error","log","assert"].forEach(function(e){e in d.console&&Object(l.c)(d.console,e,function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];m("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,d.console,n)}})})}();break;case"dom":!function(){if(!("document"in d))return;d.document.addEventListener("click",w("click",m.bind(null,"dom")),!1),d.document.addEventListener("keypress",E(m.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(e){var t=d[e]&&d[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(l.c)(t,"addEventListener",function(e){return function(t,n,i){return n&&n.handleEvent?("click"===t&&Object(l.c)(n,"handleEvent",function(e){return function(t){return w("click",m.bind(null,"dom"))(t),e.call(this,t)}}),"keypress"===t&&Object(l.c)(n,"handleEvent",function(e){return function(t){return E(m.bind(null,"dom"))(t),e.call(this,t)}})):("click"===t&&w("click",m.bind(null,"dom"),!0)(this),"keypress"===t&&E(m.bind(null,"dom"))(this)),e.call(this,t,n,i)}}),Object(l.c)(t,"removeEventListener",function(e){return function(t,n,i){try{e.call(this,t,n.__sentry_wrapped__,i)}catch(e){}return e.call(this,t,n,i)}}))})}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;var e=[],t=[],n=XMLHttpRequest.prototype;Object(l.c)(n,"open",function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var a=this,s=i[1];a.__sentry_xhr__={method:Object(o.k)(i[0])?i[0].toUpperCase():i[0],url:i[1]},Object(o.k)(s)&&"POST"===a.__sentry_xhr__.method&&s.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=function(){if(4===a.readyState){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(e){}try{var n=e.indexOf(a);if(-1!==n){e.splice(n);var r=t.splice(n)[0];a.__sentry_xhr__&&void 0!==r[0]&&(a.__sentry_xhr__.body=r[0])}}catch(e){}m("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&"function"==typeof a.onreadystatechange?Object(l.c)(a,"onreadystatechange",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return c(),e.apply(a,t)}}):a.addEventListener("readystatechange",c),n.apply(a,i)}}),Object(l.c)(n,"send",function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return e.push(this),t.push(i),m("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}();break;case"fetch":!function(){if(!Object(u.c)())return;Object(l.c)(d,"fetch",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={args:t,fetchData:{method:function(e){void 0===e&&(e=[]);if("Request"in d&&Object(o.g)(e[0],Request)&&e[0].method)return String(e[0].method).toUpperCase();if(e[1]&&e[1].method)return String(e[1].method).toUpperCase();return"GET"}(t),url:function(e){void 0===e&&(e=[]);if("string"==typeof e[0])return e[0];if("Request"in d&&Object(o.g)(e[0],Request))return e[0].url;return String(e[0])}(t)},startTimestamp:Date.now()};return m("fetch",Object(r.a)({},i)),e.apply(d,t).then(function(e){return m("fetch",Object(r.a)(Object(r.a)({},i),{endTimestamp:Date.now(),response:e})),e},function(e){throw m("fetch",Object(r.a)(Object(r.a)({},i),{endTimestamp:Date.now(),error:e})),e})}})}();break;case"history":!function(){if(!Object(u.b)())return;var e=d.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length>2?t[2]:void 0;if(r){var o=i,a=String(r);i=a,m("history",{from:o,to:a})}return e.apply(this,t)}}d.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=d.location.href,o=i;if(i=r,m("history",{from:o,to:r}),e)return e.apply(this,t)},Object(l.c)(d.history,"pushState",t),Object(l.c)(d.history,"replaceState",t)}();break;case"error":x=d.onerror,d.onerror=function(e,t,n,i,r){return m("error",{column:i,error:r,line:n,msg:e,url:t}),!!x&&x.apply(this,arguments)};break;case"unhandledrejection":S=d.onunhandledrejection,d.onunhandledrejection=function(e){return m("unhandledrejection",e),!S||S.apply(this,arguments)};break;default:a.a.warn("unknown instrumentation type:",e)}}function g(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(p[e.type]=p[e.type]||[],p[e.type].push(e.callback),h(e.type))}function m(e,t){var n,i;if(e&&p[e])try{for(var o=Object(r.f)(p[e]||[]),s=o.next();!s.done;s=o.next()){var l=s.value;try{l(t)}catch(t){a.a.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(c.a)(l)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}var v,y,_=1e3,b=0;function w(e,t,n){return void 0===n&&(n=!1),function(i){v=void 0,i&&y!==i&&(y=i,b&&clearTimeout(b),n?b=setTimeout(function(){t({event:i,name:e})}):t({event:i,name:e}))}}function E(e){return function(t){var n;try{n=t.target}catch(e){return}var i=n&&n.tagName;i&&("INPUT"===i||"TEXTAREA"===i||n.isContentEditable)&&(v||w("input",e)(t),clearTimeout(v),v=setTimeout(function(){v=void 0},_))}}var x=null;var S=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILoveEventEmitter=void 0;var i=function(){function e(){this._eventEmitterCallbacks={}}return e.prototype.addEventListener=function(e,t){e in this._eventEmitterCallbacks||(this._eventEmitterCallbacks[e]=[]),this._eventEmitterCallbacks[e].push(t)},e.prototype.dispatchEvent=function(e){e.name in this._eventEmitterCallbacks&&this._eventEmitterCallbacks[e.name].forEach(function(t){return t(e)});var t=new Event(e.name);document.dispatchEvent(t)},e}();t.ILoveEventEmitter=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Tools=void 0;var i=n(13),r=function(){function t(){}return t.sleep=function(e){return new Promise(function(t,n){setTimeout(t,e)})},t.bytesToSize=function(e){if(0==e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][t]},t.mbytesToSize=function(e){return t.bytesToSize(1e6*e)},t.convertPointsToPixels=function(e){return e*(1+1/3)},t.strCapitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.isRTL=function(){return e("body").hasClass("rtl")},t.isTextRTL=function(e){return new RegExp("^[^A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]").test(e)},Object.defineProperty(t,"textDirection",{get:function(){return t.isRTL()?"right":"left"},enumerable:!1,configurable:!0}),t.getClosestNumber=function(e,t){for(var n=Math.abs(t[0]-e),i=0,r=1;r<t.length;r++){var o=Math.abs(t[r]-e);o<n&&(i=r,n=o)}return t[i]},t.modalView=function(e){var n='<div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content">';return n="title"in e?n+'<div class="modal-header"><h4 class="modal-title">'+e.title+'</h4><button type="button" class="close" data-dismiss="modal">'+t.svgClose()+"</button></div>":n+'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close">'+t.svgClose()+"</button></div>","content"in e?n=n+'<div class="modal-body">'+e.content+"</div>":n+='<div class="modal-body"></div>',"btn"in e&&(n=n+'<div class="modal-footer"><button type="button" class="btn btn-link" data-dismiss="modal">'+e.btn+"</button></div>"),n+="</div></div></div>"},t.modalViewOk=function(e){return e.btn=i.Lang.t("Ok"),t.modalView(e)},t.setInputCursorAtTheEnd=function(e){var t=e.val().length;e.focus(),e[0].setSelectionRange(t,t)},t.svgClose=function(){return t.svgRemove(12,12)},t.svgRotate=function(e,t){return void 0===e&&(e=14),void 0===t&&(t=16),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+t+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#383E45" fill-rule="evenodd"/></svg>'},t.svgRemove=function(e,t){return void 0===e&&(e=12),void 0===t&&(t=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+t+'" viewBox="0 0 12 12"><polygon fill="#383E45" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},t.svgArrowRight=function(e,t){return void 0===e&&(e=12),void 0===t&&(t=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+t+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},t.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},t.randomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},t.colorpicker=function(t){var n=null;n=1==e(t).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"},1==e(t).data("input")&&(n.showInput=!0),1==e(t).data("empty")&&(n.allowEmpty=!0,1==e(t).data("limit")&&n.palette.push(["transparent"]),n.change=function(n){n=0===n._a?"transparent":n.toHexString(),e(t).val(n)}),1==e(t).data("inline")&&(n.flat=!0),1==e(t).data("aplha")&&(n.showAlpha=!0),n.clickoutFiresChange=!0;try{e(t).spectrum(n)}catch(t){}},t.isElementInView=function(t,n){return void 0===n&&(n=!1),0!=t.length&&(0==n?t.offset().top<e(window).height()&&t.offset().top+t.height()>60:t.offset().top+t.height()<e(window).height()&&t.offset().top>60)},t.keepInNumericBounds=function(e,t,n){return null!==e&&n<e&&(n=e),null!==t&&n>t&&(n=t),n},t.scrollControl=function(e,t,n){var i=0;e.scroll(function(){var r=e.scrollTop();r>i&&"function"==typeof n&&n(),i>r&&"function"==typeof t&&t(),i=r})},t.loadingFromPreviousStart=function(){var t=e(".fromPrevious");t.length>=0?t.css("display","flex"):(t=e('<div class="wait fromPrevious">'+i.Lang.t("previousTaskLoading")+"</div>"),e(".main").append(t),t.css("display","flex"))},t.loadingFromPreviousFail=function(){var t="<div><p>"+i.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+i.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+i.Lang.t("previousFailContinue")+"</button></p></div>";e(".fromPrevious").html(t).css("background-image","none")},t.loadingFromPreviousEnd=function(){e(".fromPrevious").remove()},t.serializeFormData=function(e){var t={};try{for(var n=0,i=e.entries();n<i.length;n++){var r=i[n],o=r[0],a=r[1];t[o]=a}}catch(e){}return t={info:"form data serialize failed"}},t.parseTemplate=function(t,n,i){return void 0===n&&(n=null),void 0===i&&(i="simple"),null!=n&&("simple"==i&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),"dollar"==i&&e.each(n,function(e,n){t=t.replace("${"+e+"}",n)})),t},t.isEmail=function(e){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(e)},t.getBrowserTimezone=function(){var e="UTC";if(window.Intl&&window.Intl.DateTimeFormat()){var t=window.Intl.DateTimeFormat().resolvedOptions().timeZone;t&&(e=t)}return e},t}();t.Tools=r}).call(this,n(1))},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(i||(i={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(0),r=n(47),o=n(60),a=n(17),s=n(12),l=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then(function(){return t.remove(e)}).then(null,function(){return t.remove(e).then(null,function(){})}),e):s.a.reject(new a.a("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new s.a(function(n){var i=setTimeout(function(){e&&e>0&&n(!1)},e);s.a.all(t._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}(),c=n(11),u=n(3),d=function(){function e(e){this.options=e,this._buffer=new l(30),this._rateLimits={},this._api=new r.a(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new a.a("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,i=e.headers,r=e.resolve,a=e.reject,s=o.a.fromHttpCode(n.status);this._handleRateLimit(i)&&c.a.warn("Too many requests, backing off until: "+this._disabledUntil(t)),s!==o.a.Success?a(n):r({status:s})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,r,o,a=Date.now(),s=e["x-sentry-rate-limits"],l=e["retry-after"];if(s){try{for(var c=Object(i.f)(s.trim().split(",")),d=c.next();!d.done;d=c.next()){var p=d.value.split(":",2),f=parseInt(p[0],10),h=1e3*(isNaN(f)?60:f);try{for(var g=(r=void 0,Object(i.f)(p[1].split(";"))),m=g.next();!m.done;m=g.next()){var v=m.value;this._rateLimits[v||"all"]=new Date(a+h)}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return!0}return!!l&&(this._rateLimits.all=new Date(a+Object(u.g)(a,l)),!0)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var i=n(0),r=n(2),o=n(96),a=n(12),s=n(3),l=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=Object(i.e)(t._breadcrumbs),n._tags=Object(i.a)({},t._tags),n._extra=Object(i.a)({},t._extra),n._contexts=Object(i.a)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=Object(i.e)(t._eventProcessors)),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=Object(i.a)(Object(i.a)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=Object(i.a)(Object(i.a)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=Object(i.a)(Object(i.a)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=Object(i.a)(Object(i.a)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=Object(i.a)(Object(i.a)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,i,r=this.getSpan();return(null===(e=r)||void 0===e?void 0:e.transaction)?null===(t=r)||void 0===t?void 0:t.transaction:(null===(i=null===(n=r)||void 0===n?void 0:n.spanRecorder)||void 0===i?void 0:i.spans[0])?r.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=Object(i.a)(Object(i.a)({},this._tags),t._tags),this._extra=Object(i.a)(Object(i.a)({},this._extra),t._extra),this._contexts=Object(i.a)(Object(i.a)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):Object(r.h)(t)&&(t=t,this._tags=Object(i.a)(Object(i.a)({},this._tags),t.tags),this._extra=Object(i.a)(Object(i.a)({},this._extra),t.extra),this._contexts=Object(i.a)(Object(i.a)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=Object(i.a)({timestamp:Object(o.a)()},e);return this._breadcrumbs=void 0!==t&&t>=0?Object(i.e)(this._breadcrumbs,[n]).slice(-t):Object(i.e)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=Object(i.a)(Object(i.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(i.a)(Object(i.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(i.a)(Object(i.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(i.a)(Object(i.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Object(i.a)({trace:this._span.getTraceContext()},e.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(e.tags=Object(i.a)({transaction:r},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Object(i.e)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(Object(i.e)(c(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,o){var s=this;return void 0===o&&(o=0),new a.a(function(a,l){var c=e[o];if(null===t||"function"!=typeof c)a(t);else{var u=c(Object(i.a)({},t),n);Object(r.m)(u)?u.then(function(t){return s._notifyEventProcessors(e,t,n,o+1).then(a)}).then(null,l):s._notifyEventProcessors(e,u,n,o+1).then(a).then(null,l)}})},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(e)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function c(){var e=Object(s.e)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function u(e){c().push(e)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyload=void 0,t.lazyload=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n="async");for(var i=document.getElementsByTagName("script"),r=i.length;r--;)if(i[r].src.match(e))return!0;var o=document.createElement("script");o.type="text/javascript",document.createElement("script");var a="defer"in document.createElement("script");for(var s in a&&(o.defer=!0),o.src=e,t)if(t.hasOwnProperty(s)){var l=t[s];o.setAttribute(s,l)}var c=document.getElementsByTagName("script")[0];return c.parentNode.insertBefore(o,c),!0}},function(e,t,n){"use strict";(function(e,i){n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});n(2),n(5);function r(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}function o(e,t){return e.require(t)}}).call(this,n(90),n(62)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(2);function r(e){try{for(var t=e,n=[],i=0,r=0,a=" > ".length,s=void 0;t&&i++<5&&!("html"===(s=o(t))||i>1&&r+n.length*a+s.length>=80);)n.push(s),r+=s.length,t=t.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function o(e){var t,n,r,o,a,s=e,l=[];if(!s||!s.tagName)return"";if(l.push(s.tagName.toLowerCase()),s.id&&l.push("#"+s.id),(t=s.className)&&Object(i.k)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)l.push("."+n[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)r=c[a],(o=s.getAttribute(r))&&l.push("["+r+'="'+o+'"]');return l.join("")}},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var a=o(n(35)),s=n(81),l=function(){function t(){}return t.compat=function(){(-1!==navigator.appVersion.indexOf("MSIE 10")||navigator.userAgent.indexOf(" UCBrowser/")>=0||navigator.userAgent.indexOf("Opera Mini")>=0||navigator.userAgent.indexOf("Android")>=0&&parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8))>4.4)&&a.lazyload("//cdn.jsdelivr.net/npm/mutationobserver-shim/dist/mutationobserver.min.js")},t.init=function(n){void 0===n&&(n=null),window.tippy&&(null==n&&(n=".tooltip"),e(n).each(function(n,i){if(!e(i)[0]._tippy){window._tippyInstances=window._tippyInstances||[];var r=window.tippy(e(i)[0],t.getOptions(i));window._tippyInstances.push(r)}}),s.LinkTitle.disable(n),e(n).hover(function(){if(e(this).hasClass("rotate")||e(this).hasClass("remove"))try{var t=e(this).parent().parent()[0]._tippy;t&&(t.hide(),t.disable())}catch(e){}},function(){if(e(this).hasClass("rotate")||e(this).hasClass("remove"))try{var t=e(this).parent().parent()[0]._tippy;t&&t.enable()}catch(e){}}),e(".tooltip").on("mouseenter",function(e){e.preventDefault()}))},t.getOptions=function(n){var i={animation:"fade",delay:[0,0],offset:[0,20],allowHTML:!0,content:e(n).is("[data-title]")?e(n).attr("data-title"):e(n).attr("title"),arrow:!0,placement:t.getPlacement(n),showOnCreate:e(n).hasClass("tooltip--show"),hideOnClick:!e(n).hasClass("tooltip--fixed"),theme:e(n).is("[data-theme]")?e(n).attr("data-theme"):""};return e(n).is("[data-z]")&&(i.zIndex=e(n).attr("data-z")),i},t.getPlacement=function(t){var n=e(t);return n.hasClass("tooltip--top")?"top":n.hasClass("tooltip--top-start")?"top-start":n.hasClass("tooltip--top-end")?"top-end":n.hasClass("tooltip--bottom")?"bottom":n.hasClass("tooltip--left")?"left":n.hasClass("tooltip--right")?"right":"top"},t.setContent=function(n,i){if(1==e(n).length)return e(n).attr("title",i),e(n).attr("data-title",i),e(n)[0]._tippy?(e(n)[0]._tippy.hide(),void e(n)[0]._tippy.setContent(i)):void t.init(n);e(n).each(function(e,n){t.setContent(n,i)})},t.show=function(n,i){void 0===i&&(i=null);e(n)[0];if(0!=e(n).length){"_tippy"in e(n)[0]||t.init(e(n));var r=e(n)[0]._tippy;e(n).is(":disabled")?(e(n).attr("disabled",!1),r.show(),setTimeout(function(){e(n).attr("disabled",!0)},100)):r.show(),null!=i&&setTimeout(function(){e(n)[0]._tippy.hide()},i)}},t.shake=function(t){var n=e(t)[0]._tippy;window.setTimeout(function(){e(n.popper).children().addClass("shake")},500)},t.hide=function(t){try{e(t)[0]._tippy.hide()}catch(e){}},t.enable=function(n){if(1!=e(n).length)e(n).each(function(e,n){t.enable(n)});else try{e(n)[0]._tippy.enable()}catch(e){}},t.disable=function(n){if(1!=e(n).length)e(n).each(function(e,n){t.disable(n)});else try{e(n)[0]._tippy.hide(),e(n)[0]._tippy.disable()}catch(e){}},t.destroy=function(n){if(1!=e(n).length)e(n).each(function(e,n){t.destroy(n)});else try{e(n)}catch(e){}},t.wrapDisabled=function(t){e(t).wrap("<div class='tootlip-wrap'></div>")},t}();t.Tooltip=l,window.tootip=l}).call(this,n(1))},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var a=o(n(91)),s=function(){function e(){}return e.get=function(e){var t="production";return a[t][e]},e.mode=function(){var e="production";return e},e.env=function(){return"production"},e}();t.Settings=s},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(60),r=n(12),o=function(){function e(){}return e.prototype.sendEvent=function(e){return r.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:i.a.Skipped})},e.prototype.close=function(e){return r.a.resolve(!0)},e}()},function(e,t,n){"use strict";n.r(t);var i=n(50);n.d(t,"GlobalHandlers",function(){return i.a});var r=n(49);n.d(t,"TryCatch",function(){return r.a});var o=n(48);n.d(t,"Breadcrumbs",function(){return o.a});var a=n(51);n.d(t,"LinkedErrors",function(){return a.a});var s=n(52);n.d(t,"UserAgent",function(){return s.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n(0),r=n(68),o=n(3),a=n(11),s=n(65),l=n(31),c=n(43),u=n(20),d=n(63),p=n(64),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.b)(t,e),t.prototype.eventFromException=function(e,t){return Object(u.a)(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=l.a.Info),Object(u.b)(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=Object(i.a)(Object(i.a)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):Object(c.a)()?new d.a(t):new p.a(t)},t}(s.a),h=n(10),g=n(48),m=n(25),v=function(e){function t(t){return void 0===t&&(t={}),e.call(this,f,t)||this}return Object(i.b)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),Object(o.e)().document&&(this._isEnabled()?Object(h.a)(Object(i.a)(Object(i.a)({},e),{dsn:e.dsn||this.getDsn()})):a.a.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=Object(i.a)(Object(i.a)({},t.sdk),{name:m.a,packages:Object(i.e)(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:m.b}]),version:m.b}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(g.a);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return c});var i=n(11),r=n(3);function o(){if(!("fetch"in Object(r.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!o())return!1;var e=Object(r.e)();if(a(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=a(s.contentWindow.fetch)),n.head.removeChild(s)}catch(e){i.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function l(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function c(){var e=Object(r.e)(),t=e.chrome,n=t&&t.app&&t.app.runtime,i="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&i}},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1)],void 0===(o="function"==typeof(i=function(e){return e.ui=e.ui||{},e.ui.version="1.13.0"})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){"use strict";n.r(t);var i=n(32);n.d(t,"BaseTransport",function(){return i.a});var r=n(63);n.d(t,"FetchTransport",function(){return r.a});var o=n(64);n.d(t,"XHRTransport",function(){return o.a})},function(e,t,n){var i;!function(r){"use strict";function o(e,t,n){var i,r=document.createElement("img");return r.onerror=function(i){return o.onerror(r,i,e,t,n)},r.onload=function(i){return o.onload(r,i,e,t,n)},"string"==typeof e?(o.fetchBlob(e,function(t){t&&o.isInstanceOf("Blob",t)?(e=t,i=o.createObjectURL(e)):(i=e,n&&n.crossOrigin&&(r.crossOrigin=n.crossOrigin)),r.src=i},n),r):o.isInstanceOf("Blob",e)||o.isInstanceOf("File",e)?(i=r._objectURL=o.createObjectURL(e))?(r.src=i,r):o.readFile(e,function(e){var n=e.target;n&&n.result?r.src=n.result:t&&t(e)}):void 0}var a=r.createObjectURL&&r||r.URL&&URL.revokeObjectURL&&URL||r.webkitURL&&webkitURL;function s(e,t){!e._objectURL||t&&t.noRevoke||(o.revokeObjectURL(e._objectURL),delete e._objectURL)}o.fetchBlob=function(e,t){t()},o.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},o.transform=function(e,t,n,i,r){n(e,r)},o.onerror=function(e,t,n,i,r){s(e,r),i&&i.call(e,t)},o.onload=function(e,t,n,i,r){s(e,r),i&&o.transform(e,r,i,n,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},o.createObjectURL=function(e){return!!a&&a.createObjectURL(e)},o.revokeObjectURL=function(e){return!!a&&a.revokeObjectURL(e)},o.readFile=function(e,t,n){if(r.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,i[n=n||"readAsDataURL"])return i[n](e),i}return!1},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}("undefined"!=typeof window&&window||this)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(97),r=n(5),o=function(){function e(e){this.dsn=e,this._dsnObject=new i.a(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,i=["Sentry sentry_version=7"];return i.push("sentry_client="+e+"/"+t),i.push("sentry_key="+n.user),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];for(var r in i.push("dsn="+t.toString()),e)if("dsn"!==r)if("user"===r){if(!e.user)continue;e.user.name&&i.push("name="+encodeURIComponent(e.user.name)),e.user.email&&i.push("email="+encodeURIComponent(e.user.email))}else i.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return i.length?n+"?"+i.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(r.f)(e)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(0),r=n(6),o=n(31),a=n(3),s=n(28),l=n(21),c=n(37),u=function(){function e(t){this.name=e.id,this._options=Object(i.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&Object(r.b)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Object(a.d)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&Object(s.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,Object(i.e)(t))},type:"console"}),this._options.dom&&Object(s.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,Object(i.e)(t))},type:"dom"}),this._options.xhr&&Object(s.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,Object(i.e)(t))},type:"xhr"}),this._options.fetch&&Object(s.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,Object(i.e)(t))},type:"fetch"}),this._options.history&&Object(s.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,Object(i.e)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:o.a.fromString(e.level),message:Object(l.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(l.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}Object(r.b)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(c.a)(e.event.target):Object(c.a)(e.event)}catch(e){t="<unknown>"}0!==t.length&&Object(r.b)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,i=t.url,o=t.status_code,a=t.body;Object(r.b)().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:o},type:"http"},{xhr:e.xhr,input:a})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Object(r.b)().addBreadcrumb({category:"fetch",data:e.fetchData,level:o.a.Error,type:"http"},{data:e.error,input:e.args}):Object(r.b)().addBreadcrumb({category:"fetch",data:Object(i.a)(Object(i.a)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=Object(a.e)(),n=e.from,i=e.to,o=Object(a.h)(t.location.href),s=Object(a.h)(n),l=Object(a.h)(i);s.path||(s=o),o.protocol===l.protocol&&o.host===l.host&&(i=l.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),Object(r.b)().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},e.id="Breadcrumbs",e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(0),r=n(3),o=n(5),a=n(16),s=n(10),l=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],c=function(){function e(t){this.name=e.id,this._options=Object(i.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=Object(r.e)();(this._options.setTimeout&&Object(o.c)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(o.c)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(o.c)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Object(o.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:l).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0];return t[0]=Object(s.c)(i,{mechanism:{data:{function:Object(a.a)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,Object(s.c)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(a.a)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(r.e)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(o.c)(n,"addEventListener",function(t){return function(n,i,r){try{"function"==typeof i.handleEvent&&(i.handleEvent=Object(s.c)(i.handleEvent.bind(i),{mechanism:{data:{function:"handleEvent",handler:Object(a.a)(i),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,n,Object(s.c)(i,{mechanism:{data:{function:"addEventListener",handler:Object(a.a)(i),target:e},handled:!0,type:"instrument"}}),r)}}),Object(o.c)(n,"removeEventListener",function(e){return function(t,n,i){var r,o=n;try{var a=null===(r=o)||void 0===r?void 0:r.__sentry_wrapped__;a&&e.call(this,t,a,i)}catch(e){}return e.call(this,t,o,i)}}))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(e){e in i&&"function"==typeof i[e]&&Object(o.c)(i,e,function(t){var n={mechanism:{data:{function:e,handler:Object(a.a)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=Object(a.a)(t.__sentry_original__)),Object(s.c)(t,n)})}),e.apply(this,t)}},e.id="TryCatch",e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(0),r=n(6),o=n(31),a=n(11),s=n(28),l=n(2),c=n(3),u=n(20),d=n(10),p=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(i.a)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(a.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(a.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(Object(s.a)({callback:function(n){var i=n.error,o=Object(r.b)(),a=o.getIntegration(e),s=i&&!0===i.__sentry_own_request__;if(a&&!Object(d.b)()&&!s){var p=o.getClient(),f=Object(l.i)(i)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(Object(u.c)(i,void 0,{attachStacktrace:p&&p.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(c.a)(f,{handled:!1,type:"onerror"}),o.captureEvent(f,{originalException:i})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(Object(s.a)({callback:function(n){var i=n;try{"reason"in n?i=n.reason:"detail"in n&&"reason"in n.detail&&(i=n.detail.reason)}catch(e){}var a=Object(r.b)(),s=a.getIntegration(e),p=i&&!0===i.__sentry_own_request__;if(!s||Object(d.b)()||p)return!0;var f=a.getClient(),h=Object(l.i)(i)?t._eventFromRejectionWithPrimitive(i):Object(u.c)(i,void 0,{attachStacktrace:f&&f.getOptions().attachStacktrace,rejection:!0});h.level=o.a.Error,Object(c.a)(h,{handled:!1,type:"onunhandledrejection"}),a.captureEvent(h,{originalException:i})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,i){var r,o=Object(l.e)(e)?e.message:e;if(Object(l.k)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(r=a[1],o=a[2])}var s={exception:{values:[{type:r||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,t,n,i)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,i){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var r=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,a=Object(l.k)(t)&&t.length>0?t:Object(c.f)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:r,filename:a,function:"?",in_app:!0,lineno:o}),e},e.id="GlobalHandlers",e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(0),r=n(33),o=n(6),a=n(2),s=n(27),l=n(22),c="cause",u=5,d=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||c,this._limit=t.limit||u}return e.prototype.setupOnce=function(){Object(r.b)(function(t,n){var i=Object(o.b)().getIntegration(e);return i?i._handler(t,n):t})},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(a.g)(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=Object(i.e)(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!Object(a.g)(e[t],Error)||n.length+1>=this._limit)return n;var r=Object(l.a)(e[t]),o=Object(s.c)(r);return this._walkErrorTree(e[t],t,Object(i.e)([o],n))},e.id="LinkedErrors",e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(0),r=n(33),o=n(6),a=n(3),s=Object(a.e)(),l=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Object(r.b)(function(t){var n,r,a;if(Object(o.b)().getIntegration(e)){if(!s.navigator&&!s.location&&!s.document)return t;var l=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(r=s.location)||void 0===r?void 0:r.href),c=(s.document||{}).referrer,u=(s.navigator||{}).userAgent,d=Object(i.a)(Object(i.a)(Object(i.a)({},null===(a=t.request)||void 0===a?void 0:a.headers),c&&{Referer:c}),u&&{"User-Agent":u}),p=Object(i.a)(Object(i.a)({},l&&{url:l}),{headers:d});return Object(i.a)(Object(i.a)({},t),{request:p})}return t})},e.id="UserAgent",e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(6),r=n(11);function o(e,t){!0===t.debug&&r.a.enable();var n=Object(i.b)(),o=new e(t);n.bindClient(o)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.UserAuth=void 0;var i=n(18),r=function(){function t(n){var r=this;this.onLoginSucess=null,this.onLoginError=null,this.onRegisterSuccess=null,this.onRegisterError=null,this.loginSuccess=function(e){e.token&&(e.user.token=e.token),window.userModel=e.user,window.ilovepdfConfig&&(t.updateUserMenu(e.content),t.updateUser(e.user)),null!==r.onLoginSucess&&("function"!=typeof r.onLoginSucess&&"object"!=typeof r.onLoginSucess||r.onLoginSucess(e.user))},this.registerSuccess=function(n){t.updateUserMenu(n.content),t.updateUser(n.user),n.token&&(n.user.token=n.token),e(".user-menu__item--premium").remove(),t.sendGA_registered(r.runningFrom),"function"==typeof r.onRegisterSuccess&&r.onRegisterSuccess(n)},this.registerError=function(e){"function"==typeof r.onRegisterError&&r.onRegisterError(e)},Object.assign(this,n),this.userModel=new i.UserModel}return t.initActions=function(){e(".logout").click(function(e){e.preventDefault(),i.UserModel.logout()})},t.sendGA_registered=function(e){window.ev("send","event","user","registered",e)},t.prototype.login=function(e){var t=this;void 0===e&&(e=null),e||this.extraLoginParams&&this.extraLoginParams.forEach(function(t){e.push(t)}),this.userModel.login(e).then(this.loginSuccess,function(e){return t.loginError(e.responseJSON)})},t.prototype.sendResetPasswordEmail=function(e){return this.userModel.sendResetPasswordEmail(e)},t.prototype.loginError=function(e){"function"==typeof this.onLoginError&&this.onLoginError(e)},t.updateUser=function(e){window.userModel=e,window.ilovepdfConfig&&(window.ilovepdfConfig.user=e),i.UserModel.updateUser(e),t.initActions()},t.updateUserMenu=function(t){e(".top-menu .nav__item.nav__item--red").remove(),e(".top-menu .nav__item.nav__item--gray").remove(),e(".top-menu .nav__item[data-account]").remove(),e(".top-menu .nav").prepend(t)},t.prototype.register=function(e){var t=this.userModel.register(e);return t.then(this.registerSuccess,this.registerError),t},t.sendEventUserAuth=function(){var e=new CustomEvent("userAuth");window.dispatchEvent(e)},t}();t.UserAuth=r}).call(this,n(1))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextBase=void 0;var o=n(18),a=n(104),s=n(58),l=n(29),c=n(9),u=function(){function e(t){var n=this;void 0===t&&(t={}),this.state=null,this.stateHistory=[],this.objsListeningTo=new WeakMap,this.appendedTemplates=[],this._isInline=!1,this._ctxPlacement="dom",this._inEndState=!1,this.setEndState=function(){n._inEndState=!0},this.isInEndState=function(){return n._inEndState},this.listenToEvents=function(e){n.objsListeningTo.has(e)&&!0===n.objsListeningTo.get(e)||(e.addEventListener("end",function(e){n.setEndState(),n.dispatchEvent(new c.IloveEvent("end",e.detail))}),e.addEventListener("disableContentAbandonment",function(e){return n.dispatchEvent(new c.IloveEvent("disableContentAbandonment"))}),e.addEventListener("unsetContentAbandonment",function(e){return n.dispatchEvent(new c.IloveEvent("unsetContentAbandonment"))}),n.objsListeningTo.set(e,!0))},this.notifyOfContainerClosing=function(){n.dispatchEvent(new c.IloveEvent("contextContainerClosed")),n.isInEndState()&&n.dispatchEvent(new c.IloveEvent("end"))},this._onDomReady=function(e){n.dispatchEvent(new c.IloveEvent("domReady",{domRoot:e}))},this.eventEmitter=new l.ILoveEventEmitter,this._instanceID=++e._static_instanceID,this._wasUserLoggedOnInitialization=this.isLoggedIn(),this._isInline=!!t.isInline&&t.isInline}return e.prototype.setContextPlacement=function(e){this._ctxPlacement=e},e.prototype.getContextPlacement=function(){return this._ctxPlacement},e.prototype.render=function(e){this.state||(this.state=this.getInitialState(),this.changeState(this.state)),this.state.render(e)},Object.defineProperty(e.prototype,"isInline",{get:function(){return this._isInline},enumerable:!1,configurable:!0}),e.prototype.getState=function(){return this.state},e.prototype.changeState=function(e){if(!e)throw"State cannot be empty";if(this._inEndState)throw"Context is in end state; Cannot transition to state '"+e.name+"'";this.state=e,this.state.setContext(this),this.stateHistory.push(this.state),this.listenToEvents(this.state)},e.prototype.canGoToAPreviousState=function(){return!(this.stateHistory.length<2)},e.prototype.goToPreviousState=function(){if(!this.canGoToAPreviousState())throw"Cannot transition to previous state";this.stateHistory.pop();var e=this.stateHistory.pop();return this.changeState(e),e},e.prototype.getTemplateViaAjax=function(t){return i(this,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:return n="template_"+t,e.cache.existsEntry(n)?[2,e.cache.getEntry(n)]:[4,s.AjaxTemplate.load(t)];case 1:return i=r.sent(),e.cache.setEntry(n,i),[2,i]}})})},e.prototype.getStateHistory=function(){return this.stateHistory.map(function(e){return e.name})},e.prototype.wasUserLoggedOnInitialization=function(){return this._wasUserLoggedOnInitialization},e.prototype.reset=function(){this.state&&this.state.reset()},Object.defineProperty(e.prototype,"userType",{get:function(){var e=o.UserModel.userType;return 1==o.UserModel.isTeamManaged()?e:"premium"==e&&0==o.UserModel.hasSubscription()?"user":e},enumerable:!1,configurable:!0}),e.prototype.canUserDoTrial=function(){switch(this.userType){case"guest":case"user":return o.UserModel.canDoTrial();case"premium":return!1;default:throw"Unknown userType "+this.userType+" to determine if can do trial"}},e.prototype.isTeamManaged=function(){return o.UserModel.isPremium()&&o.UserModel.isTeamManaged()},e.prototype.isTrialEnabledForThisTool=function(){return!(window.ilovepdfConfig&&"dtr"in window.ilovepdfConfig)||!window.ilovepdfConfig.dtr},e.prototype.isLoggedIn=function(){return"guest"!==this.userType},Object.defineProperty(e.prototype,"user",{get:function(){return o.UserModel.get()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userCurrentPaymentMethod",{get:function(){var e=this.user.last_payment;return e&&e.provider?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userCurrentSubscription",{get:function(){return this.user&&this.user.current_subscription?this.user.current_subscription:null},enumerable:!1,configurable:!0}),e.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},e.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},e.prototype.getInstanceID=function(){return this._instanceID},e.cache=new a.Cache,e._static_instanceID=0,e}();t.ContextBase=u},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},a={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyloadCss=void 0,t.lazyloadCss=function(e,t){void 0===t&&(t={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(e))return!0;var r=document.createElement("link");for(var o in r.rel="stylesheet",r.href=e,t)if(t.hasOwnProperty(o)){var a=t[o];r.setAttribute(o,a)}var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(r,s),!0}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxTemplate=void 0;var o=function(){function e(){}return e.load=function(t){return i(this,void 0,void 0,function(){var n,i,o,a;return r(this,function(r){return n=new XMLHttpRequest,i=!1,o=!1,a=function(e){return!i&&!o&&200===e.status},n.open("GET",e.getLangBaseUrl()+"/"+t,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/html"),n.ontimeout=function(){return i=!0},n.onerror=function(){return o=!0},[2,new Promise(function(e,t){n.onreadystatechange=function(){4===n.readyState&&(a(n)?e(n.responseText):t(n.response))},n.send()})]})})},e.getLangBaseUrl=function(){var t=window.lang;return"en-US"==t?"/"+e.BASE_URL:"/"+t+"/"+e.BASE_URL},e.BASE_URL="templates",e}();t.AjaxTemplate=o},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TemporaryDialog=void 0;var o=n(9),a=n(29),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(118).Dialog);t.TemporaryDialog=s;var l=function(){function t(t){var n=this;void 0===t&&(t={}),this.isShown=!1,this.setTemplate=function(e,t){return void 0===t&&(t=null),n.contentBuilderFn=null,n.template=e,n.onTemplateRenderFn=t,n},this.show=function(){if(!n.isShown){e(".modal:visible").removeAttr("tabindex");var t=new s(n.dialogProps);return t.addEventListener("closed",function(){n.currentDialog=null,n.dispatchEvent(new o.IloveEvent("closed"))}),t.addEventListener("hidden",function(){n.isShown=!1,t.destroy(),n.dispatchEvent(new o.IloveEvent("hidden"))}),t.addEventListener("shown",function(){n.dispatchEvent(new o.IloveEvent("shown"))}),n.fillDialog(t),t.show(),n.isShown=!0,n.currentDialog=t,t}},this.close=function(){n.currentDialog&&(n.currentDialog.close(),n.currentDialog=null)},this.setContentBuilder=function(e){return n.template=null,n.onTemplateRenderFn=null,n.contentBuilderFn=e,n},this.eventEmitter=new a.ILoveEventEmitter,this.dialogProps=t}return t.prototype.fillDialog=function(e){if(this.contentBuilderFn)e.setContent(this.contentBuilderFn());else{if(!this.template)throw"Unknown DisposableDialog creation mechanism";if(this.template.content){var t=this.template.content.cloneNode(!0);e.domRoot.appendChild(t)}else{this.template;e.domRoot.innerHTML=this.template.innerHTML}this.onTemplateRenderFn&&this.onTemplateRenderFn(e.domRoot)}},t.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},t.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},Object.defineProperty(t.prototype,"domRoot",{get:function(){var e;return null===(e=this.currentDialog)||void 0===e?void 0:e.domRoot},enumerable:!1,configurable:!0}),t}();t.default=l}).call(this,n(1))},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(i||(i={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(i||(i={}))},function(e,t,n){var i,r;!function(o){if(void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(i.read||i)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(r[c]=l,e===c)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}(function(){})})},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(0),r=n(26),o=n(3),a=n(43),s=n(12),l=n(32),c=Object(o.e)(),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.b)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(Object(r.a)(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(Object(r.b)(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var i={body:e.body,method:"POST",referrerPolicy:Object(a.d)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(i,this.options.fetchParameters),void 0!==this.options.headers&&(i.headers=this.options.headers),this._buffer.add(new s.a(function(t,r){c.fetch(e.url,i).then(function(i){var o={"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}).catch(r)}))},t}(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(0),r=n(26),o=n(12),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.b)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(Object(r.a)(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(Object(r.b)(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new o.a(function(t,i){var r=new XMLHttpRequest;for(var o in r.onreadystatechange=function(){if(4===r.readyState){var o={"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})}},r.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&r.setRequestHeader(o,n.options.headers[o]);r.send(e.body)}))},t}(n(32).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(11),r=n(17),o=n(40),a=function(){function e(e){this._options=e,this._options.dsn||i.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new r.a("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new r.a("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(e){i.a.error("Error while sending event: "+e)})},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,function(e){i.a.error("Error while sending session: "+e)}):i.a.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new o.a},e}()},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractPaymentState=void 0;var s=n(19),l=n(67),c=n(9),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstractPaymentInited=!1,t.paymentNumUsersDefault=1,t.DEFAULT_SELECTED_PROVIDER_BTN="stripe",t._onExternalPaymentAction=function(e,n){var i=n.detail;"UserPayment:AfterExternalAction"===e&&t._onPaymentSuccess(i.provider,i)},t._abstractOnPayButtonClicked=function(e){t._executePaymentAction("payButton",e)},t._abstractOnPaymentSuccess=function(e,n){t._onPaymentSuccess(e,n)},t._abstractOnPaymentFailed=function(e,n){t.userPayment.notifyPaymentError(e,n,t.paymentAction),t._onPaymentFailed(e,n)},t}return r(t,e),t.prototype.initAbstractPayment=function(e){var t;return o(this,void 0,void 0,function(){var n=this;return a(this,function(i){switch(i.label){case 0:if(this.ctx.canGoToAPreviousState()&&this.goToPreviousStateButtonIsVisible()?(this.dispatchEvent(new c.IloveEvent("disableContentAbandonment")),this.dialogCloseBtn&&(this.dialogCloseBtn.style.display="none")):this.dialogCloseBtn&&(this.dialogCloseBtn.style.display=""),this.abstractPaymentInited)return[2];if(this.userPayment=e.userPayment?e.userPayment:new l.UserPayment,this.abstractPaymentInited=!0,Object.assign(this,e),"gui"===(null===(t=this.paymentInterval)||void 0===t?void 0:t.type))switch(this.paymentInterval.gui){case"radio":break;case"boxes":this.initPaymentIntervalSelectorButtons();break;default:throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"}return[4,this.initUserPayment(this.userPayment).then(function(){n.userPayment.addEventListener("UserPayment:ActionButtonClicked",n._abstractOnPayButtonClicked),n.userPayment.addEventListener("UserPayment:BeforeExternalAction",function(e){return n._onExternalPaymentAction("UserPayment:BeforeExternalAction",e)}),n.userPayment.addEventListener("UserPayment:AfterExternalAction",function(e){return n._onExternalPaymentAction("UserPayment:AfterExternalAction",e)})})];case 1:return i.sent(),[2]}})})},t.prototype.initAbstractCard=function(e){return o(this,void 0,void 0,function(){var t=this;return a(this,function(n){switch(n.label){case 0:return this.abstractPaymentInited=!0,Object.assign(this,e),this.userPayment=e.userPayment?e.userPayment:new l.UserPayment,[4,this.initUserPayment(this.userPayment).then(function(){t.userPayment.addEventListener("UserPayment:ActionButtonClicked",t._abstractOnPayButtonClicked)})];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"stripeViewParams",{get:function(){return{paymentButtonText:this.paymentProviderProps.find(function(e){return"stripe"===e.name}).paymentButtonText,currentPaymentMethod:this.currentPaymentMethod}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paypalViewParams",{get:function(){var e,t=this,n=(this.paymentProviderProps.find(function(e){return"paypal"===e.name}),function(){return!(t.ctx.isTrialEnabledForThisTool()&&t.ctx.canUserDoTrial())});switch(this.paymentAction){case"become_premium":case"subsc_update":e={actionName:"become_premium"===this.paymentAction?"PaySubscription":"UpdateSubscription",actionParams:{subscriptionInterval:function(){return t.selectedPaymentInterval},numUsers:function(){return t.numUsers?t.numUsers():t.paymentNumUsersDefault},numDigitalSignatures:function(){return t.numSignatures?t.numSignatures():void 0},disableTrial:n}};break;case"pay_package":e={actionName:"PayPackage",actionParams:{packageName:function(){return t.package.name},quantity:function(){return t.package.qty},disableTrial:n}};break;default:throw"Unknown paypal paymentAction '"+this.paymentAction+"'"}return{action:e}},enumerable:!1,configurable:!0}),t.prototype._executePaymentAction=function(e,t){var n,i=this,r=this.selectedPaymentProvider,o=this.paymentAction,a=this.paymentInterval?this.selectedPaymentInterval:void 0,s=this.numUsers?this.numUsers():this.paymentNumUsersDefault;this.showLoadingScreen(),this.userPayment.disableActionButton(r),this.dispatchEvent(new c.IloveEvent("disableContentAbandonment"));var l=!(this.ctx.isTrialEnabledForThisTool()&&this.ctx.canUserDoTrial());switch(o){case"become_premium":n=this.userPayment.paySubscription({numUsers:s,provider:r,subscriptionInterval:a,disableTrial:l});break;case"subsc_update":var u=this.numSignatures();n=this.userPayment.updateSubscription({numSignatures:u,numUsers:s,provider:r,subscriptionInterval:a,disableTrial:l});break;case"pay_package":var d=this.package.name,p=this.package.qty;n=this.userPayment.payPackage({packageName:d,packageQuantity:p,provider:r,disableTrial:l});break;case"update_card":var f=this.userPayment.stripeService.view.card;n=this.userPayment.updateCard({provider:r,element:f})}n.then(function(e){return i._abstractOnPaymentSuccess(r,e)}),n.catch(function(e){return i._abstractOnPaymentFailed(r,e)});var h=function(e){i.clearLoadingScreen(),i.userPayment.enableActionButton(r),i.dispatchEvent(new c.IloveEvent("unsetContentAbandonment"))};return n.then(h,h),n},t.prototype.initUserPayment=function(e){var t,n;return o(this,void 0,void 0,function(){var i,r;return a(this,function(o){switch(o.label){case 0:return(i=this.initializedPaymentProviders).includes("stripe")?[4,e.mountView("stripe",this.stripeViewMountPoint,this.stripeViewParams)]:[3,2];case 1:o.sent(),o.label=2;case 2:return i.includes("paypal")?[4,e.mountView("paypal",this.paypalViewMountPoint,this.paypalViewParams)]:[3,4];case 3:o.sent(),o.label=4;case 4:return r=null!==(n=null===(t=this.currentPaymentMethod)||void 0===t?void 0:t.provider)&&void 0!==n?n:this.DEFAULT_SELECTED_PROVIDER_BTN,this.initPaymentProviderSelectorButtons(),this.clickProviderButton(r),[2]}})})},Object.defineProperty(t.prototype,"initializedPaymentProviders",{get:function(){return this.paymentProviderProps.map(function(e){return e.name})},enumerable:!1,configurable:!0}),t.prototype.initPaymentIntervalSelectorButtons=function(){var e=this.domStateRoot.querySelectorAll(".payment__interval-selector__select-box"),t=function(t){e.forEach(function(e){return e.setAttribute("data-selected","false")}),t.setAttribute("data-selected","true")};e.forEach(function(e){return e.addEventListener("click",function(e){return t(e.currentTarget)})})},t.prototype.clickProviderButton=function(e){var t=this,n=this.domRoot,i=(n.querySelector(".payment__provider-views"),n.querySelector(".payment__provider-selector")),r=(n.querySelectorAll(".payment__provider-selector .payment__provider-selector__item"),Array.from(i.querySelectorAll(".payment__provider-selector__item")));r.forEach(function(e){return e.setAttribute("data-checked","false")});var o=r.find(function(t){return t.dataset.value===e});o.setAttribute("data-checked","true"),function(e){t.domRoot.querySelectorAll(".payment__provider-views .payment__provider-views__item").forEach(function(e){return e.classList.remove("payment__provider-views__item--appeared")});var n=t.domRoot.querySelector('.payment__provider-views .payment__provider-views__item[data-provider-name="'+e+'"]');n&&n.classList.add("payment__provider-views__item--appeared")}(o.getAttribute("data-value"))},t.prototype.initPaymentProviderSelectorButtons=function(){var e=this,t=this.domRoot,n=t.querySelector(".payment__provider-selector").querySelectorAll(".payment__provider-selector__item"),i=t.querySelectorAll(".payment__provider-selector .payment__provider-selector__item");n.forEach(function(t){t.addEventListener("click",function(n){e.clickProviderButton(t.dataset.value)})});var r=this.initializedPaymentProviders;i.forEach(function(e){var t=e.getAttribute("data-value");if(!t)throw"Provider selector button is missing data-value attribute";r.includes(t)||(e.style.display="none")})},Object.defineProperty(t.prototype,"stripeViewMountPoint",{get:function(){var e=this.domRoot.querySelector(".payment__stripe-view");if(!e)throw"Mountpoint for Stripe view not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paypalViewMountPoint",{get:function(){var e=this.domRoot.querySelector(".payment__paypal-view");if(!e)throw"Mountpoint for Paypal view not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedPaymentProvider",{get:function(){return 1==this.paymentProviderProps.length?this.paymentProviderProps[0].name:this.domRoot.querySelector(".payment__provider-selector .payment__provider-selector__item[data-checked='true']").getAttribute("data-value")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedPaymentInterval",{get:function(){if("gui"===this.paymentInterval.type){if("boxes"===this.paymentInterval.gui)return this.selected_paymentInterval_boxes;if("radio"===this.paymentInterval.gui)return this.selected_paymentInterval_radio}else if("predefined"===this.paymentInterval.type)return this.paymentInterval.value;throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected_paymentInterval_radio",{get:function(){var e=Array.from(this.domRoot.querySelectorAll(".payment__interval-selector [name='paymentInterval']"));if(0===e.length)throw"Radio buttons for payment interval not found";for(var t=0;t<e.length;t++)if(e[t].checked)return e[t].value;return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected_paymentInterval_boxes",{get:function(){var e=this.domStateRoot.querySelector(".payment__interval-selector__select-box[data-selected='true']");if(!e)throw"No selected interval box found";return e.getAttribute("data-value")},enumerable:!1,configurable:!0}),t}(s.StateBase);t.AbstractPaymentState=u},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserPayment=void 0;var l,c=n(108),u=o(n(24)),d=n(111),p=n(9),f=n(29),h=n(54);!function(e){e.SUMMARY_INFO="/<locale?>/purchase-summary/info",e.CANCEL_SUBSCRIPTION="/user/subscription/cancel",e.CANCEL_SUBSCRIPTION_REASON="/user/subscription/cancel/reason",e.CANCEL_SUBSCR_OFFER="/user/subscription/canceloffer",e.REACTIVATE_SUBSCRIPTION="/user/subscription/reactivate",e.REMOVE_PAYMENT_DATA="/user/subscription/payment-remove"}(l||(l={}));var g=function(){function t(e){void 0===e&&(e={}),this.views={},this.eventEmitter=new f.ILoveEventEmitter,Object.assign(this,e),this.stripeService=new c.StripeService,this.paypalService=new d.PaypalService,this.initEventListenersOnProviders()}return t.prototype.notifyPaymentError=function(e,t,n){var i,r="generic_payment_error";"update_card"===n&&(r="generic_card_update_error");try{var o=JSON.parse(t.responseText).msg;return void("stripe"===e?this.stripeService.view.notifyCardErrorMsg(o):"paypal"===e&&this.paypalService.notifyErrorMsg(o))}catch(e){}if("stripe"===e){var a=null===(i=null===t||void 0===t?void 0:t.error)||void 0===i?void 0:i.message,s=a||this.stripeService.view.getTranslationText(r);this.stripeService.view.notifyCardErrorMsg(s)}else if("paypal"===e){s=this.paypalService.getTranslationText(r);this.paypalService.notifyErrorMsg(s)}},t.prototype.clearPaymentError=function(e){var t=this;void 0===e&&(e=null);var n=function(){return t.paypalService.clearErrorMsg()},i=function(){return t.stripeService.view.clearCardErrorMsg()};if(null===e)n(),i();else if("paypal"===e)n();else{if("stripe"!==e)throw"Unknown provider "+e;i()}},t.prototype.enableActionButton=function(e){if("stripe"!==e){if("paypal"!==e)throw"Not implemented provider"}else this.stripeService.view.enableActionButton()},t.prototype.disableActionButton=function(e){if("stripe"!==e){if("paypal"!==e)throw"Not implemented provider"}else this.stripeService.view.disableActionButton()},t.prototype.initEventListenersOnProviders=function(){var e=this;this.stripeService.addEventListener("View:ActionButtonClicked",function(){e.dispatchEvent(new p.IloveEvent("UserPayment:ActionButtonClicked"))}),this.paypalService.addEventListener("onPaymentInited",function(t){var n=Object.assign({provider:"paypal"},t.detail);e.dispatchEvent(new p.IloveEvent("UserPayment:BeforeExternalAction",n))}),this.paypalService.addEventListener("onPaymentAuthorized",function(t){var n=Object.assign({provider:"paypal"},t.detail);e.updateUser(n.response),e.dispatchEvent(new p.IloveEvent("UserPayment:AfterExternalAction",n))}),this.paypalService.addEventListener("onPaymentInited_error",function(t){var n=Object.assign({provider:"paypal"},t.detail);e.dispatchEvent(new p.IloveEvent("UserPayment:Error",n))}),this.paypalService.addEventListener("onPaymentAuthorized_error",function(t){var n=Object.assign({provider:"paypal"},t.detail);e.dispatchEvent(new p.IloveEvent("UserPayment:Error",n))})},t.prototype.updateCard=function(e){return a(this,void 0,void 0,function(){var t,n;return s(this,function(i){switch(i.label){case 0:if("updateCard","stripe"!==e.provider)return[3,5];t=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.stripeService.updateCard(e.element)];case 2:return t=i.sent(),[3,4];case 3:throw n=i.sent(),u.configureScope(function(t){var i;t.setExtra("error",{err:null!==(i=null===n||void 0===n?void 0:n.responseText)&&void 0!==i?i:n,params:e})}),u.captureMessage("Failed Stripe updateCard"),n;case 4:return this.updateUser(t),[2,t];case 5:throw"'Update card' is not implemented for provider '"+e.provider+"'"}})})},t.prototype.payPackage=function(e){return a(this,void 0,void 0,function(){var t,n,i,r,o;return s(this,function(a){switch(a.label){case 0:if("paypal"===e.provider)throw"This action is performed by PaypalService by mounting the view";if(t="payPackage",n=null,"stripe"!==e.provider)return[3,5];i=this.stripeService.paymentVia,r={paymentVia:i,packageName:e.packageName,quantity:e.packageQuantity,disableTrial:e.disableTrial},this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:t,params:e})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.stripeService.payPackage(r)];case 2:return n=a.sent(),[3,4];case 3:throw o=a.sent(),u.configureScope(function(t){var n;t.setExtra("error",{err:null!==(n=null===o||void 0===o?void 0:o.responseText)&&void 0!==n?n:o,params:e})}),u.captureMessage("Failed Stripe payPackage"),o;case 4:return this.updateUser(n),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:t,params:e,response:n})),[2,n];case 5:throw"Unknown provider "+e.provider}})})},t.prototype.subscribeNextMonthsWithDiscount=function(){return a(this,void 0,void 0,function(){var t,n,i,r,o,a,c;return s(this,function(s){switch(s.label){case 0:t="subscribeNextMonthsWithDiscount",this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=e.post(l.CANCEL_SUBSCR_OFFER),s.label=1;case 1:return s.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[s.sent()]),[3,4];case 3:throw a=s.sent(),u.configureScope(function(e){var t;e.setExtra("error",{err:null!==(t=null===a||void 0===a?void 0:a.responseText)&&void 0!==t?t:a,params:null})}),u.captureMessage("Failed subscribeNextMonthsWithDiscount"),a;case 4:return c=i.data,this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,c]}})})},t.prototype.cancelSubscription=function(){return a(this,void 0,void 0,function(){var t,n,i,r,o,a,c;return s(this,function(s){switch(s.label){case 0:t="cancelSubscription",this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=e.post(l.CANCEL_SUBSCRIPTION),s.label=1;case 1:return s.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[s.sent()]),[3,4];case 3:throw a=s.sent(),u.configureScope(function(e){var t;e.setExtra("error",{err:null!==(t=null===a||void 0===a?void 0:a.responseText)&&void 0!==t?t:a,params:null})}),u.captureMessage("Failed cancelSubscription"),a;case 4:return c=i.data,this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,c]}})})},t.prototype.reactivateSubscription=function(){return a(this,void 0,void 0,function(){var t,n,i,r,o,a,c;return s(this,function(s){switch(s.label){case 0:t="reactivateSubscription",this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=e.post(l.REACTIVATE_SUBSCRIPTION),s.label=1;case 1:return s.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[s.sent()]),[3,4];case 3:throw a=s.sent(),u.configureScope(function(e){var t;e.setExtra("error",{err:null!==(t=null===a||void 0===a?void 0:a.responseText)&&void 0!==t?t:a,params:null})}),u.captureMessage("Failed reactivateSubscription"),a;case 4:return c=i.data,this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,c]}})})},t.prototype.cancelSubscriptionReason=function(t){return a(this,void 0,void 0,function(){var n,i,r,o,a,c,d,f;return s(this,function(s){switch(s.label){case 0:n="cancelSubscriptionReason",i={reason:t.reason,message:t.message},this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:n,params:t})),r=e.post(l.CANCEL_SUBSCRIPTION_REASON,i),s.label=1;case 1:return s.trys.push([1,3,,4]),c=(a=JSON).parse,[4,r.promise()];case 2:return o=c.apply(a,[s.sent()]),[3,4];case 3:throw d=s.sent(),u.configureScope(function(e){var n;e.setExtra("error",{err:null!==(n=null===d||void 0===d?void 0:d.responseText)&&void 0!==n?n:d,params:t})}),u.captureMessage("Failed cancelSubscriptionReason"),d;case 4:return f=o.data,this.updateUser(o),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:n,params:null,response:o})),[2,f]}})})},t.prototype.paySubscription=function(e){return a(this,void 0,void 0,function(){var t,n,i,r,o;return s(this,function(a){switch(a.label){case 0:if("paypal"===e.provider)throw"This action is performed by PaypalService by mounting the view";if(n="paySubscription","stripe"!==e.provider)return[3,5];i=this.stripeService.paymentVia,r={paymentVia:i,numUsers:e.numUsers,subscriptionInterval:e.subscriptionInterval,disableTrial:e.disableTrial},this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{detail:{action:n,params:e}})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(r)];case 2:return t=a.sent(),[3,4];case 3:throw o=a.sent(),u.configureScope(function(t){var n;t.setExtra("error",{err:null!==(n=null===o||void 0===o?void 0:o.responseText)&&void 0!==n?n:o,params:e})}),u.captureMessage("Failed Stripe PaySubscription"),o;case 4:return this.updateUser(t),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{detail:{action:n,params:null,response:t}})),[2,t];case 5:throw"Unknown provider "+e.provider}})})},t.prototype.updateSubscription=function(e){return a(this,void 0,void 0,function(){var t,n,i,r,o;return s(this,function(a){switch(a.label){case 0:if("paypal"===e.provider)throw"This action is performed by PaypalService by mounting the view";if(t="updateSubscription","stripe"!==e.provider)return[3,5];n=this.stripeService.paymentVia,i=void 0,r={paymentVia:n,numDigitalSignatures:e.numSignatures,numUsers:e.numUsers,subscriptionInterval:e.subscriptionInterval,disableTrial:e.disableTrial},this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{action:t,params:e})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(r)];case 2:return i=a.sent(),[3,4];case 3:throw o=a.sent(),u.configureScope(function(t){var n;t.setExtra("error",{err:null!==(n=null===o||void 0===o?void 0:o.responseText)&&void 0!==n?n:o,params:e})}),u.captureMessage("Failed Stripe UpdateSubscription"),o;case 4:return this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,i];case 5:throw"Unknown provider "+e.provider}})})},t.prototype.paymentRemove=function(){return a(this,void 0,void 0,function(){var t,n,i,r,o,a,c;return s(this,function(s){switch(s.label){case 0:t="paymentRemove",this.dispatchEvent(new p.IloveEvent("UserPayment:BeforeAction",{detail:{action:t,params:null}})),n=e.post(l.REMOVE_PAYMENT_DATA),s.label=1;case 1:return s.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[s.sent()]),[3,4];case 3:throw a=s.sent(),u.configureScope(function(e){var t;e.setExtra("error",{err:null!==(t=null===a||void 0===a?void 0:a.responseText)&&void 0!==t?t:a,params:null})}),u.captureMessage("Failed paymentRemove"),a;case 4:return c=i.data,this.updateUser(i),this.dispatchEvent(new p.IloveEvent("UserPayment:AfterAction",{detail:{action:t,params:null,response:i}})),[2,c]}})})},t.prototype.getPaymentSummary_updateSubscription=function(e,t,n){return this._getPaymentSummary({type:"subscription",numDigitalSignatures:e,numUsers:t,subscriptionInterval:n,subscriptionPlan:void 0})},t.prototype.getPaymentSummary_package=function(e,t){return this._getPaymentSummary({type:"package",package:e,quantity:t})},t.prototype._getPaymentSummary=function(t){var n=l.SUMMARY_INFO;n="en-US"===window.lang?n.replace("/<locale?>",""):n.replace("<locale?>",window.lang);var i=null;return"subscription"===t.type?i=e.post(n,{type:"subscription",users:t.numUsers,signatures:t.numDigitalSignatures,interval:t.subscriptionInterval}):"package"===t.type&&(i=e.post(n,{type:"package",package:t.package,quantity:t.quantity})),new Promise(function(e,t){i.done(function(t){var n=JSON.parse(t);e(n)}).fail(function(e,n,i){u.configureScope(function(t){t.setExtra("error",e.responseText)}),u.captureMessage("Error while fetching payment summary"),t(e.responseText)})})},t.prototype.mountView=function(e,t,n){return a(this,void 0,void 0,function(){var i,r,o,a;return s(this,function(s){switch(s.label){case 0:switch(e){case"stripe":return[3,1];case"paypal":return[3,3]}return[3,5];case 1:return i=this.views,r="stripe",[4,this.stripeService.view.mount(t,n)];case 2:return i[r]=s.sent(),[2,this.views.stripe];case 3:return o=this.views,a="paypal",[4,this.paypalService.mountView(t,n)];case 4:return o[a]=s.sent(),[2,this.views.paypal];case 5:return[2]}})})},t.prototype.updateUser=function(e){h.UserAuth.updateUser(e.user),e.content&&h.UserAuth.updateUserMenu(e.content)},t.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},t.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},t}();t.UserPayment=g}).call(this,n(1))},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(0),r=n(33),o=n(82),a=n(97),s=n(2),l=n(11),c=n(12),u=n(3),d=n(96),p=n(5),f=n(21),h=n(17),g=n(6),m=[];function v(e){var t={};return function(e){var t=e.defaultIntegrations&&Object(i.e)(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var o=n.map(function(e){return e.name}),a=[];t.forEach(function(e){-1===o.indexOf(e.name)&&-1===a.indexOf(e.name)&&(r.push(e),a.push(e.name))}),n.forEach(function(e){-1===a.indexOf(e.name)&&(r.push(e),a.push(e.name))})}else"function"==typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=Object(i.e)(t);var s=r.map(function(e){return e.name});return-1!==s.indexOf("Debug")&&r.push.apply(r,Object(i.e)(r.splice(s.indexOf("Debug"),1))),r}(e).forEach(function(e){t[e.name]=e,function(e){-1===m.indexOf(e.name)&&(e.setupOnce(r.b,g.b),m.push(e.name),l.a.log("Integration installed: "+e.name))}(e)}),t}var y=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new a.a(t.dsn))}return e.prototype.captureException=function(e,t,n){var i=this,r=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then(function(e){return i._captureEvent(e,t,n)}).then(function(e){r=e})),r},e.prototype.captureMessage=function(e,t,n,i){var r=this,o=n&&n.event_id,a=Object(s.i)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then(function(e){return r._captureEvent(e,n,i)}).then(function(e){o=e})),o},e.prototype.captureEvent=function(e,t,n){var i=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then(function(e){i=e})),i},e.prototype.captureSession=function(e){e.release?this._sendSession(e):l.a.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then(function(n){return t._getBackend().getTransport().close(e).then(function(e){return n&&e})})},e.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=v(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return l.a.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,a,s=!1,l=!1,c=t.exception&&t.exception.values;if(c){l=!0;try{for(var u=Object(i.f)(c),d=u.next();!d.done;d=u.next()){var p=d.value.mechanism;if(p&&!1===p.handled){s=!0;break}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var f=t.user;if(!e.userAgent){var h=t.request?t.request.headers:{};for(var g in h)if("user-agent"===g.toLowerCase()){a=h[g];break}}e.update(Object(i.a)(Object(i.a)({},s&&{status:o.a.Crashed}),{user:f,userAgent:a,errors:e.errors+Number(l||s)}))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new c.a(function(n){var i=0,r=setInterval(function(){0==t._processing?(clearInterval(r),n(!0)):e&&(i+=1)>=e&&(clearInterval(r),n(!1))},1)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var o=this,a=this.getOptions().normalizeDepth,s=void 0===a?3:a,l=Object(i.a)(Object(i.a)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:Object(u.i)()),timestamp:e.timestamp||Object(d.a)()});this._applyClientOptions(l),this._applyIntegrationsMetadata(l);var p=t;n&&n.captureContext&&(p=r.a.clone(p).update(n.captureContext));var f=c.a.resolve(l);return p&&(f=p.applyToEvent(l,n)),f.then(function(e){return"number"==typeof s&&s>0?o._normalizeEvent(e,s):e})},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(e){return Object(i.a)(Object(i.a)({},e),e.data&&{data:Object(p.d)(e.data,t)})})}),e.user&&{user:Object(p.d)(e.user,t)}),e.contexts&&{contexts:Object(p.d)(e.contexts,t)}),e.extra&&{extra:Object(p.d)(e.extra,t)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,i=t.release,r=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==i&&(e.release=i),void 0===e.dist&&void 0!==r&&(e.dist=r),e.message&&(e.message=Object(f.d)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Object(f.d)(s.value,a));var l=e.request;l&&l.url&&(l.url=Object(f.d)(l.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,n=Object.keys(this._integrations);t&&n.length>0&&(t.integrations=n)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then(function(e){return e.event_id},function(e){l.a.error(e)})},e.prototype._processEvent=function(e,t,n){var i=this,r=this.getOptions(),o=r.beforeSend,a=r.sampleRate;if(!this._isEnabled())return c.a.reject(new h.a("SDK not enabled, will not send event."));var l="transaction"===e.type;return!l&&"number"==typeof a&&Math.random()>a?c.a.reject(new h.a("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,n,t).then(function(e){if(null===e)throw new h.a("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||l||!o)return e;var n=o(e,t);if(void 0===n)throw new h.a("`beforeSend` method has to return `null` or a valid event.");return Object(s.m)(n)?n.then(function(e){return e},function(e){throw new h.a("beforeSend rejected with "+e)}):n}).then(function(e){if(null===e)throw new h.a("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!l&&t&&i._updateSessionFromEvent(t,e),i._sendEvent(e),e}).then(null,function(e){if(e instanceof h.a)throw e;throw i.captureException(e,{data:{__sentry__:!0},originalException:e}),new h.a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)})},e.prototype._process=function(e){var t=this;this._processing+=1,e.then(function(e){return t._processing-=1,e},function(e){return t._processing-=1,e})},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Banner=void 0;var a=o(n(24)),s=function(){function t(){}return t.preventClickAds=function(){t.preventClick("ad"),t.preventClick("adsq")},t.sendEvent=function(e){return function(){return a.captureMessage(e)}},t.preventClick=function(n){void 0===n&&(n="ad");var i=document.getElementById(n),r=(e(window).width(),"prvnt"+n),o=1100,a="ac";if(document.body.classList.contains("download")&&(o=500),"adsq"==n&&(a="acsq"),null==document.getElementById(r)&&i&&0!=i.getBoundingClientRect().height){i.style.position="relative";var s=document.createElement("div");s.setAttribute("id",r),s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.width=i.getBoundingClientRect().width+"px",s.style.height=i.getBoundingClientRect().height+"px",s.style.zIndex="9",s.style.background="hsl(0,0%,100%,.01)",s.addEventListener("click",t.sendEvent(a));try{i.prepend(s)}catch(e){i.appendChild(s)}window.setTimeout(function(){s.removeEventListener("click",t.sendEvent(a)),s.remove()},o)}},t}();t.Banner=s}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Api=t.APP_VERSION=t.API_VERSION=void 0;var a=n(73),s=n(39);t.API_VERSION="v1",t.APP_VERSION="web.0";var l=function(){function n(e){this.taskId=null,this.tool=null,this.serviceServer=s.Settings.get("service"),this.workerServer=null,this.downloadUrl="",this.apiVersion=t.API_VERSION,this.appVersion=t.APP_VERSION,this.token=null,this.encrypted=!1,this.encryptKey=null,Object.assign(this,e)}return Object.defineProperty(n.prototype,"userToken",{get:function(){return"function"==typeof this._userToken?this._userToken():this._userToken},set:function(e){this._userToken=e},enumerable:!1,configurable:!0}),n.ping=function(e,t){return void 0===t&&(t=!1),new Promise(function(n,i){var r=new XMLHttpRequest,o=0,a=0;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?n():0==o&&0==a&&0!=r.status&&1==t?n():i())},r.ontimeout=function(){o=1},r.onerror=function(e){a=1},r.send()})},n.prototype.pingService=function(){return n.ping(this.serviceServer+"/ping")},n.prototype.sendRequest=function(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=new XMLHttpRequest;return o.open(e,this.workerServer+"/"+this.apiVersion+"/"+t,!0),o.setRequestHeader("Authorization","Bearer "+this.token),o.setRequestHeader("Accept","application/json"),1==r&&o.setRequestHeader("Content-Type","application/json"),i&&(o.responseType="blob"),1==r?o.send(JSON.stringify(n)):o.send(n),o},n.prototype.sendServiceRequest=function(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=new XMLHttpRequest;return o.open(e,this.serviceServer+"/"+t,!0),o.setRequestHeader("Authorization","Bearer "+this.userToken),o.setRequestHeader("Accept","application/json"),1==r&&o.setRequestHeader("Content-Type","application/json"),i&&(o.responseType="blob"),1==r?o.send(JSON.stringify(n)):o.send(n),o},n.prototype.query=function(e,t,n,i,r,o){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o="api");var a=this;return new Promise(function(s,l){var c=null;if("api"==o)c=a.sendRequest(e,t,n,i,r);else{if("service"!=o)throw new Error("invalid target api");c=a.sendServiceRequest(e,t,n,i,r)}c.onerror=function(e){l({status:-1})},c.onload=function(){if(4==c.readyState)if(200==c.status)try{s(JSON.parse(c.responseText))}catch(e){l({error:"invalidJSONResponse",status:500,response:c.responseText})}else if(400==c.status||500==c.status)try{(e=JSON.parse(c.responseText)).status=c.status,l(e)}catch(e){l({error:"invalidJSONResponse",status:500,response:c.responseText})}else{var e={};try{e=JSON.parse(c.responseText)}catch(e){}e.status=c.status,l(e)}}})},n.prototype.process=function(e){return this.query("POST","process",e)},n.prototype.getSigner=function(e){return this.query("GET","signature/signer/"+e)},n.prototype.request=function(e,t,n){var i=a.FormDataHelper.jsonToFormData(n);return this.query(e,t,i)},n.prototype.getTask=function(){var e=this;return new Promise(function(t,n){var i=e.sendRequest("GET","task/"+e.taskId);i.onreadystatechange=function(){if(4==i.readyState){if(200==i.status)return void t(JSON.parse(i.responseText));if(400==i.status||500==i.status)return window.ev("event","send","download_deleted",e.workerServer),void n(i.responseText);window.ev("event","send","download_deleted",e.workerServer),n(i.responseText)}}})},n.prototype.getLink=function(e){return this.workerServer+"/"+this.apiVersion+"/"+e},n.prototype.deleteTask=function(){return this.request("delete","task/"+this.taskId,{})},n.prototype.getSubdomain=function(e){return e.split("/")[2].split(".")[0]},n.prototype.getDomain=function(e){return e.split("/")[2]},n.prototype.uploadFromUrl=function(e){var t=new FormData;return t.append("cloud_file",e),t.append("cloud_source","public"),t.append("task",this.taskId),this.query("post","upload",t)},n.prototype.getPreview=function(e,t){var n=new FormData;for(var i in n.append("server_filename",e),n.append("task",this.taskId),delete t.output_filename,delete t.packaged_filename,t)t.hasOwnProperty(i)&&n.append(i,t[i]);return this.query("post","preview",n)},n.prototype.detectFaces=function(e,t,n){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=a.FormDataHelper.jsonToFormData(i({task:this.taskId,level:e,fileArray:t},void 0!==n?{face:n}:{})),[4,this.query("post","detectfaces",r)];case 1:return[2,o.sent().data.coordArray]}})})},n.prototype.removeFile=function(e){var t=this,n=new FormData;return new Promise(function(i,r){var o=t.sendRequest("delete","upload/"+t.taskId+"/"+e,n);o.onreadystatechange=function(){if(4==o.readyState){if(404==o.status)return void i();if(400==o.status||500==o.status)return void r();i()}}})},n.prototype.next=function(e,t){var n=new FormData;return n.append("task",e),n.append("tool",t),n.append("thumbnails","1"),this.query("post","task/next",n)},n.prototype.nextFile=function(e,t){return this.workerServer+"/thumbnails/"+e+"/"+t},n.prototype.info=function(){return this.query("get","info")},n.prototype.getStatus=function(t,n){return void 0===t&&(t=null),void 0===n&&(n=0),t=t||this.workerServer,new Promise(function(i,r){e.ajax({url:t+"/status.json",dataType:"json",success:function(e){i(e)},timeout:n,error:function(){r()}})})},n.prototype.getFilePreviewInfo=function(e,t,n,i){void 0===n&&(n=150),void 0===i&&(i=null),n=n||150;var r="pdfrender/"+e+"/"+t.replace(".pdf","");return this.query("get",r)},n.prototype.saveToolConfig=function(e,t,n){var i={tool:e,options:t},r=a.FormDataHelper.jsonToFormData(i);return this.userToken=n,this.query("post","tool/save",r,!1,!1,"service")},n.prototype.touchTask=function(e){var t="task/touch/"+e;return this.query("get",t)},n}();t.Api=l}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Limits=t.REASON=void 0;var i,r=n(18),o=n(13),a=n(30);!function(e){e.ERROR_FEATURE="this feature is for premium only",e.ERROR_SIZE="file size too big",e.ERROR_FILES="too much files",e.ERROR_EXTENSION="invalid filetype",e.ERROR_PAGES="too much pages"}(i=t.REASON||(t.REASON={}));var s=function(){function t(e){this.minFiles=1,this.LEVEL_PREMIUM="premium_limits",this.LEVEL_REGISTERED="registered_limits",this.LEVEL_PUBLIC="limits",this.err=null,this.files=null,this.fileLimits=null,this.allFileLimits=null,this.tool=null,this.subtool=null,this.ignored=[],this.userLevel="public",Object.assign(this,e),this.concreteTool=this.getTool()}return t.prototype.getTool=function(){return this.concreteTool?this.concreteTool:this.tool==this.subtool?this.tool:-1!==this.tool.indexOf("image")&&-1===this.subtool.indexOf("image")?this.tool.replace("image",this.subtool):this.subtool},t.prototype.addIgnoredFile=function(e){this.ignored.push(e)},t.prototype.getIgnoredFiles=function(){return this.ignored},t.prototype.getLimitedFiles=function(){return this.files.limited},t.prototype.getLimitedFilenames=function(){var e=this,t=[];return this.getLimitedFiles().forEach(function(n){var i=e.files.getFile(n);if(i){var r=i.name.substring(0,20)+(i.name.length>20?"...":"");t.push(r)}}),t},t.prototype.isIgnored=function(e){return-1!=this.ignored.indexOf(e)},t.prototype.setFileLimits=function(){var e=this;this.fileLimits=window.ilovepdfConfig.fileLimits;var t=r.UserModel.get();if(t&&1==t.premium&&(this.fileLimits=t.limits),this.files.resetLimitedFiles(),this.checkHasLimits()){var n=0,i=0,o=0,a=!1;this.files.files.forEach(function(t){!1===a?(n++,t.size&&(i+=parseInt(t.size)),t.file&&t.file.numPages&&(o+=t.file.numPages),null!==e.checkFileLimits(i,n,o)&&(a=!0,e.files.limitFile(t.id))):e.files.limitFile(t.id)})}},t.prototype.checkFileLimits=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null);e=e||this.files.getFileSizeNotIgnored(),t=t||this.files.countNotIgnored(),n=n||this.files.getFilePagesNotIgnored(),this.fileLimits=window.ilovepdfConfig.fileLimits;var i,o,a,s=r.UserModel.get();if(s&&1==s.premium&&(this.fileLimits=s.limits),this.checkHasLimits()){if(null!==(i=this.checkSizeLimit(e))&&this.hasSurpasedLimits(i))return i;if(null!==(o=this.checkPagesLimit(n))&&this.hasSurpasedLimits(o))return o;if(null!==(a=this.checkFilesLimit(t))&&this.hasSurpasedLimits(a))return a}return i||o||a||null},t.prototype.resetEventSent=function(){this.eventSent=!1},t.prototype.checkHasLimits=function(e){return void 0===e&&(e=null),this.fileLimits[this.concreteTool]?null==e||this.fileLimits[this.concreteTool].hasOwnProperty(e):null},t.prototype.checkSizeLimit=function(t){if(void 0===t&&(t=null),(t=t||this.files.getFileSizeNotIgnored())>1024*parseInt(this.fileLimits[this.concreteTool].mb)*1024){var n=Math.floor(t/1024/1024);return!0!==this.eventSent&&0==e(".download").length&&(this.eventSent=!0,window.ev("sendOnce","event","limits","filesize-exceeded",this.concreteTool,n)),i.ERROR_SIZE}return null},t.prototype.checkFilesLimit=function(t){return void 0===t&&(t=null),(t=t||this.files.countNotIgnored())>this.fileLimits[this.concreteTool].files?(!0!==this.eventSent&&0==e(".download").length&&(this.eventSent=!0,window.ga&&window.ev("sendOnce","event","limits","filenumber-exceeded",this.concreteTool,t)),i.ERROR_FILES):null},t.prototype.checkPagesLimit=function(t){return void 0===t&&(t=null),t=t||this.files.getFilePagesNotIgnored(),this.fileLimits[this.concreteTool].pages&&t>this.fileLimits[this.concreteTool].pages?(!0!==this.eventSent&&0==e(".download").length&&(this.eventSent=!0,window.ev("sendOnce","event","limits","pages-exceeded",this.concreteTool,t)),i.ERROR_PAGES):null},t.prototype.findNextLevelLimit=function(e,t,n){for(var i in this.allFileLimits)if(this.allFileLimits.hasOwnProperty(i)){var r=this.allFileLimits[i];if(r.hasOwnProperty(e)){var o=r[e];if(o.hasOwnProperty(t)&&o[t]>=n)return i}}return!1},t.prototype.getPremiumLimitByTool=function(e,t){return this.allFileLimits.premium_limits[e][t]},t.prototype.getLevelLimit=function(e,t,n){return 0==n&&(n=this.LEVEL_PREMIUM),this.allFileLimits[n][e][t]},t.prototype.makeErrorData=function(e,t,n,i,r){var a=this;function s(e,t){return 1==e?"files"==t?o.Lang.t("1 file"):o.Lang.t("1 mb"):("mb"==t&&e>=1e3&&(e/=1e3,t="Gb"),o.Lang.t("${limit} "+t.toLowerCase(),{limit:e}))}function l(e){return e==a.LEVEL_REGISTERED?o.Lang.t("registeredLevel"):e==a.LEVEL_PREMIUM?o.Lang.t("premiumLevel"):o.Lang.t("publicLevel")}return{currentLimit:s(t,e),currentLevel:l(n).ucFirst(),nextLimit:s(i,e),nextLevel:l(r).ucFirst()}},t.prototype.getLimitData=function(e,t){return 1==e?"files"==t?o.Lang.t("1 file"):"pages"==t?o.Lang.t("1 page"):o.Lang.t("1 mb"):("mb"==t&&e>=1e3&&(e/=1e3,t="Gb"),o.Lang.t("${limit} "+t.toLowerCase(),{limit:e}))},t.prototype.limitErrorText=function(e){return o.Lang.t("limitTaskMsg",e)},t.prototype.setLimit=function(t){this.err=t;var n=this.getNextLimit(t);if(0==n.nextLevel){var i=this.getPremiumLimitByTool(this.concreteTool,n.name);if(0==e("#superlimit").length){var r=a.Tools.modalView({id:"superlimit",title:"",content:""}),s=e(r);s.find(".modal-dialog").addClass("modal-dialog-centered"),s.appendTo(e("body"))}return setTimeout(function(){"files"==n.name?(e("#superlimit .modal-title").html(o.Lang.t("File number exceeded")),e("#superlimit .modal-body").html(o.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+o.Lang.t("limitFiles",{files:i})+"<br>--\x3e\n                         "+o.Lang.t("superlimitWhoa")+"<br>\n                         "+o.Lang.t("superlimitDownload"))):(e("#superlimit .modal-title").html(o.Lang.t("File size exceeded")),e("#superlimit .modal-body").html(o.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+o.Lang.t("limitMb",{mb:i})+"<br>--\x3e\n                         "+o.Lang.t("superlimitWhoa")+"<br>\n                         "+o.Lang.t("superlimitDownload"))),e("#superlimit").modal("toggle")},500),null}return n.nextLevel==this.LEVEL_PUBLIC?null:{limitName:n.name,limitValue:n.currentValue,nextLevelLimit:n.nextLevel,nextLimit:n.nextValue}},t.prototype.getCurrentLimitsLevel=function(){var e=this.LEVEL_PUBLIC;return r.UserModel.isUser()&&(e=this.LEVEL_REGISTERED,r.UserModel.isPremium()&&(e=this.LEVEL_PREMIUM)),e},t.prototype.getLimitTexts=function(){var e,t,n,r=this.checkFileLimits();t=(e=[this.fileLimits[this.getTool()],this.allFileLimits.premium_limits[this.getTool()]])[0],n=e[1];var a,s,l=null;switch(r){case i.ERROR_FILES:a=o.Lang.t("limitFree")+" "+o.Lang.t("limitFiles",{n:t.files}),s=o.Lang.t("limitPremium")+" "+o.Lang.t("limitFiles",{n:n.files}),l="files";break;case i.ERROR_SIZE:a=o.Lang.t("limitFree")+" "+o.Lang.t("limitSize",{n:t.mb}),s=o.Lang.t("limitPremium")+" "+o.Lang.t("limitSize",{n:n.mb}),l="size";break;case i.ERROR_PAGES:a=o.Lang.t("limitFree")+" "+o.Lang.t("limitPages",{n:t.pages}),s=o.Lang.t("limitPremium")+" "+o.Lang.t("limitPages",{n:n.pages}),l="pages"}return{current:a,premium:s,limit:l}},t.prototype.getNextLimit=function(e,t){var n,r,o;switch(void 0===t&&(t=null),null==t&&(t=this.getTool()),e){case i.ERROR_SIZE:n="mb",r=this.files.getFileSizeNotIgnored()/1024/1024;break;case i.ERROR_FILES:n="files",r=this.files.countNotIgnored();break;case i.ERROR_PAGES:n="pages",r=this.files.getFilePagesNotIgnored()}return{name:n,currentValue:r,nextValue:0!=(o=this.findNextLevelLimit(t,n,r))&&this.getLevelLimit(t,n,o),nextLevel:o}},t.prototype.getNextLevelLimit=function(e){return this.getNextLimit(e).nextLevel},t.prototype.hasSurpasedLimits=function(e){return!1===this.getNextLevelLimit(e)},t.prototype.sendEventLimitsChanged=function(){var e=new CustomEvent("limitsChanged");window.dispatchEvent(e)},t.prototype.canContinueWithoutPremium=function(){for(var e=!0,t=0;t<this.minFiles;t++)1==this.files.files[t].limited&&(e=!1);return e},t}();t.Limits=s}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormDataHelper=void 0;var i=function(){function e(){}return e.buildFormData=function(t,n,i){if(void 0===i&&(i=null),!n||"object"!=typeof n||n instanceof Date||n instanceof File){var r=null==n?"":n;t.append(i,r)}else Object.keys(n).forEach(function(r){e.buildFormData(t,n[r],null!=i?i+"["+r+"]":r)})},e.jsonToFormData=function(t){var n=new FormData;return e.buildFormData(n,t),n},e}();t.FormDataHelper=i},function(e,t,n){(function(t){e.exports=t.$=n(75)}).call(this,n(23))},function(e,t,n){var i;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,l=o.slice,c=o.concat,u=o.push,d=o.indexOf,p={},f=p.toString,h=p.hasOwnProperty,g=h.toString,m=g.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},_=function(e){return null!=e&&e===e.window},b={type:!0,src:!0,noModule:!0};function w(e,t,n){var i,r=(t=t||a).createElement("script");if(r.text=e,n)for(i in b)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[f.call(e)]||"object":typeof e}var x=function(e,t){return new x.fn.init(e,t)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function k(e){var t=!!e&&"length"in e&&e.length,n=E(e);return!y(e)&&!_(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:"3.3.1",constructor:x,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(i=e[t])&&(c&&i&&(x.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&x.isPlainObject(n)?n:{},a[t]=x.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},x.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=s(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&g.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){w(e)},each:function(e,t){var n,i=0;if(k(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(k(Object(e))?x.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(k(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return c.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()});var O=function(e){var t,n,i,r,o,a,s,l,c,u,d,p,f,h,g,m,v,y,_,b="sizzle"+1*new Date,w=e.document,E=0,x=0,S=ae(),k=ae(),O=ae(),T=function(e,t){return e===t&&(d=!0),0},C={}.hasOwnProperty,P=[],A=P.pop,L=P.push,I=P.push,M=P.slice,R=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",N="\\["+D+"*("+F+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+D+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",U=new RegExp(D+"+","g"),z=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),H=new RegExp("^"+D+"*,"+D+"*"),W=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),q=new RegExp("="+D+"*([^\\]'\"]*?)"+D+"*\\]","g"),V=new RegExp(B),G=new RegExp("^"+F+"$"),Y={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},re=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{I.apply(P=M.call(w.childNodes),w.childNodes),P[w.childNodes.length].nodeType}catch(e){I={apply:P.length?function(e,t){L.apply(e,M.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,r){var o,s,c,u,d,h,v,y=t&&t.ownerDocument,E=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return i;if(!r&&((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,g)){if(11!==E&&(d=$.exec(e)))if(o=d[1]){if(9===E){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&_(t,c)&&c.id===o)return i.push(c),i}else{if(d[2])return I.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!O[e+" "]&&(!m||!m.test(e))){if(1!==E)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=b),s=(h=a(e)).length;s--;)h[s]="#"+u+" "+ve(h[s]);v=h.join(","),y=Q.test(e)&&ge(t.parentNode)||t}if(v)try{return I.apply(i,y.querySelectorAll(v)),i}catch(e){}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,i,r)}function ae(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function se(e){return e[b]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:w;return a!==f&&9===a.nodeType&&a.documentElement?(h=(f=a).documentElement,g=!o(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(f.getElementsByClassName),n.getById=le(function(e){return h.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Z.test(f.querySelectorAll))&&(le(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+D+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+D+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+D+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(h.compareDocumentPosition),_=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===w&&_(w,e)?-1:t===f||t.ownerDocument===w&&_(w,t)?1:u?R(u,e)-R(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===f?-1:t===f?1:r?-1:o?1:u?R(u,e)-R(u,t):0;if(r===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ue(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},f):f},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(q,"='$1']"),n.matchesSelector&&g&&!O[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return oe(t,f,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),_(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==f&&p(e);var r=i.attrHandle[t.toLowerCase()],o=r&&C.call(i.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=oe.selectors={cacheLength:50,createPseudo:se,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=oe.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,f,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(_=(f=(c=(u=(d=(p=m)[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===E&&c[1])&&c[2],p=f&&m.childNodes[f];p=++f&&p&&p[g]||(_=f=0)||h.pop();)if(1===p.nodeType&&++_&&p===t){u[e]=[E,f,_];break}}else if(y&&(_=f=(c=(u=(d=(p=t)[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===E&&c[1]),!1===_)for(;(p=++f&&p&&p[g]||(_=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++_||(y&&((u=(d=p[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[E,_]),p!==t)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=R(e,o[a])]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:se(function(e){var t=[],n=[],i=s(e.replace(z,"$1"));return i[b]?se(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:se(function(e){return G.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:he(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function me(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=x++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,l){var c,u,d,p=[E,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===E&&c[1]===s)return p[2]=c[2];if(u[o]=p,p[2]=e(t,n,l))return!0}return!1}}function _e(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function we(e,t,n,i,r,o){return i&&!i[b]&&(i=we(i)),r&&!r[b]&&(r=we(r,o)),se(function(o,a,s,l){var c,u,d,p=[],f=[],h=a.length,g=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:be(g,p,e,s,l),v=n?r||(o?e:h||i)?[]:a:m;if(n&&n(m,v,s,l),i)for(c=be(v,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[f[u]]=!(m[f[u]]=d));if(o){if(r||e){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(m[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?R(o,d):p[u])>-1&&(o[c]=!(a[c]=d))}}else v=be(v===a?v.splice(h,v.length):v),r?r(null,a,v,l):I.apply(a,v)})}function Ee(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],l=a?1:0,u=ye(function(e){return e===t},s,!0),d=ye(function(e){return R(t,e)>-1},s,!0),p=[function(e,n,i){var r=!a&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])p=[ye(_e(p),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return we(l>1&&_e(p),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&Ee(e.slice(l,r)),r<o&&Ee(e=e.slice(r)),r<o&&ve(e))}p.push(n)}return _e(p)}return me.prototype=i.filters=i.pseudos,i.setFilters=new me,a=oe.tokenize=function(e,t){var n,r,o,a,s,l,c,u=k[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(a in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length)),i.filter)!(r=Y[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,l).slice(0)},s=oe.compile=function(e,t){var n,r=[],o=[],s=O[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ee(t[n]))[b]?r.push(s):o.push(s);(s=O(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,l,u){var d,h,m,v=0,y="0",_=o&&[],b=[],w=c,x=o||r&&i.find.TAG("*",u),S=E+=null==w?1:Math.random()||.1,k=x.length;for(u&&(c=a===f||a||u);y!==k&&null!=(d=x[y]);y++){if(r&&d){for(h=0,a||d.ownerDocument===f||(p(d),s=!g);m=e[h++];)if(m(d,a||f,s)){l.push(d);break}u&&(E=S)}n&&((d=!m&&d)&&v--,o&&_.push(d))}if(v+=y,n&&y!==v){for(h=0;m=t[h++];)m(_,b,a,s);if(o){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=A.call(l));b=be(b)}I.apply(l,b),u&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(l)}return u&&(E=S,c=w),_};return n?se(o):o}(o,r))).selector=e}return s},l=oe.select=function(e,t,n,r){var o,l,c,u,d,p="function"==typeof e&&e,f=!r&&a(e=p.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(J,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=Y.needsContext.test(e)?0:l.length;o--&&(c=l[o],!i.relative[u=c.type]);)if((d=i.find[u])&&(r=d(c.matches[0].replace(J,ee),Q.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ve(l)))return I.apply(n,r),n;break}}return(p||s(e,f))(r,t,!g,n,!t||Q.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!d,p(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(j,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),oe}(n);x.find=O,x.expr=O.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=O.uniqueSort,x.text=O.getText,x.isXMLDoc=O.isXML,x.contains=O.contains,x.escapeSelector=O.escape;var T=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&x(e).is(n))break;i.push(e)}return i},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},P=x.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,n){return y(t)?x.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?x.grep(e,function(e){return e===t!==n}):"string"!=typeof t?x.grep(e,function(e){return d.call(t,e)>-1!==n}):x.filter(t,e,n)}x.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?x.find.matchesSelector(i,e)?[i]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},x.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<i;t++)if(x.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)x.find(e,r[t],n);return i>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&P.test(e)?x(e):e||[],!1).length}});var M,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||M,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),L.test(i[1])&&x.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=a.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,M=x(a);var j=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&x(e);if(!P.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?d.call(x(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return A(e,"iframe")?e.contentDocument:(A(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},function(e,t){x.fn[e]=function(n,i){var r=x.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),this.length>1&&(D[e]||x.uniqueSort(r),j.test(e)&&r.reverse()),this.pushStack(r)}});var N=/[^\x20\t\r\n\f]+/g;function B(e){return e}function U(e){throw e}function z(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(N)||[],function(e,n){t[n]=!0}),t}(e):x.extend({},e);var t,n,i,r,o=[],a=[],s=-1,l=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){x.each(n,function(n,i){y(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==E(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return x.each(arguments,function(e,t){for(var n;(n=x.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?x.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,i){var r=y(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,i,r){var o=0;function a(e,t,i,r){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(e<o)){if((n=i.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(c)?r?c.call(n,a(o,t,B,r),a(o,t,U,r)):(o++,c.call(n,a(o,t,B,r),a(o,t,U,r),a(o,t,B,t.notifyWith))):(i!==B&&(s=void 0,l=[n]),(r||t.resolveWith)(s,l))}},u=r?c:function(){try{c()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,u.stackTrace),e+1>=o&&(i!==U&&(s=void 0,l=[n]),t.rejectWith(s,l))}};e?u():(x.Deferred.getStackHook&&(u.stackTrace=x.Deferred.getStackHook()),n.setTimeout(u))}}return x.Deferred(function(n){t[0][3].add(a(0,n,y(r)?r:B,n.notifyWith)),t[1][3].add(a(0,n,y(e)?e:B)),t[2][3].add(a(0,n,y(i)?i:U))}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},o={};return x.each(t,function(e,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=l.call(arguments),o=x.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(z(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)z(r[n],a(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&H.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){n.setTimeout(function(){throw e})};var W=x.Deferred();function q(){a.removeEventListener("DOMContentLoaded",q),n.removeEventListener("load",q),x.ready()}x.fn.ready=function(e){return W.then(e).catch(function(e){x.readyException(e)}),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||W.resolveWith(a,[x]))}}),x.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(x.ready):(a.addEventListener("DOMContentLoaded",q),n.addEventListener("load",q));var V=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===E(n))for(s in r=!0,n)V(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,y(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(x(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},G=/^-ms-/,Y=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function K(e){return e.replace(G,"ms-").replace(Y,X)}var Z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function $(){this.expando=x.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[K(t)]=n;else for(i in t)r[K(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in i?[t]:t.match(N)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||x.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var Q=new $,J=new $,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=K(i.slice(5)),ne(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){J.set(this,e)}):V(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),x.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Q.get(e,t),n&&(!i||Array.isArray(n)?i=Q.access(e,t,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),i=n.length,r=n.shift(),o=x._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){x.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:x.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=x.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Q.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&x.contains(e.ownerDocument,e)&&"none"===x.css(e,"display")},se=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};function le(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return x.css(e,t,"")},l=s(),c=n&&n[3]||(x.cssNumber[t]?"":"px"),u=(x.cssNumber[t]||"px"!==c&&+l)&&re.exec(x.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)x.style(e,t,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,x.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ce={};function ue(e){var t,n=e.ownerDocument,i=e.nodeName,r=ce[i];return r||(t=n.body.appendChild(n.createElement(i)),r=x.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ce[i]=r,r)}function de(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ae(i)&&(r[o]=ue(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}x.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?x(this).show():x(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?x.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var ye,_e,be=/<|&#?\w+;/;function we(e,t,n,i,r){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((o=e[f])||0===o)if("object"===E(o))x.merge(p,o.nodeType?[o]:o);else if(be.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(fe.exec(o)||["",""])[1].toLowerCase(),l=ge[s]||ge._default,a.innerHTML=l[1]+x.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;x.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",f=0;o=p[f++];)if(i&&x.inArray(o,i)>-1)r&&r.push(o);else if(c=x.contains(o.ownerDocument,o),a=me(d.appendChild(o),"script"),c&&ve(a),n)for(u=0;o=a[u++];)he.test(o.type||"")&&n.push(o);return d}ye=a.createDocumentFragment().appendChild(a.createElement("div")),(_e=a.createElement("input")).setAttribute("type","radio"),_e.setAttribute("checked","checked"),_e.setAttribute("name","t"),ye.appendChild(_e),v.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var Ee=a.documentElement,xe=/^key/,Se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ke=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Te(){return!1}function Ce(){try{return a.activeElement}catch(e){}}function Pe(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Pe(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Te;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return x().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),e.each(function(){x.event.add(this,t,r,i,n)})}x.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,p,f,h,g,m=Q.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&x.find.matchesSelector(Ee,r),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(N)||[""]).length;c--;)f=g=(s=ke.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),f&&(d=x.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=x.event.special[f]||{},u=x.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:h.join(".")},o),(p=l[f])||((p=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,h,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),x.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,p,f,h,g,m=Q.hasData(e)&&Q.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(f=g=(s=ke.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=x.event.special[f]||{},p=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||x.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)x.event.remove(e,f+t[c],n,i,!0);x.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=x.event.fix(e),l=new Array(arguments.length),c=(Q.get(this,"events")||{})[s.type]||[],u=x.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=x.event.handlers.call(this,s,c),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?x(r,this).index(c)>-1:x.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(e){return A(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Se.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||x.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),x.fn.extend({on:function(e,t,n,i){return Pe(this,e,t,n,i)},one:function(e,t,n,i){return Pe(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){x.event.remove(this,e,n,t)})}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Le=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function De(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)x.event.add(t,r,c[r][n]);J.hasData(e)&&(s=J.access(e),l=x.extend({},s),J.set(t,l))}}function Ne(e,t,n,i){t=c.apply([],t);var r,o,a,s,l,u,d=0,p=e.length,f=p-1,h=t[0],g=y(h);if(g||p>1&&"string"==typeof h&&!v.checkClone&&Ie.test(h))return e.each(function(r){var o=e.eq(r);g&&(t[0]=h.call(this,r,o.html())),Ne(o,t,n,i)});if(p&&(o=(r=we(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=x.map(me(r,"script"),je)).length;d<p;d++)l=r,d!==f&&(l=x.clone(l,!0,!0),s&&x.merge(a,me(l,"script"))),n.call(e[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,x.map(a,De),d=0;d<s;d++)l=a[d],he.test(l.type||"")&&!Q.access(l,"globalEval")&&x.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&x._evalUrl(l.src):w(l.textContent.replace(Me,""),u,l))}return e}function Be(e,t,n){for(var i,r=t?x.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||x.cleanData(me(i)),i.parentNode&&(n&&x.contains(i.ownerDocument,i)&&ve(me(i,"script")),i.parentNode.removeChild(i));return e}x.extend({htmlPrefilter:function(e){return e.replace(Ae,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s,l,c,u=e.cloneNode(!0),d=x.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(a=me(u),i=0,r=(o=me(e)).length;i<r;i++)s=o[i],l=a[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&pe.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||me(e),a=a||me(u),i=0,r=o.length;i<r;i++)Fe(o[i],a[i]);else Fe(e,u);return(a=me(u,"script")).length>0&&ve(a,!d&&me(e,"script")),u},cleanData:function(e){for(var t,n,i,r=x.event.special,o=0;void 0!==(n=e[o]);o++)if(Z(n)){if(t=n[Q.expando]){if(t.events)for(i in t.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return V(this,function(e){return void 0===e?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ne(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return Ne(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return V(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!ge[(fe.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ne(this,arguments,function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var n,i=[],r=x(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),x(r[a])[t](n),u.apply(i,n.get());return this.pushStack(i)}});var Ue=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},He=new RegExp(oe.join("|"),"i");function We(e,t,n){var i,r,o,a,s=e.style;return(n=n||ze(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||x.contains(e.ownerDocument,e)||(a=x.style(e,t)),!v.pixelBoxStyles()&&Ue.test(a)&&He.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ee.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);i="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",Ee.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,s,l,c=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,x.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var Ve=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","Moz","ms"],Ze=a.createElement("div").style;function $e(e){var t=x.cssProps[e];return t||(t=x.cssProps[e]=function(e){if(e in Ze)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;)if((e=Ke[n]+t)in Ze)return e}(e)||e),t}function Qe(e,t,n){var i=re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Je(e,t,n,i,r,o){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=x.css(e,n+oe[a],!0,r)),i?("content"===n&&(l-=x.css(e,"padding"+oe[a],!0,r)),"margin"!==n&&(l-=x.css(e,"border"+oe[a]+"Width",!0,r))):(l+=x.css(e,"padding"+oe[a],!0,r),"padding"!==n?l+=x.css(e,"border"+oe[a]+"Width",!0,r):s+=x.css(e,"border"+oe[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))),l}function et(e,t,n){var i=ze(e),r=We(e,t,i),o="border-box"===x.css(e,"boxSizing",!1,i),a=o;if(Ue.test(r)){if(!n)return r;r="auto"}return a=a&&(v.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===x.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+Je(e,t,n||(o?"border":"content"),a,i,r)+"px"}function tt(e,t,n,i,r){return new tt.prototype.init(e,t,n,i,r)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=K(t),l=Ge.test(t),c=e.style;if(l||(t=$e(s)),a=x.cssHooks[t]||x.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=re.exec(n))&&r[1]&&(n=le(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(x.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,s=K(t);return Ge.test(t)||(t=$e(s)),(a=x.cssHooks[t]||x.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=We(e,t,i)),"normal"===r&&t in Xe&&(r=Xe[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,i){if(n)return!Ve.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,i):se(e,Ye,function(){return et(e,t,i)})},set:function(e,n,i){var r,o=ze(e),a="border-box"===x.css(e,"boxSizing",!1,o),s=i&&Je(e,t,i,a,o);return a&&v.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Je(e,t,"border",!1,o)-.5)),s&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),Qe(0,n,s)}}}),x.cssHooks.marginLeft=qe(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+oe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(x.cssHooks[e+t].set=Qe)}),x.fn.extend({css:function(e,t){return V(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=ze(e),r=t.length;a<r;a++)o[t[a]]=x.css(e,t[a],!1,i);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)}}),x.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[x.cssProps[e.prop]]&&!x.cssHooks[e.prop]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=tt.prototype.init,x.fx.step={};var nt,it,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){it&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(at):n.setTimeout(at,x.fx.interval),x.fx.tick())}function st(){return n.setTimeout(function(){nt=void 0}),nt=Date.now()}function lt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=oe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ct(e,t,n){for(var i,r=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function ut(e,t,n){var i,r,o=0,a=ut.prefilters.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=nt||st(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var i=x.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=K(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=x.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=ut.prefilters[o].call(c,e,u,c.opts))return y(i.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return x.map(u,ct,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(N);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,l,c,u,d="width"in t||"height"in t,p=this,f={},h=e.style,g=e.nodeType&&ae(e),m=Q.get(e,"fxshow");for(i in n.queue||(null==(a=x._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],rt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||x.style(e,i)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(f))for(i in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=Q.get(e,"display")),"none"===(u=x.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=x.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===x.css(e,"float")&&(l||(p.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=Q.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&de([e],!0),p.done(function(){for(i in g||de([e]),Q.remove(e,"fxshow"),f)x.style(e,i,f[i])})),l=ct(g?m[i]:0,i,p),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),x.speed=function(e,t,n){var i=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in x.fx.speeds?i.duration=x.fx.speeds[i.duration]:i.duration=x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=x.isEmptyObject(e),o=x.speed(t,n,i),a=function(){var t=ut(this,x.extend({},e),o);(r||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=x.timers,a=Q.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ot.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||x.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=x.timers,a=i?i.length:0;for(n.finish=!0,x.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,i,r)}}),x.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),nt=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){it||(it=!0,at())},x.fx.stop=function(){it=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var dt,pt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return V(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})}}),x.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(r=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=x.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(N);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||x.find.attr;pt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=pt[a],pt[a]=r,r=null!=n(e,t,i)?a:null,pt[a]=o),r}});var ft=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function gt(e){return(e.match(N)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}x.fn.extend({prop:function(e,t){return V(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})}}),x.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(t=x.propFix[t]||t,r=x.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(y(e))return this.each(function(t){x(this).addClass(e.call(this,t,mt(this)))});if((t=vt(e)).length)for(;n=this[l++];)if(r=mt(n),i=1===n.nodeType&&" "+gt(r)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=gt(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(y(e))return this.each(function(t){x(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;n=this[l++];)if(r=mt(n),i=1===n.nodeType&&" "+gt(r)+" "){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=gt(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,r,o,a;if(i)for(r=0,o=x(this),a=vt(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+gt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;x.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=y(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,x(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,function(e){return null==e?"":e+""})),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(yt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:gt(x.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=x(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=x.makeArray(t),a=r.length;a--;)((i=r[a]).selected=x.inArray(x.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},v.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in n;var _t=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,i,r){var o,s,l,c,u,d,p,f,g=[i||a],m=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(s=f=l=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!_t.test(m+x.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[x.expando]?e:new x.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:x.makeArray(t,[e]),p=x.event.special[m]||{},r||!p.trigger||!1!==p.trigger.apply(i,t))){if(!r&&!p.noBubble&&!_(i)){for(c=p.delegateType||m,_t.test(c+m)||(s=s.parentNode);s;s=s.parentNode)g.push(s),l=s;l===(i.ownerDocument||a)&&g.push(l.defaultView||l.parentWindow||n)}for(o=0;(s=g[o++])&&!e.isPropagationStopped();)f=s,e.type=o>1?c:p.bindType||m,(d=(Q.get(s,"events")||{})[e.type]&&Q.get(s,"handle"))&&d.apply(s,t),(d=u&&s[u])&&d.apply&&Z(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),t)||!Z(i)||u&&y(i[m])&&!_(i)&&((l=i[u])&&(i[u]=null),x.event.triggered=m,e.isPropagationStopped()&&f.addEventListener(m,bt),i[m](),e.isPropagationStopped()&&f.removeEventListener(m,bt),x.event.triggered=void 0,l&&(i[u]=l)),e.result}},simulate:function(e,t,n){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(i,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),v.focusin||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Q.access(i,t);r||i.addEventListener(e,n,!0),Q.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Q.access(i,t)-1;r?Q.access(i,t,r):(i.removeEventListener(e,n,!0),Q.remove(i,t))}}});var wt=n.location,Et=Date.now(),xt=/\?/;x.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+e),t};var St=/\[\]$/,kt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function Ct(e,t,n,i){var r;if(Array.isArray(t))x.each(t,function(t,r){n||St.test(e)?i(e,r):Ct(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==E(t))i(e,t);else for(r in t)Ct(e+"["+r+"]",t[r],n,i)}x.param=function(e,t){var n,i=[],r=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){r(this.name,this.value)});else for(n in e)Ct(n,e[n],t,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Tt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Pt=/%20/g,At=/#.*$/,Lt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,jt={},Dt={},Ft="*/".concat("*"),Nt=a.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(N)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ut(e,t,n,i){var r={},o=e===Dt;function a(s){var l;return r[s]=!0,x.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function zt(e,t){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&x.extend(!0,e,i),e}Nt.href=wt.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,x.ajaxSettings),t):zt(x.ajaxSettings,e)},ajaxPrefilter:Bt(jt),ajaxTransport:Bt(Dt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,l,c,u,d,p,f,h=x.ajaxSetup({},t),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?x(g):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),_=h.statusCode||{},b={},w={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=It.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)S.always(e[S.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||E;return i&&i.abort(t),k(0,t),this}};if(v.promise(S),h.url=((e||h.url||wt.href)+"").replace(Rt,wt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(N)||[""],null==h.crossDomain){c=a.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Nt.protocol+"//"+Nt.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=x.param(h.data,h.traditional)),Ut(jt,h,t,S),u)return S;for(p in(d=x.event&&h.global)&&0==x.active++&&x.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),r=h.url.replace(At,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Pt,"+")):(f=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(xt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Lt,"$1"),f=(xt.test(r)?"&":"?")+"_="+Et+++f),h.url=r+f),h.ifModified&&(x.lastModified[r]&&S.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&S.setRequestHeader("If-None-Match",x.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&S.setRequestHeader("Content-Type",h.contentType),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ft+"; q=0.01":""):h.accepts["*"]),h.headers)S.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,S,h)||u))return S.abort();if(E="abort",y.add(h.complete),S.done(h.success),S.fail(h.error),i=Ut(Dt,h,t,S)){if(S.readyState=1,d&&m.trigger("ajaxSend",[S,h]),u)return S;h.async&&h.timeout>0&&(l=n.setTimeout(function(){S.abort("timeout")},h.timeout));try{u=!1,i.send(b,k)}catch(e){if(u)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,a,s){var c,p,f,b,w,E=t;u||(u=!0,l&&n.clearTimeout(l),i=void 0,o=s||"",S.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(h,S,a)),b=function(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(h,b,S,c),c?(h.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(x.lastModified[r]=w),(w=S.getResponseHeader("etag"))&&(x.etag[r]=w)),204===e||"HEAD"===h.type?E="nocontent":304===e?E="notmodified":(E=b.state,p=b.data,c=!(f=b.error))):(f=E,!e&&E||(E="error",e<0&&(e=0))),S.status=e,S.statusText=(t||E)+"",c?v.resolveWith(g,[p,E,S]):v.rejectWith(g,[S,E,f]),S.statusCode(_),_=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[S,h,c?p:f]),y.fireWith(g,[S,E]),d&&(m.trigger("ajaxComplete",[S,h]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:r,data:n,success:i},x.isPlainObject(e)&&e))}}),x._evalUrl=function(e){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Wt=x.ajaxSettings.xhr();v.cors=!!Wt&&"withCredentials"in Wt,v.ajax=Wt=!!Wt,x.ajaxTransport(function(e){var t,i;if(v.cors||Wt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),i=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),x.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=x("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var qt,Vt=[],Gt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||x.expando+"_"+Et++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,a,s=!1!==e.jsonp&&(Gt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Gt,"$1"+r):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||x.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?x(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(r)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),v.createHTMLDocument=((qt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(i)):t=a),r=L.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=we([e],t,o),o&&o.length&&x(o).remove(),x.merge([],r.childNodes)));var i,r,o},x.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=gt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&x.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.expr.pseudos.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length},x.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=x.css(e,"position"),u=x(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),y(t)&&(t=t.call(e,n,x.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),r.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-x.css(i,"marginTop",!0),left:t.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||Ee})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;x.fn[e]=function(i){return V(this,function(e,i,r){var o;if(_(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),x.each(["top","left"],function(e,t){x.cssHooks[t]=qe(v.pixelPosition,function(e,n){if(n)return n=We(e,t),Ue.test(n)?x(e).position()[t]+"px":n})}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){x.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return V(this,function(t,n,r){var o;return _(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?x.css(t,n,s):x.style(t,n,r,s)},t,a?r:void 0,a)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),x.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=l.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(l.call(arguments)))}).guid=e.guid=e.guid||x.guid++,r},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=A,x.isFunction=y,x.isWindow=_,x.camelCase=K,x.type=E,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(i=function(){return x}.apply(t,[]))||(e.exports=i);var Yt=n.jQuery,Xt=n.$;return x.noConflict=function(e){return n.$===x&&(n.$=Xt),e&&n.jQuery===x&&(n.jQuery=Yt),x},r||(n.jQuery=n.$=x),x})},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.SocialAuthPopup=void 0;var i=n(9),r=n(29),o=n(54),a=function(){function t(){var e=this;this.eventEmitter=new r.ILoveEventEmitter,this.dispatchEvent=function(t){return e.eventEmitter.dispatchEvent(t)}}return t.open=function(e,n,i){void 0===n&&(n={});var r=t.instance;r.popup&&(clearInterval(r.popupInterval),r.popupInterval=null,r.popup.close(),r.popup=null);var o=r.mergeWindowFeatureProps(n,!0),a="/auth/auth?authclient="+String(e);r.popup=window.open(a,"social_auth_popup",o);var s=r.popup;window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupOpened=!0;var l=function(){window.ilove_socialAuthPopupStatus;var e=window.ilove_socialAuthPopupNewUser;window.ilove_socialAuthPopupOpened=!1,window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupNewUser=void 0,r.popupInterval=null,r.onPopupClosed(e,i),r.popup=null};return new Promise(function(e,t){r.popupInterval=setInterval(function(){var n=r.popup&&!r.popup.closed,i=!1;try{var o=r.popup.location.hostname,a=null!==r.popup.location.href.match("social-login-redirect");i=o===window.location.hostname&&!a}catch(e){}if(!n||s!==r.popup||i)if(clearInterval(r.popupInterval),i)var c=setInterval(function(){r.popup.addEventListener&&(clearInterval(c),r.popup.addEventListener("DOMContentLoaded",function(){var e,n,i=null===(n=null===(e=r.popup)||void 0===e?void 0:e.document)||void 0===n?void 0:n.body;i.style.display="none";var o=Array.from(i.querySelectorAll(".flash")).map(function(e){return e.innerText});r.popup.close(),l(),t({errors:o})}))});else l(),e({})})})},t.focusWindow=function(){var e;null===(e=t.instance.popup)||void 0===e||e.focus()},t.closeWindow=function(){var e;null===(e=t.instance.popup)||void 0===e||e.close()},t.prototype.onPopupClosed=function(n,r){var a,s=this,l=null!==(a=null===r||void 0===r?void 0:r.getAttribute(t.runningFromAttr))&&void 0!==a?a:"auth";n&&o.UserAuth.sendGA_registered(l),e.get("/login").done(function(e){s.userAuth=new o.UserAuth({runningFrom:l}),s.userAuth.loginSuccess(e);var t={socialAuth_isNewUser:n},r=new CustomEvent("userAuth",{detail:t});window.dispatchEvent(r),s.dispatchEvent(new i.IloveEvent("auth:success",t))}).fail(function(e,t,n){})},Object.defineProperty(t,"instance",{get:function(){return window.ilove_socialAuthPopupInstance||(window.ilove_socialAuthPopupInstance=new t),window.ilove_socialAuthPopupInstance},enumerable:!1,configurable:!0}),t.prototype.mergeWindowFeatureProps=function(e,t){void 0===t&&(t=!1);var n=Object.assign({resizable:"yes",scrollbars:"no",toolbar:"no",menubar:"no",location:"no",directories:"no",status:"yes",width:450,height:380,left:null,top:null},e);if(n.left=(window.innerWidth-n.width)/2,n.top=(window.innerHeight-n.height)/2,t){var i=[];for(var r in n)n.hasOwnProperty(r)&&i.push(r+"="+n[r]);return i.join(",")}return n},t.runningFromAttr="data-running-from",t.addEventListener=function(e,n){return t.instance.eventEmitter.addEventListener(e,n)},t}();t.SocialAuthPopup=a}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.FileStack=t.File=void 0;var i=n(13),r=function(){return function(e){void 0===e&&(e={}),this.reUploaded=!1,this.server_filename=null,this.filename=null,this.rotate=null,this.password=null,this.file=null,this.elementArray=[],this.processed=!0,Object.assign(this,e),null!=this.filename&&(this.filename=this.filename.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim())}}();t.File=r;var o=function(){function t(){this.files=[],this.ignored=[],this.removed=[],this.limited=[]}return t.prototype.addFile=function(e){e=this.cleanName(e),this.files.push(e),this.onFileAdd()},t.prototype.getFile=function(t){var n=null;return e.each(this.files,function(e,i){i.id!=t||(n=i)}),n},t.prototype.getFileIndex=function(t){var n=0;return e.each(this.files,function(e,i){if(i.id==t)return n=e}),n},t.prototype.swapFilesPositionsByIndex=function(e,t){var n;e!=t&&this.files[e]&&this.files[t]&&(n=[this.files[t],this.files[e]],this.files[e]=n[0],this.files[t]=n[1])},t.prototype.move=function(e,t){for(;e<0;)e+=this.files.length;for(;t<0;)t+=this.files.length;if(t>=this.files.length)for(var n=t-this.files.length;1+n--;)this.files.push(void 0);this.files.splice(t,0,this.files.splice(e,1)[0])},t.prototype.getFileByServerFilename=function(t){var n=null;return e.each(this.files,function(e,i){i.server_filename!=t||(n=i)}),n},t.prototype.getFirst=function(){return this.files[0]},t.prototype.getLast=function(){return this.files[this.files.length-1]},t.prototype.onFileAdd=function(){e(".numPages").html(this.files[0].numPages)},t.prototype.updateFile=function(t,n){var i=null,r=this;return e.each(this.files,function(e,o){if(o.id==t)return n=r.cleanName(n),Object.assign(o,n),i=o}),i},t.prototype.removeFile=function(t,n){void 0===n&&(n=!1);var i=this;e.each(this.files,function(e,r){if(r&&r.id==t){if(r.removed=!0,i.removed.push(t),e>-1&&i.files.splice(e,1),0==n){var o=new CustomEvent("fileRemoved",{detail:{fileId:t}});window.dispatchEvent(o)}}else;})},t.prototype.removeFilesExcept=function(t){var n=this;e.each(this.files,function(e,i){i&&i.id!==t&&e>-1&&n.files.splice(e,1)})},t.prototype.removeAllFiles=function(e){var t=this;void 0===e&&(e=!1),this.files.forEach(function(n){t.removeFile(n.id,e)})},t.prototype.limitFile=function(t,n){void 0===n&&(n=!1);var i=this;e.each(this.files,function(e,r){if(r&&r.id==t){if(i.limited.push(t),r.limited=!0,window.plupload&&(r.status=window.plupload.FAILED,r.error=window.plupload.GENERIC_ERROR),0==n){var o=new CustomEvent("fileLimited",{detail:{fileId:t}});window.dispatchEvent(o)}}else;})},t.prototype.resetLimitedFiles=function(){e.each(this.files,function(e,t){t&&t.limited&&1==t.limited&&(delete t.limited,t.status==window.plupload.FAILED&&t.error==window.plupload.GENERIC_ERROR&&(t.status=window.plupload.QUEUED,delete t.error))}),this.limited=[]},t.prototype.removeLimitedFiles=function(e){var t=this;void 0===e&&(e=!1);this.files=this.files.filter(function(e){return-1===t.limited.indexOf(e.id)});var n=[].concat(this.limited);this.limited=[],!0!==e&&n.forEach(function(e){var t=new CustomEvent("fileRemoved",{detail:{fileId:e}});window.dispatchEvent(t)})},t.prototype.count=function(){return this.files.length},t.prototype.countNotIgnored=function(t){void 0===t&&(t=!1);var n=0;return e.each(this.files,function(e,i){1==t&&1==i.limited||1==i.ignored||n++}),n},t.prototype.countNotLimited=function(){var t=0;return e.each(this.files,function(e,n){!0!==n.limited&&t++}),t},t.prototype.countIgnored=function(){var t=0;return e.each(this.files,function(e,n){1==n.ignored&&t++}),t},t.prototype.countLimited=function(){var t=0;return e.each(this.files,function(e,n){1==n.limited&&t++}),t},t.prototype.size=function(){var t=0;return e.each(this.files,function(e,n){t+=parseInt(n.size)}),t},t.prototype.fileSize=function(e){var t=this,n=0;if(e instanceof Array)e.forEach(function(e,i){n+=t.fileSize(e)});else{var i=this.getFile(e);n=parseInt(i.size)}return n},t.prototype.getFileSizeNotIgnored=function(e){void 0===e&&(e=!1);var t=0;return this.files.forEach(function(n,i){n&&(1!=e||1!=n.limited)&&1!=n.ignored&&n.size&&(t+=parseInt(n.size.toString()))}),t},t.prototype.getFilePagesNotIgnored=function(e){void 0===e&&(e=!1);var t=0;return this.files.forEach(function(n,i){n&&(1!=e||1!=n.limited)&&1!=n.ignored&&n.file&&n.file.numPages&&(t+=n.file.numPages?parseInt(n.file.numPages.toString()):0)}),t},t.prototype.cleanName=function(e){return"filename"in e&&null!=e.filename&&(e.filename,e.filename.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim(),e.filename=e.filename.replace(/"/g,"")),"name"in e&&null!=e.name&&(e.name,e.name.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim(),e.name=e.name.replace(/"/g,"")),e},t.prototype.onUploaded=function(){return new Promise(function(e,t){})},t.prototype.checkFilesUploaded=function(){var e=!0,t=this;return this.files.forEach(function(n){if(void 0===n||null===n)return!0;if("percent"in n&&!(n.percent<100)&&("server_filename"in n||"error"in n&&!("error"in n&&0==n.error))||(e=!1),1==n.error){e=!1;try{window.Toastr.error(i.Lang.t(n.errorData.error.param.type[0])+"<br>"+n.name,i.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"})}catch(e){}t.removeFile(n.id)}}),e},t.prototype.getUploadedFiles=function(){var e={};return this.files.forEach(function(t){var n={filename:t.name,server_filename:t.server_filename};t.rename&&(n.filename=t.rename),t.password&&(n.password=t.password),t.pages&&(n.pages=t.pages),t.rotate&&(n.rotate=t.rotate),t.elementArray&&(n.elementArray=t.elementArray),t.processed&&(n.processed=t.processed),e[t.id]=n}),e},t}();t.FileStack=o}).call(this,n(1))},function(e,t,n){e.exports=function(e){"use strict";var t="transitionend";function n(t){var n=this,r=!1;return e(this).one(i.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||i.triggerTransitionEnd(n)},t),this}var i={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}return t&&document.querySelector(t)?t:null},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(n){e(n).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r],a=t[r],s=a&&i.isElement(a)?"element":(l=a,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(s))throw new Error(e.toUpperCase()+': Option "'+r+'" provided type "'+s+'" but expected type "'+o+'".')}var l},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?i.findShadowRoot(e.parentNode):null}};return(e=e&&e.hasOwnProperty("default")?e.default:e).fn.emulateTransitionEnd=n,e.event.special[i.TRANSITION_END]={bindType:t,delegateType:t,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},i}(n(1))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumContext=void 0;var o=n(13),a=n(72),s=n(55),l=n(105),c=n(106),u=n(114),d=n(116),p=function(e){function t(t){var n=e.call(this,t)||this;return n.contentName="PremiumContext",n.onDomReadyCalledOnce=!1,n._onDomReady=function(e){n.onDomReadyCalledOnce||n.updateTriggerReasonText(e),n.onDomReadyCalledOnce=!0,n.updateTitleText(e)},n.triggerReason="triggerReason"in t?t.triggerReason:void 0,n.limits="limits"in t?t.limits:void 0,n.premiumFeatureName="premiumFeatureName"in t?t.premiumFeatureName:void 0,n.tool=t.tool,n}return r(t,e),t.prototype.initAllFeaturesTooltip=function(e){if(!this.tooltipRoot){if(this.tooltipRoot=e.querySelector(".new-premium__all-features-tooltip"),!this.tooltipRoot)throw"'All features' dom element not found";var t=e.querySelector(".new-premium__all-features-tooltip__html-template");if(!t)throw"htmlTemplate not found for 'All features' tooltip";window.tippy(this.tooltipRoot,{allowHTML:!0,theme:"light new-premium-all-features-tooltip",content:t.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},t.prototype.initOCRTooltip=function(e){if(!this.tooltipRoot_OCR){if(this.tooltipRoot_OCR=e.querySelector(".new-premium__ocr-tooltip"),!this.tooltipRoot_OCR)throw"'OCR' dom element not found";var t=e.querySelector(".new-premium__ocr-features-tooltip__html-template");if(!t)throw"htmlTemplate not found for 'OCR' tooltip";window.tippy(this.tooltipRoot_OCR,{allowHTML:!0,theme:"light new-premium__ocr-tooltip",content:t.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},t.prototype.updateTitleText=function(e){var t=e.querySelector(".dialog__title");if(!t)throw"'Title' element not found";var n=this.isTrialEnabledForThisTool()&&this.canUserDoTrial();switch(this.userType){case"guest":case"user":return void(t.innerHTML=n?this.getTranslation(e,"title_canTrial"):this.getTranslation(e,"title_cannotTrial"));case"premium":return;default:throw"Unhandled userType '"+this.userType+"' for updateTitleText"}},t.prototype.updateTriggerReasonText=function(e){var t,n,i,r,s,l,c=e.querySelector(".new-premium__trigger-reason_sub1"),u=e.querySelector(".new-premium__trigger-reason_sub2");if(!c)throw"'Trigger Reason subtitle1' element not found";if(!u)throw"'Trigger Reason subtitle2' element not found";var d,p,f=null!==(r=this.tool)&&void 0!==r?r:null===(s=this.limits)||void 0===s?void 0:s.tool,h=null===(l=window.ilovepdfConfig)||void 0===l?void 0:l.subtool,g=!1;switch(this.triggerReason){case a.REASON.ERROR_FEATURE:var m="triggerReason_errorFeature";switch(f){case"sign":case"pdfa":case"pdfoffice":m+="_"+f}["pdfexcel","pdfword"].includes(h)&&(m+="_"+h),this.premiumFeatureName&&(m+="_"+this.premiumFeatureName),c.innerHTML=this.getTranslation(e,m+"_subtitle1"),"ocr"===this.premiumFeatureName&&"pdfoffice"===f&&(g=!0,c.innerHTML=c.innerHTML.replace("OCR",'<span class="new-premium__ocr-tooltip" data-template="new-premium__ocr-features-tooltip__html-template">OCR</span>')),u.innerHTML=this.getTranslation(e,m+"_subtitle2");break;case a.REASON.ERROR_FILES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";d=(t=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],p=t[1],c.innerHTML=o.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesNum_subtitle1"),{n:d.files}),u.innerHTML=o.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesNum_subtitle2"),{n:p.files});break;case a.REASON.ERROR_SIZE:if(!this.limits)throw"Limits object is needed to translate subtitles' text";d=(n=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],p=n[1],c.innerHTML=o.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesSize_subtitle1"),{n:d.mb}),u.innerHTML=o.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesSize_subtitle2"),{n:p.mb/1e3});break;case a.REASON.ERROR_PAGES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";d=(i=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],p=i[1],c.innerHTML=o.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesPages_subtitle1"),{n:d.pages}),u.innerHTML=o.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesPages_subtitle2"),{n:p.pages});break;case null:c.style.display="none",u.style.display="none";break;default:throw"Unknown triggerReason '"+this.triggerReason+"'"}this.initAllFeaturesTooltip(e),g&&this.initOCRTooltip(e)},t.prototype.getTranslation=function(e,t,n){if(void 0===n&&(n={}),this._translations){if(!(t in this._translations))throw"Translation for key '"+t+"' not found";return this._translations[t]}var i=e.querySelector(".new-premium__text-translations");if(!i)throw"'Text translations' DOM not found";if("html"===i.dataset.format){var r=i.querySelector("[data-key="+t+"]");if(!r)throw"Key '"+t+"' not found";return r.innerHTML}return this._translations=JSON.parse(i.innerHTML),this._translations?this.getTranslation(e,t):null},t.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new l.AuthState},t.prototype._getInitialState=function(){switch(this.userType){case"guest":return new l.AuthState;case"user":return this.canUserDoTrial()&&this.isTrialEnabledForThisTool()?new u.CanTrialState:new c.CannotTrialState;case"premium":return new d.PremiumState;default:throw"Not implemented 'initialState' when userType is "+this.userType}},t}(s.ContextBase);t.PremiumContext=p},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(46)],void 0===(o="function"==typeof(i=function(e){var t="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[],65517:[]}},e.parseMetaData=function(t,n,i,r){i=i||{},r=r||{};var o=this,a=i.maxMetaDataSize||262144,s=!("undefined"!=typeof DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!s&&e.readFile(e.blobSlice.call(t,0,a),function(t){if(t.target.error)n(r);else{var a,s,l,c,u=t.target.result,d=new DataView(u),p=2,f=d.byteLength-4,h=p;if(65496===d.getUint16(0)){for(;p<f&&((a=d.getUint16(p))>=65504&&a<=65519||65534===a)&&(s=d.getUint16(p+2)+2,!(p+s>d.byteLength));){if((l=e.metaDataParsers.jpeg[a])&&!i.disableMetaDataParsers)for(c=0;c<l.length;c+=1)l[c].call(o,d,p,s,r,i);h=p+=s}!i.disableImageHead&&h>6&&(u.slice?r.imageHead=u.slice(0,h):r.imageHead=new Uint8Array(u).subarray(0,h))}n(r)}},"readAsArrayBuffer")||n(r)},e.replaceHead=function(t,n,i){e.parseMetaData(t,function(r){i(new Blob([n,e.blobSlice.call(t,r.imageHead.byteLength)],{type:"image/jpeg"}))},{maxMetaDataSize:256,disableMetaDataParsers:!0})},e.hasMetaOption=function(e){return e&&e.meta};var n=e.transform;e.transform=function(t,i,r,o,a){e.hasMetaOption(i)?e.parseMetaData(o,function(a){n.call(e,t,i,r,o,a)},i,a):n.apply(e,arguments)}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.LinkTitle=void 0;var n=function(){function t(){}return t.disable=function(t){e(t).hover(function(){var t=e(this).attr("data-title");if(void 0===t||!1===t){var n=e(this).attr("title");e(this).attr("data-title",n)}e(this).attr("title","")},function(){var t=e(this).attr("data-title");e(this).attr("title",t)})},t}();t.LinkTitle=n}).call(this,n(1))},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(i||(i={}))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractAuthState=void 0;var o=n(54),a=n(19),s=n(76),l=n(9),c=n(30),u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.abstractAuthInited=!1,n.INITIAL_SCREEN="register",n.ELEMENTS_TO_HIDE_IN_TEMPLATE=[".form__title",".brand"],n.setUserTimeZoneInCookie=function(){var e=c.Tools.getBrowserTimezone();"UTC"!==e&&window.Cookies.set("auth_tz",e)},n._onSocialAuthSuccess=function(e){!0===e.detail.socialAuth_isNewUser?n._abstractOnRegisterSuccess({from_auth_social_login:!0}):n._abstractOnLoginSuccess({from_auth_social_login:!0})},n.setSocialAuthLinkContextPlacement=function(){var e=n.domRoot.querySelectorAll(".auth-link"),t="dialog"===n.ctx.getContextPlacement()?"popup":"auth",i=s.SocialAuthPopup.runningFromAttr;e.forEach(function(e){e.setAttribute(i,t),e.removeAttribute("onclick"),e.removeAttribute("href");var r=e.getAttribute("data-provider"),o=n.t("social_provider_"+r),a="login"===e.getAttribute("data-auth-action")?"backdrop_social_signin_title":"backdrop_social_signup_title",l=n.t(a,{social_provider:o}),c=n.t("backdrop_social_subtitle");e.addEventListener("click",function(){var t=n.domStateRoot.querySelector(".auth-screens__backdrop--social"),i=document.createElement("div");i.innerHTML=t.innerHTML,n.showBackdrop(i,l,c),n.setBackdropCallback(function(){s.SocialAuthPopup.focusWindow()},function(){s.SocialAuthPopup.closeWindow(),n.clearBackdrop()}),s.SocialAuthPopup.open(r,{},e).then(n.clearBackdrop,function(e){n.clearBackdrop(),e.errors&&n.showFlashMessage(e.errors[0])})})})},n.clearInputs=function(){n.domStateRoot.querySelectorAll("input").forEach(function(e){return e.value=""})},n._abstractOnResetSubmit=function(t){var i=n.domRoot.querySelector('[data-screen="reset"] form'),r=e(i).serializeArray();n.showLoadingScreen(),n.userAuth.sendResetPasswordEmail(r).then(function(e){var t=n.domStateRoot.querySelector(".reset-password-success-msg");if(!t)throw"'Reset password success' element not found";t.innerHTML=e.data.status_msg,n.changeScreen("reset-success"),n.clearLoadingScreen()},function(e){var t,i,r,o,a;n.clearLoadingScreen();var s=null===(t=null===e||void 0===e?void 0:e.responseJSON)||void 0===t?void 0:t.data;throw(null===(i=null===s||void 0===s?void 0:s.errors)||void 0===i?void 0:i.email)?n.resetPasswordErrorDom.innerHTML=s.errors.email.join(","):n.resetPasswordErrorDom.innerHTML=null!==(a=null===(o=null===(r=null===e||void 0===e?void 0:e.responseJSON)||void 0===r?void 0:r.data)||void 0===o?void 0:o.status_msg)&&void 0!==a?a:"",e})},n._abstractOnLoginSubmit=function(t){var i=n.domRoot.querySelector('[data-screen="login"] form'),r=e(i).serializeArray();n.userAuth.extraLoginParams&&n.userAuth.extraLoginParams.forEach(function(e){r.push(e)}),n.showLoadingScreen(),n.userAuth.login(r)},n._abstractOnRegisterSubmit=function(t){var i=n.domRoot.querySelector('[data-screen="register"] form'),r=e(i).serializeArray();n.showLoadingScreen(),n.userAuth.register(r)},n._abstractOnLoginSuccess=function(e){n.clearLoadingScreen(),!0===(null===e||void 0===e?void 0:e.from_auth_social_login)||o.UserAuth.sendEventUserAuth(),n._onLoginSuccess(e),n.dispatchEvent(new l.IloveEvent("login:success"))},n._abstractOnRegisterSuccess=function(e){n.clearLoadingScreen(),!0===(null===e||void 0===e?void 0:e.from_auth_social_login)||o.UserAuth.sendEventUserAuth(),n._onRegisterSuccess(e),n.dispatchEvent(new l.IloveEvent("register:success"))},n._abstractOnLoginError=function(e){n.genericAuthErrorHandler(e)},n._abstractOnRegisterError=function(e){n.genericAuthErrorHandler(e)},n.genericAuthErrorHandler=function(e){n.clearLoadingScreen(),n.clearFlashMessage();var t=e.responseJSON;if(t||"object"!=typeof e||(t=e),t){var i=Object.keys(t)[0],r=t[i][0];n.showFlashMessage(r),n.check2FactorError(i)}},n}return r(n,t),n.prototype.initAbstractAuth=function(){var e=this;if(!this.abstractAuthInited){var t=this.domStateRoot;this.ELEMENTS_TO_HIDE_IN_TEMPLATE.forEach(function(n){return e.hideHtmlElement(t,n)}),this.setSocialAuthLinkContextPlacement(),s.SocialAuthPopup.addEventListener("auth:success",this._onSocialAuthSuccess),this.userAuth=new o.UserAuth({onLoginSucess:this._abstractOnLoginSuccess,onRegisterSuccess:this._abstractOnRegisterSuccess,onLoginError:this._abstractOnLoginError,onRegisterError:this._abstractOnRegisterError,runningFrom:"dialog"===this.ctx.getContextPlacement()?"popup":"auth"}),this.setUserTimeZoneInCookie(),this.initOverrideFormActions(),this.init2FactorAuth(),this.abstractAuthInited=!0}},n.prototype.showFlashMessage=function(e){var t=document.createElement("div");t.classList.add("flash"),t.innerText=e,this.currentScreen.querySelector(".social-auth").appendChild(t)},n.prototype.clearFlashMessage=function(){this.domStateRoot.querySelectorAll(".flash").forEach(function(e){return e.remove()})},Object.defineProperty(n.prototype,"extraLoginParams",{set:function(e){this._extraLoginParams=e,e||(this.userAuth.extraLoginParams=null);var t=[];for(var n in e)t.push({name:n,value:e[n]});this.userAuth.extraLoginParams=t},enumerable:!1,configurable:!0}),n.prototype.initOverrideFormActions=function(){var e=this,t=this.domRoot;t.querySelectorAll("form").forEach(function(t){t.addEventListener("submit",function(t){t.preventDefault(),e.clearFlashMessage()})}),t.querySelectorAll("a").forEach(function(e){e.getAttribute("href").startsWith("javascript")||(e.setAttribute("data-a-href",e.href),e.href="javascript:;")}),this.goRegisterScreenBtn.addEventListener("click",function(t){return e.changeScreen("register")}),this.goLoginScreenBtn.addEventListener("click",function(t){return e.changeScreen("login")}),this.goForgetPasswordBtn.addEventListener("click",function(t){return e.changeScreen("reset")}),this.goBackFromResetScreenBtn.addEventListener("click",function(t){return e.changeScreen("login")}),this.okResetSuccessBtn.addEventListener("click",function(t){return e.dispatchEvent(new l.IloveEvent("end"))}),this.redefineActionsForLoginScreen(),this.redefineActionsForRegisterScreen(),this.redefineActionsForResetScreen()},Object.defineProperty(n.prototype,"goBackFromResetScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goBackReset");if(!e)throw"'Go back from reset screen' button not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"okResetSuccessBtn",{get:function(){var e=this.domRoot.querySelector("#resetSuccessBtn");if(!e)throw"'OkResetSuccessBtn' button not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"goRegisterScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goRegister");if(!e)throw"'Go register screen' button not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"goLoginScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goLogin");if(!e)throw"'Go login screen' button not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"goForgetPasswordBtn",{get:function(){var e=this.domRoot.querySelector("#forget-password");if(!e)throw"'Go forget password screen' button not found";return e},enumerable:!1,configurable:!0}),n.prototype.redefineActionsForLoginScreen=function(){this.domRoot.querySelector('[data-screen="login"]').querySelector("form").addEventListener("submit",this._abstractOnLoginSubmit)},n.prototype.redefineActionsForResetScreen=function(){var e=this,t=this.domRoot.querySelector('[data-screen="reset"]');t.querySelector("form").addEventListener("submit",this._abstractOnResetSubmit);var n=t.querySelector("form #userpasswordresetform-email");if(!n)throw"Reset password email input not found";n.addEventListener("input",function(){return e.resetPasswordErrorDom.innerHTML=""})},Object.defineProperty(n.prototype,"resetPasswordErrorDom",{get:function(){var e=this.domStateRoot.querySelector("[data-screen='reset'] span.error");if(!e)throw"Error div not found";return e},enumerable:!1,configurable:!0}),n.prototype.redefineActionsForRegisterScreen=function(){var e=this.domRoot.querySelector('[data-screen="register"]').querySelector("form"),t=e.querySelector("#signupform-timezone"),n=c.Tools.getBrowserTimezone();"UTC"!==n&&(t.value=n),e.addEventListener("submit",this._abstractOnRegisterSubmit)},n.prototype.hideHtmlElement=function(e,t){e.querySelectorAll(t).forEach(function(e){e.style.display="none"})},n.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},n.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},n.prototype.init2FactorAuth=function(){this.domRoot.querySelector(".field-loginform-google_authenticator_code").style.display="none"},n.prototype.check2FactorError=function(e){"gacIsEmpty"==e&&(this.domRoot.querySelector(".field-loginform-google_authenticator_code").style.display="block",this.domRoot.querySelector(".field-loginEmail").style.display="none",this.domRoot.querySelector(".field-inputPasswordAuth").style.display="none")},n}(a.StateBase);t.AbstractAuthState=u}).call(this,n(1))},function(e,t,n){"use strict";function i(){return window.navigator.mockUserAgent||window.navigator.userAgent}function r(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}function o(e){return void 0===e&&(e=i()),-1!==e.indexOf("FBAN")||-1!==e.indexOf("FBAV")}function a(e){return void 0===e&&(e=i()),/FxiOS/i.test(e)}function s(e){return void 0===e&&(e=i()),/EdgiOS/i.test(e)}function l(e){return void 0===e&&(e=i()),e.indexOf("Opera Mini")>-1}function c(e){return void 0===e&&(e=i()),/Android/.test(e)}function u(e){return void 0===e&&(e=i()),/iPhone|iPod|iPad/.test(e)}function d(e){return void 0===e&&(e=i()),/\bGSA\b/.test(e)}function p(e){return void 0===e&&(e=i()),/QQBrowser/.test(e)}function f(e){return void 0===e&&(e=i()),!!u(e)&&(!!d(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}function h(e){return void 0===e&&(e=i()),!!c(e)&&(/Version\/[\d.]+/.test(e)&&!l(e))}function g(){var e=i();return/Macintosh.*AppleWebKit(?!.*Safari)/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.supportsPopups=t.isMacOsCna=t.isIEIntranet=t.isIECompHeader=t.isIE=t.isWebView=t.isAndroidWebview=t.isIosWebview=t.isQQBrowser=t.isGoogleSearchApp=t.isIos=t.isAndroid=t.isOperaMini=t.isEdgeIOS=t.isFirefoxIOS=t.isFacebookWebView=t.isStandAlone=t.isDevice=t.getUserAgent=void 0,t.getUserAgent=i,t.isDevice=function(){return!!i().match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)},t.isStandAlone=r,t.isFacebookWebView=o,t.isFirefoxIOS=a,t.isEdgeIOS=s,t.isOperaMini=l,t.isAndroid=c,t.isIos=u,t.isGoogleSearchApp=d,t.isQQBrowser=p,t.isIosWebview=f,t.isAndroidWebview=h,t.isWebView=function(){return o()||f()||h()},t.isIE=function(){return!!window.document.documentMode||Boolean(window.navigator&&window.navigator.userAgent&&/Edge|MSIE/i.test(window.navigator.userAgent))},t.isIECompHeader=function(){var e=window.document.querySelector('meta[http-equiv="X-UA-Compatible"]'),t=window.document.querySelector('meta[content="IE=edge"]');return!(!e||!t)},t.isIEIntranet=function(){if(window.document.documentMode)try{var e=window.status;return window.status="testIntranetMode","testIntranetMode"===window.status&&(window.status=e,!0)}catch(e){return!1}return!1},t.isMacOsCna=g,t.supportsPopups=function(e){return void 0===e&&(e=i()),!(f(e)||h(e)||l(e)||a(e)||s(e)||o(e)||p(e)||g()||r())}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Tools=void 0;var i=n(112),r=function(){function t(){}return t.bytesToSize=function(e){if(0==e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][t]},t.mbytesToSize=function(e){return t.bytesToSize(1e6*e)},t.convertPointsToPixels=function(e){return e*(1+1/3)},t.strCapitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.isRTL=function(){return e("body").hasClass("rtl")},Object.defineProperty(t,"textDirection",{get:function(){return t.isRTL()?"right":"left"},enumerable:!1,configurable:!0}),t.getClosestNumber=function(e,t){for(var n=Math.abs(t[0]-e),i=0,r=1;r<t.length;r++){var o=Math.abs(t[r]-e);o<n&&(i=r,n=o)}return t[i]},t.createHTMLFromText=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.modalView=function(e){var n='<div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content">';return n="title"in e?n+'<div class="modal-header"><h4 class="modal-title">'+e.title+'</h4><button type="button" class="close" data-dismiss="modal">'+t.svgClose()+"</button></div>":n+'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close">'+t.svgClose()+"</button></div>","content"in e?n=n+'<div class="modal-body">'+e.content+"</div>":n+='<div class="modal-body"></div>',"btn"in e&&(n=n+'<div class="modal-footer"><button type="button" class="btn btn-link" data-dismiss="modal">'+e.btn+"</button></div>"),n+="</div></div></div>"},t.feedbackModalView=function(e){var t=e.id,n=e.title,i=void 0===n?"":n,r=e.content,o=void 0===r?"":r,a=e.img,s=void 0===a?"":a,l=e.primaryBtn,c=void 0===l?"Yes":l,u=e.secondaryBtn,d="";if(i){var p="";s&&(p='<img id="'+t+'-img" src='+s+' alt="Visual feedback" />'),d=p+'<span id="'+t+'-title" class="modal-title">'+i+"</span>"}var f="";return o&&(f='<div id="'+t+'-content" class="modal-body">'+o+"</div>"),('\n            <div class="modal modal--alert fade" id="'+t+'" aria-labelledby="'+t+'Modal" tabindex="-1" role="dialog"\n            aria-hidden="true">\n                <div class="modal-dialog modal-dialog-centered" role="document">\n                    <div class="modal-content modal-content--alert">\n                        <div class="modal-header">\n                            '+d+'\n                            <button id="'+t+'-close-btn" type="button" class="close" data-dismiss="modal">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polygon fill="$grey-10" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>\n                            </button>\n                        </div>\n                        '+f+'\n                        <div class="modal-actions">\n                            <button id="'+t+'-secondary-btn" type="button" class="btn btn--secondary" data-dismiss="modal">'+(void 0===u?"No":u)+'</button>\n                            <button id="'+t+'-primary-btn" type="button" class="btn" data-dismiss="modal">'+c+"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ").trim()},t.codeModalView=function(e){return('\n        <div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog"\n        aria-hidden="true">\n            <div class="modal-dialog modal-dialog-centered" role="document">\n                <div class="modal-content modal-content--code">\n                    <div class="code-editor code-editor--light">\n                        <div class="code-editor__libraries">\n                            <div class="code-editor__libraries__title black-3">\n                                <span>'+e.title+'</span>\n                            </div>\n                        </div>\n                        <div class="code-editor__content">\n                            <textarea class="code-editor__content__textarea" data-mode="javascript" readonly>\n'+e.code+"\n                            </textarea>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        ").trim()},t.modalViewOk=function(e){return e.btn=i.Lang.t("Ok"),t.modalView(e)},t.setInputCursorAtTheEnd=function(e){var t=e.val().length;e.focus(),e[0].setSelectionRange(t,t)},t.svgClose=function(){return t.svgRemove(12,12)},t.svgRotate=function(e,t){return void 0===e&&(e=14),void 0===t&&(t=16),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+t+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#47474F" fill-rule="evenodd"/></svg>'},t.svgRemove=function(e,t){return void 0===e&&(e=12),void 0===t&&(t=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+t+'" viewBox="0 0 12 12"><polygon fill="#47474F" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},t.svgArrowRight=function(e,t){return void 0===e&&(e=12),void 0===t&&(t=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+t+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},t.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},t.randomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},t.colorpicker=function(t){var n=null;n=1==e(t).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"},1==e(t).data("input")&&(n.showInput=!0),1==e(t).data("empty")&&(n.allowEmpty=!0,1==e(t).data("limit")&&n.palette.push(["transparent"]),n.change=function(n){n=0===n._a?"transparent":n.toHexString(),e(t).val(n)}),1==e(t).data("inline")&&(n.flat=!0),1==e(t).data("aplha")&&(n.showAlpha=!0),n.clickoutFiresChange=!0;try{e(t).spectrum(n)}catch(t){}},t.isElementInView=function(t,n){return void 0===n&&(n=!1),0!=t.length&&(0==n?t.offset().top<e(window).height()&&t.offset().top+t.height()>60:t.offset().top+t.height()<e(window).height()&&t.offset().top>60)},t.keepInNumericBounds=function(e,t,n){return null!==e&&n<e&&(n=e),null!==t&&n>t&&(n=t),n},t.scrollControl=function(e,t,n){var i=0;e.scroll(function(){var r=e.scrollTop();r>i&&"function"==typeof n&&n(),i>r&&"function"==typeof t&&t(),i=r})},t.loadingFromPreviousStart=function(){var t=e(".fromPrevious");t.length>=0?t.css("display","flex"):(t=e('<div class="wait fromPrevious">'+i.Lang.t("previousTaskLoading")+"</div>"),e(".main").append(t),t.css("display","flex"))},t.loadingFromPreviousFail=function(){var t="<div><p>"+i.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+i.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+i.Lang.t("previousFailContinue")+"</button></p></div>";e(".fromPrevious").html(t).css("background-image","none")},t.loadingFromPreviousEnd=function(){e(".fromPrevious").remove()},t.serializeFormData=function(e){var t={};try{for(var n=0,i=e.entries();n<i.length;n++){var r=i[n],o=r[0],a=r[1];t[o]=a}}catch(e){}return t={info:"form data serialize failed"}},t.parseTemplate=function(t,n,i){return void 0===n&&(n=null),void 0===i&&(i="simple"),null!=n&&("simple"==i&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),"dollar"==i&&e.each(n,function(e,n){t=t.replace("${"+e+"}",n)})),t},t.isEmail=function(e){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},t}();t.Tools=r}).call(this,n(1))},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(87)],void 0===(o="function"==typeof(i=function(e,t){e.tinysort={defaults:t.defaults},e.fn.extend({tinysort:function(){var e,n,i=Array.prototype.slice.call(arguments);i.unshift(this),e=t.apply(null,i),n=e.length;for(var r=0,o=this.length;r<o;r++)r<n?this[r]=e[r]:delete this[r];return this.length=n,this}}),e.fn.tsort=e.fn.tinysort})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r;!function(o,a){"use strict";void 0===(r="function"==typeof(i=function(){return a})?i.call(t,n,t,e):i)||(e.exports=r)}(0,function(){"use strict";var e,t,n=!1,i=null,r=window,o=r.document,a=parseFloat,s=/(-?\d+\.?\d*)\s*$/g,l=/(\d+\.?\d*)\s*$/g,c=[],u=0,d=0,p=String.fromCharCode(4095),f={selector:i,order:"asc",attr:i,data:i,useVal:n,place:"org",returns:n,cases:n,natural:n,forceStrings:n,ignoreDashes:n,sortFunction:i,useFlex:n,emptyEnd:n};function h(e,t){for(var n,i=e.length,r=i;r--;)t(e[n=i-r-1],n)}function g(t,n,i){for(var r in n)(i||t[r]===e)&&(t[r]=n[r]);return t}function m(e,t,n){c.push({prepare:e,sort:t,sortBy:n})}return r.Element&&((t=Element.prototype).matchesSelector=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=(this.parentNode||this.document).querySelectorAll(e),n=-1;t[++n]&&t[n]!=this;);return!!t[n]}),g(m,{loop:h}),g(function(t,r){R(t)&&(t=o.querySelectorAll(t)),t.length;var m,v,y=o.createDocumentFragment(),_=[],b=[],w=[],E=[],x=!0,S=t.length&&t[0].parentNode,k=S.rootNode!==document,O=t.length&&(r===e||!1!==r.useFlex)&&!k&&-1!==getComputedStyle(S,null).display.indexOf("flex");function T(e){var t=!!e.selector,n=t&&":"===e.selector[0],r=g(e||{},f);E.push(g({hasSelector:t,hasAttr:!(r.attr===i||""===r.attr),hasData:r.data!==i,hasFilter:n,sortReturnNumber:"asc"===r.order?1:-1},r))}function C(e,t,n){for(var i=n(e.toString()),r=n(t.toString()),o=0;i[o]&&r[o];o++)if(i[o]!==r[o]){var a=Number(i[o]),s=Number(r[o]);return a==i[o]&&s==r[o]?a-s:i[o]>r[o]?1:-1}return i.length-r.length}function P(e){for(var t,n,i=[],r=0,o=-1,a=0;t=(n=e.charAt(r++)).charCodeAt(0);){var s=46==t||t>=48&&t<=57;s!==a&&(i[++o]="",a=s),i[o]+=n}return i}function A(){return b.forEach(function(e){y.appendChild(e.elm)}),y}function L(e){var t=e.elm,n=o.createElement("div");return e.ghost=n,t.parentNode.insertBefore(n,t),e}function I(e,t){var n=e.ghost,i=n.parentNode;i.insertBefore(t,n),i.removeChild(n),delete e.ghost}function M(e,t){var n,r=e.elm;return t.selector&&(t.hasFilter?r.matchesSelector(t.selector)||(r=i):r=r.querySelector(t.selector)),t.hasAttr?n=r.getAttribute(t.attr):t.useVal?n=r.value||r.getAttribute("value"):t.hasData?n=r.getAttribute("data-"+t.data):r&&(n=r.textContent),R(n)&&(t.cases||(n=n.toLowerCase()),n=n.replace(/\s+/g," ")),null===n&&(n=p),n}function R(e){return"string"==typeof e}return function(){0===arguments.length?T({}):h(arguments,function(e){T(R(e)?{selector:e}:e)}),u=E.length}.apply(i,Array.prototype.slice.call(arguments,1)),h(t,function(e,t){v?v!==e.parentNode&&(x=!1):v=e.parentNode;var n=E[0],i=n.hasFilter,r=n.selector,o=!r||i&&e.matchesSelector(r)||r&&e.querySelector(r),a=o?b:w,s={elm:e,pos:t,posn:a.length};_.push(s),a.push(s)}),m=b.slice(0),b.sort(function(t,i){var r=0;for(0!==d&&(d=0);0===r&&d<u;){var o=E[d],p=o.ignoreDashes?l:s;if(h(c,function(e){var t=e.prepare;t&&t(o)}),o.sortFunction)r=o.sortFunction(t,i);else if("rand"==o.order)r=Math.random()<.5?1:-1;else{var f=n,g=M(t,o),m=M(i,o),v=""===g||g===e,y=""===m||m===e;if(g===m)r=0;else if(o.emptyEnd&&(v||y))r=v&&y?0:v?1:-1;else{if(!o.forceStrings){var _=R(g)?g&&g.match(p):n,b=R(m)?m&&m.match(p):n;if(_&&b){var w=g.substr(0,g.length-_[0].length),x=m.substr(0,m.length-b[0].length);w==x&&(f=!n,g=a(_[0]),m=a(b[0]))}}r=g===e||m===e?0:o.natural&&(isNaN(g)||isNaN(m))?C(g,m,P):g<m?-1:g>m?1:0}}h(c,function(e){var t=e.sort;t&&(r=t(o,f,g,m,r))}),0==(r*=o.sortReturnNumber)&&d++}return 0===r&&(r=t.pos>i.pos?1:-1),r}),function(){var e=b.length===_.length;if(x&&e)O?b.forEach(function(e,t){e.elm.style.order=t}):v&&v.appendChild(A());else{var t=E[0],n=t.place,i="org"===n,r="start"===n,o="end"===n,a="first"===n,s="last"===n;if(i)b.forEach(L),b.forEach(function(e,t){I(m[t],e.elm)});else if(r||o){var l=m[r?0:m.length-1],c=l&&l.elm.parentNode,u=c&&(r&&c.firstChild||c.lastChild);u&&(u!==l.elm&&(l={elm:u}),L(l),o&&c.appendChild(l.ghost),I(l,A()))}else if(a||s){var d=m[a?0:m.length-1];I(L(d),A())}}}(),b.map(function(e){return e.elm})},{plugin:m,defaults:f})}())},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(44)],void 0===(o="function"==typeof(i=function(e){var t=0,n=Array.prototype.hasOwnProperty,i=Array.prototype.slice;return e.cleanData=(r=e.cleanData,function(t){var n,i,o;for(o=0;null!=(i=t[o]);o++)(n=e._data(i,"events"))&&n.remove&&e(i).triggerHandler("remove");r(t)}),e.widget=function(t,n,i){var r,o,a,s={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),Array.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr.pseudos[c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(a=new n).options=e.widget.extend({},a.options),e.each(i,function(e,t){s[e]="function"==typeof t?function(){function i(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=i,this._superApply=r,e=t.apply(this,arguments),this._super=n,this._superApply=o,e}}():t}),o.prototype=e.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||t},s,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;s<l;s++)for(r in a[s])o=a[s][r],n.call(a[s],r)&&void 0!==o&&(e.isPlainObject(o)?t[r]=e.isPlainObject(t[r])?e.widget.extend({},t[r],o):e.widget.extend({},o):t[r]=o);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var n,i=e.data(this,r);return"instance"===o?(l=i,!1):i?"function"!=typeof i[o]||"_"===o.charAt(0)?e.error("no such method '"+o+"' for "+t+" widget instance"):(n=i[o].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(i=t.split(".")).shift(),i.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,r;for(n in t)r=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&r&&r.length&&(i=e(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],i=this;function r(r,o){var a,s;for(s=0;s<r.length;s++)a=i.classesElementLookup[r[s]]||e(),t.add?(t.element.each(function(t,n){e.map(i.classesElementLookup,function(e){return e}).some(function(e){return e.is(n)})||i._on(e(n),{remove:"_untrackClassesElement"})}),a=e(e.uniqueSort(a.get().concat(t.element.get())))):a=e(a.not(t.element).get()),i.classesElementLookup[r[s]]=a,n.push(r[s]),o&&t.classes[r[s]]&&n.push(t.classes[r[s]])}return(t=e.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,r){-1!==e.inArray(t.target,r)&&(n.classesElementLookup[i]=e(r.not(t.target).get()))}),this._off(e(t.target))},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,s):n.on(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!("function"==typeof a&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){var a;"string"==typeof r&&(r={effect:r});var s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})?r={duration:r}:!0===r&&(r={}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.widget;var r})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){(function(e,t){t.fn.preventDoubleSubmission=function(t){return e(this).on("submit",function(n){var i=e(this);!0===i.data("submitted")?(n.preventDefault(),i.find('[type="submit"]').attr("disabled",!0)):(i.data("submitted",!0),t>1&&(i.find('[type="submit"]').attr("disabled",!0),window.setTimeout(function(){i.data("submitted",!1),i.find('[type="submit"]').attr("disabled",null)},t)))}),this}}).call(this,n(1),n(1))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e){e.exports=JSON.parse('{"development":{"service":"https://servicedev.ilovepdf.com","service_subdomain":"servicedev","web_prefix":"dev","api_sufix":"dev","stripe_key":"pk_test_3QB411Rie7QKjMhfSA0oiEOx","paypal_env":"sandbox","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},"staging":{"service":"https://servicestaging.ilovepdf.com","service_subdomain":"servicestaging","web_prefix":"staging","api_sufix":"dev","stripe_key":"pk_test_3QB411Rie7QKjMhfSA0oiEOx","stripe_key_api":"pk_test_mDCbsVuNmGS4QIePyxrnLexu","paypal_env":"sandbox","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},"production":{"service":"https://service.ilovepdf.com","service_subdomain":"service","web_prefix":"www","api_sufix":"","stripe_key":"pk_live_515AzAgBqa3pLeb3yKIZljNwrbjfrFpMsuvoEEZncp68ao0mQUKZgEY3Ddfh3JUMH4tIKBuFDsLt9Ot29l3d3KIey00O1gzlSiu","stripe_key_api":"pk_live_epWBEsOopGb3Oo75Y6YzAbTP","paypal_env":"production","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"}}')},function(e,t,n){"use strict";n.r(t),function(e){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var r=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:l(s(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?u:10===e?d:u||d}function f(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?f(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&f(a.firstElementChild)!==a?f(l):l;var c=h(e);return c.host?g(c.host,t):g(e,h(t).host)}function m(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function y(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,n=e.documentElement,i=p(10)&&getComputedStyle(n);return{height:y("Height",t,n,i),width:y("Width",t,n,i)}}var b=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function S(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var n=m(e,"top"),i=m(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_(e.ownerDocument):{},s=o.width||e.clientWidth||r.width,l=o.height||e.clientHeight||r.height,c=e.offsetWidth-s,u=e.offsetHeight-l;if(c||u){var d=a(e);c-=v(d,"x"),u-=v(d,"y"),r.width-=c,r.height-=u}return S(r)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),r="HTML"===t.nodeName,o=k(e),s=k(t),c=l(e),u=a(t),d=parseFloat(u.borderTopWidth),f=parseFloat(u.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=S({top:o.top-s.top-d,left:o.left-s.left-f,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var g=parseFloat(u.marginTop),v=parseFloat(u.marginLeft);h.top-=d-g,h.bottom-=d-g,h.left-=f-v,h.right-=f-v,h.marginTop=g,h.marginLeft=v}return(i&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(t,"top"),r=m(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}(h,t)),h}function T(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function C(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},u=r?T(e):g(e,c(t));if("viewport"===i)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=O(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:m(n),s=t?0:m(n,"left");return S({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(u,r);else{var d=void 0;"scrollParent"===i?"BODY"===(d=l(s(t))).nodeName&&(d=e.ownerDocument.documentElement):d="window"===i?e.ownerDocument.documentElement:i;var p=O(d,u,r);if("HTML"!==d.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(t,"position"))return!0;var i=s(t);return!!i&&e(i)}(u))o=p;else{var f=_(e.ownerDocument),h=f.height,v=f.width;o.top+=p.top-p.marginTop,o.bottom=h+p.top,o.left+=p.left-p.marginLeft,o.right=v+p.left}}var y="number"==typeof(n=n||0);return o.left+=y?n:n.left||0,o.top+=y?n:n.top||0,o.right-=y?n:n.right||0,o.bottom-=y?n:n.bottom||0,o}function P(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=C(n,i,o,r),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return x({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function A(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return O(n,i?T(t):g(t,c(n)),i)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function I(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function M(e,t,n){n=n.split("-")[0];var i=L(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[a]=t[a]+t[l]/2-i[l]/2,r[s]=n===s?t[s]-i[c]:t[I(s)],r}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=R(e,function(e){return e[t]===n});return e.indexOf(i)}(e,"name",n))).forEach(function(e){e.function;var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))}),t}function D(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function N(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,i){n.updateBound=i,N(e).addEventListener("resize",n.updateBound,{passive:!0});var r=l(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,i,{passive:!0}),o||e(l(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function U(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,N(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function H(e,t){Object.keys(t).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&z(t[n])&&(i="px"),e.style[n]=t[n]+i})}var W=n&&/Firefox/i.test(navigator.userAgent);function q(e,t,n){var i=R(e,function(e){return e.name===t}),r=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!r);return r}var V=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=V.slice(3);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.indexOf(e),i=G.slice(n+1).concat(G.slice(0,n));return t?i.reverse():i}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function K(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(R(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&a[s].indexOf(",");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(e,i){var r=(1===i?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return S(s)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,r,t,n)})})).forEach(function(e,t){e.forEach(function(n,i){z(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))})}),r}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:E({},l,o[l]),end:E({},l,o[l]+o[c]-a[c])};e.offsets.popper=x({},a,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],l=void 0;return l=z(+n)?[+n,0]:K(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||f(e.instance.popper);e.instance.reference===n&&(n=f(n));var i=F("transform"),r=e.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=C(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=a,r[i]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),E({},n,i)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=x({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[s])&&(e.offsets.popper[l]=o(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return e;var r=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",p=d.toLowerCase(),f=c?"left":"top",h=c?"bottom":"right",g=L(i)[u];l[h]-g<s[p]&&(e.offsets.popper[p]-=s[p]-(l[h]-g)),l[p]+g>s[h]&&(e.offsets.popper[p]+=l[p]+g-s[h]),e.offsets.popper=S(e.offsets.popper);var m=l[p]+l[u]/2-g/2,v=a(e.instance.popper),y=parseFloat(v["margin"+d]),_=parseFloat(v["border"+d+"Width"]),b=m-e.offsets.popper[p]-y-_;return b=Math.max(Math.min(s[u]-g,b),0),e.arrowElement=i,e.offsets.arrow=(E(n={},p,Math.round(b)),E(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(D(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=C(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=I(i),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case X.FLIP:a=[i,r];break;case X.CLOCKWISE:a=Y(i);break;case X.COUNTERCLOCKWISE:a=Y(i,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(i!==s||a.length===l+1)return e;i=e.placement.split("-")[0],r=I(i);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),h=d(c.right)>d(n.right),g=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),v="left"===i&&f||"right"===i&&h||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),_=!!t.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&h||!y&&"start"===o&&g||!y&&"end"===o&&m),b=!!t.flipVariationsByContent&&(y&&"start"===o&&h||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g),w=_||b;(p||v||w)&&(e.flipped=!0,(p||v)&&(i=a[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=x({},e.offsets.popper,M(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),e.placement=I(t),e.offsets.popper=S(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration,a=void 0!==o?o:t.gpuAcceleration,s=f(e.instance.popper),l=k(s),c={position:r.position},u=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},l=o(r.width),c=o(i.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||l%2==c%2?o:a:s,f=t?o:s;return{left:p(l%2==1&&c%2==1&&!d&&t?i.left-1:i.left),top:f(i.top),bottom:f(i.bottom),right:p(i.right)}}(e,window.devicePixelRatio<2||!W),d="bottom"===n?"top":"bottom",p="right"===i?"left":"right",h=F("transform"),g=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,g="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&h)c[h]="translate3d("+g+"px, "+m+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===p?-1:1;c[d]=m*v,c[p]=g*y,c.willChange=d+", "+p}var _={"x-placement":e.placement};return e.attributes=x({},_,e.attributes),e.styles=x({},c,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return H(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&H(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=A(r,t,e,n.positionFixed),a=P(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),H(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},$=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=r(this.update.bind(this)),this.options=x({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,a.modifiers)).forEach(function(t){i.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return x({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&o(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=A(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=P(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=M(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,D(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();$.Utils=("undefined"!=typeof window?window:e).PopperUtils,$.placements=V,$.Defaults=Z,t.default=$}.call(this,n(23))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.TextHelper=void 0;var n=function(){function t(){}return t.width=function(t,n){void 0===n&&(n=null);var i=e("<div>"+t+"</div>");i.css({position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap","font-size":n}),i.appendTo(e("body"));var r=i.width();return i.remove(),r},t.getExistantTextNodeHeight=function(e){var t=0;if(document.createRange){var n=document.createRange();if(n.selectNodeContents(e),n.getBoundingClientRect){var i=n.getBoundingClientRect();i&&(t=i.bottom-i.top)}}return t},t.sanitize=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/gi,function(e){return t[e]})},t.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},t.maxLength=function(e,t){return e.substring(0,t)},t.maxLengthEllipse=function(e,t){return e.length>t?e.substring(0,t-3)+"...":e},t.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.setEndOfContenteditable=function(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())},t}();t.TextHelper=n}).call(this,n(1))},function(e,t){!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}()},function(e,t,n){(function(e){var t;String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.camelCase=function(){return this.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})},e.fn.exchangePositionWith=function(t){var n=e(t),i=e("<span>").hide();this.before(i),n.before(this),i.replaceWith(n)},Array.prototype.move=function(e,t){if(t>=this.length)for(var n=t-this.length;1+n--;)this.push(void 0);return this.splice(t,0,this.splice(e,1)[0]),this},String.prototype.trunc=function(e){return this.substr(0,e-1)+(this.length>e?"&hellip;":"")},String.prototype.trim||(t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(t,"")}),String.prototype.ltrim||(String.prototype.ltrim=function(){return this.replace(/^\s+/g,"")})}).call(this,n(1))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var i=n(3),r=n(36),o={nowSeconds:function(){return Date.now()/1e3}};var a=Object(r.b)()?function(){try{return Object(r.a)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=Object(i.e)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},l=o.nowSeconds.bind(o);s.nowSeconds.bind(s),function(){var e=Object(i.e)().performance;if(e)e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}()}).call(this,n(62)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(0),r=n(17),o=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,a=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,i=t.path,r=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&r?":"+r:"")+"@"+n+(o?":"+o:"")+"/"+(i?i+"/":i)+a},e.prototype._fromString=function(e){var t=o.exec(e);if(!t)throw new r.a("Invalid Dsn");var n=Object(i.c)(t.slice(1),6),a=n[0],s=n[1],l=n[2],c=void 0===l?"":l,u=n[3],d=n[4],p=void 0===d?"":d,f="",h=n[5],g=h.split("/");if(g.length>1&&(f=g.slice(0,-1).join("/"),h=g.pop()),h){var m=h.match(/^\d+/);m&&(h=m[0])}this._fromComponents({host:u,pass:c,path:f,projectId:h,port:p,protocol:a,user:s})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach(function(t){if(!e[t])throw new r.a("Invalid Dsn: "+t+" missing")}),!this.projectId.match(/^\d+$/))throw new r.a("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new r.a("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new r.a("Invalid Dsn: Invalid port "+this.port)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPreloadIsNeeded=t.get_browser=t.isSafari=t.isIE11=t.isEdgeBrowser=void 0;var i=n(84);function r(e){return void 0===e&&(e=i.getUserAgent()),/^((?!chrome|android|crios).)*safari/i.test(e)}function o(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!=(e=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}t.isEdgeBrowser=function(e){return void 0===e&&(e=i.getUserAgent()),/Edge/i.test(e)},t.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},t.isSafari=r,t.get_browser=o,t.checkPreloadIsNeeded=function(){if(i.isIos()||r())return!0;var e=o();return"Chrome"==e.name&&e.version<=73||"Firefox"==e.name&&e.version<=94||"Edge"==e.name&&e.version<=18||"Yandex"==e.name}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;var i=function(){function e(e){this.tool=null,this.subtool=null,this.config=null,Object.assign(this,e)}return e.prototype.getConfig=function(e){return this.subtool in this.config&&e in this.config[this.subtool]?this.config[this.subtool][e]:this.tool in this.config&&e in this.config[this.tool]?this.config[this.tool][e]:this.config.default[e]},e}();t.Config=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsManager=void 0;var o=n(230),a=n(233),s=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return r(t,e),t.prototype.initViewManager=function(){this.viewManager=new a.ViewManager({tool:this.tool,subtool:this.subtool,files:this.files,processManager:this.processManager})},t.prototype.fileReady=function(t){e.prototype.fileReady.call(this,t),this.setOption("width",t.width),this.setOption("height",t.height),this.printOption("original-width",t.width),this.printOption("original-height",t.height)},t.prototype.fileAdded=function(t,n,i){return void 0===i&&(i=!1),null==this.viewManager&&this.init(),e.prototype.fileAdded.call(this,t,n,i)},t.prototype.tryInitByParent=function(){e.prototype.tryInitByParent.call(this)},t}(o.OptionsManager);t.OptionsManager=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.IlovepdfWeb=void 0;var i=n(18),r=n(124),o=n(38),a=n(30),s=n(76),l=n(70),c=function(){function t(){this.init()}return t.prototype.init=function(){this.initTopMenu(),this.initCookieLaw(),this.initChangeLang(),this.initFormElements(),this.tooltipElements(),this.checkAddBlock(),r.Popup.initTermsPopup(),this.detectAutomate(),Cookies.remove("lastTool"),window.tools=a.Tools,window.ilove_openSocialAuthPopup=function(e,t){s.SocialAuthPopup.open(e,{},t)},1==this.inIframe()&&(window.location.href=atob("aHR0cHM6Ly93d3cuaWxvdmVwZGYuY29tL2ZvcmJpZGRlbmlmcmFtZQ=="));var e=!1,t=document.getElementById("pickfiles");null!=t&&(t.addEventListener("click",function(t){e=!0}),window.addEventListener("focus",function(t){e&&(l.Banner.preventClickAds(),e=!1)}))},t.prototype.initTopMenu=function(){e(".dropdown, #menuSmall").on("click",function(t){t.stopPropagation(),e(this).toggleClass("active"),e(".collapsiblock").not(this).removeClass("active")}),e(window).resize(function(){e(".dropdown, #menuSmall").removeClass("active")}),e("html").on("click",function(t){e(".dropdown, #menuSmall").removeClass("active")}),e(".logout").click(function(e){e.preventDefault(),i.UserModel.logout()})},t.prototype.initCookieLaw=function(){if(4==window.Cookies.get("ck")&&(window.Cookies.set("ck",1,{expires:3600,path:"/"}),window.sessionStorage&&sessionStorage.removeItem("gs:ci")),void 0!=window.uCookie){var t=["AT","BE","HR","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","BR"];if(-1===e.inArray(window.uCookie.uc,t)&&i(),0==window.uCookie.ck&&-1!=e.inArray(window.uCookie.uc,t)){var n=window.Toastr.info(window.uCookie.content+window.uCookie.buttons,window.uCookie.title,{positionClass:"toast-bottom-left ck-tstr",timeOut:0,extendedTimeOut:"0",tapToDismiss:!1,closeButton:!1});e("#okck").on("click",function(t){e("#ck_set").hasClass("open")?e("#allowpads").is(":checked")&&e("#allowanalytics").is(":checked")?(window.Cookies.set("hcookie",1,{expires:3600,path:"/"}),window.Cookies.set("ck",1,{expires:3600,path:"/"}),window.googletag&&window.googletag.pubads&&window.googletag.pubads().setRequestNonPersonalizedAds&&(window.googletag.pubads().setRequestNonPersonalizedAds(0),window.googletag.pubads().refresh())):e("#allowpads").is(":checked")?(window.Cookies.set("hcookie",1,{expires:0,path:"/"}),window.Cookies.set("ck",2,{expires:10,path:"/"}),window.googletag&&window.googletag.pubad&&window.googletag.pubads().setRequestNonPersonalizedAds&&(window.googletag.pubads().setRequestNonPersonalizedAds(0),window.googletag.pubads().refresh())):e("#allowanalytics").is(":checked")?(window.Cookies.set("hcookie",1,{expires:0,path:"/"}),window.Cookies.set("ck",3,{expires:10,path:"/"}),window.googletag&&window.googletag.pubads&&window.googletag.pubads().setRequestNonPersonalizedAds&&(window.googletag.pubads().setRequestNonPersonalizedAds(1),window.googletag.pubads().refresh())):e("#allowpads").is(":checked")||e("#allowanalytics").is(":checked")||(window.Cookies.set("hcookie",1,{expires:0,path:"/"}),window.Cookies.set("ck",0,{expires:10,path:"/"}),window.googletag&&window.googletag.pubads&&window.googletag.pubads().setRequestNonPersonalizedAds&&(window.googletag.pubads().setRequestNonPersonalizedAds(0),window.googletag.pubads().refresh())):(window.googletag&&window.googletag.pubads&&window.googletag.pubads().setRequestNonPersonalizedAds&&(window.googletag.pubads().setRequestNonPersonalizedAds(0),window.googletag.pubads().refresh()),window.Cookies.set("ck",4,{expires:3600,path:"/"}),i()),n.remove()}),e("#ck_set").on("click",function(t){e("#ck_set").hasClass("open")?(e("#ck_set").removeClass("open"),e("#ck_cnt").html(window.uCookie.content),e("#okck").html(window.uCookie.accept_all),e("#ck_set").html(window.uCookie.settings_txt)):(e("#ck_set").addClass("open"),e("#ck_cnt").html(window.uCookie.settings),e("#ck_set").html(window.uCookie.close_settings),e("#okck").html(window.uCookie.save_txt))})}}function i(){window.Cookies.set("hcookie",1,{expires:3600,path:"/"})}},t.prototype.initChangeLang=function(){void 0!==window.changeLang&&1!=window.Cookies.get("lcookie")&&(window.yesLang=function(){window.Cookies.set("lcookie",1),window.location.href=window.changeLang.urlLang},window.noLang=function(){window.Cookies.set("lcookie",1)},window.Toastr.info(window.changeLang.text,window.changeLang.title,{closeButton:!0,debug:!1,positionClass:"toast-bottom-left",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"500000",extendedTimeOut:"100000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}))},t.prototype.initFormElements=function(){e("form").preventDoubleSubmission(),e('input[type="color"], input.color').not(".no-picker").each(function(e,t){a.Tools.colorpicker(t)})},t.prototype.tooltipElements=function(){o.Tooltip.init()},t.prototype.checkAddBlock=function(){setTimeout(function(){void 0===window.google_jobrunner&&window.ga&&window.ev("set","adblock",1)},1e4)},t.prototype.detectAutomate=function(){if(1==function(){try{if(/HeadlessChrome/.test(window.navigator.userAgent))return!0}catch(e){}try{if(""===navigator.languages)return!0}catch(e){}try{if(navigator.webdriver)return!0}catch(e){}try{if(window.document.documentElement.getAttribute("webdriver"))return!0}catch(e){}try{if(1==navigator.webdriver)return!0}catch(e){}try{if(1==navigator.domAutomation)return!0}catch(e){}try{if(window.document.documentElement.getAttribute("webdriver"))return!0}catch(e){}try{if(window.callPhantom||window._phantom)return!0}catch(e){}try{if("_Selenium_IDE_Recorder"in window)return!0}catch(e){}try{if(window.Cypress)return!0}catch(e){}try{if("__webdriver_script_fn"in document)return!0}catch(e){}return!1}()){window.ev("send","event","hack","selenium")}},t.prototype.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},t}();t.IlovepdfWeb=c}).call(this,n(1))},function(e,t,n){var i,r;n(125),i=[n(1)],void 0===(r=function(e){return function(){var t,n,i,r=0,o={error:"error",info:"info",success:"success",warning:"warning"},a={clear:function(n,i){var r=d();t||s(r),l(n,r,i)||function(n){for(var i=t.children(),r=i.length-1;r>=0;r--)l(e(i[r]),n)}(r)},remove:function(n){var i=d();t||s(i),n&&0===e(":focus",n).length?p(n):t.children().length&&t.remove()},error:function(e,t,n){return u({type:o.error,iconClass:d().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:s,info:function(e,t,n){return u({type:o.info,iconClass:d().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){n=e},success:function(e,t,n){return u({type:o.success,iconClass:d().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return u({type:o.warning,iconClass:d().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return a;function s(n,i){return n||(n=d()),(t=e("#"+n.containerId)).length?t:(i&&(t=function(n){return(t=e("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(e(n.target)),t}(n)),t)}function l(t,n,i){var r=!(!i||!i.force)&&i.force;return!(!t||!r&&0!==e(":focus",t).length||(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){p(t)}}),0))}function c(e){n&&n(e)}function u(n){var o=d(),a=n.iconClass||o.iconClass;if(void 0!==n.optionsOverride&&(o=e.extend(o,n.optionsOverride),a=n.optionsOverride.iconClass||a),!function(e,t){if(e.preventDuplicates){if(t.message===i)return!0;i=t.message}return!1}(o,n)){r++,t=s(o,!0);var l=null,u=e("<div/>"),f=e("<div/>"),h=e("<div/>"),g=e("<div/>"),m=e(o.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},y={toastId:r,state:"visible",startTime:new Date,options:o,map:n};return n.iconClass&&u.addClass(o.toastClass).addClass(a),function(){if(n.title){var e=n.title;o.escapeHtml&&(e=_(n.title)),f.append(e).addClass(o.titleClass),u.append(f)}}(),function(){if(n.message){var e=n.message;o.escapeHtml&&(e=_(n.message)),h.append(e).addClass(o.messageClass),u.append(h)}}(),o.closeButton&&(m.addClass(o.closeClass).attr("role","button"),u.prepend(m)),o.progressBar&&(g.addClass(o.progressClass),u.prepend(g)),o.rtl&&u.addClass("rtl"),o.newestOnTop?t.prepend(u):t.append(u),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}u.attr("aria-live",e)}(),u.hide(),u[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(l=setTimeout(b,o.timeOut),v.maxHideTime=parseFloat(o.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,o.progressBar&&(v.intervalId=setInterval(x,10))),o.closeOnHover&&u.hover(E,w),!o.onclick&&o.tapToDismiss&&u.click(b),o.closeButton&&m&&m.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),o.onCloseClick&&o.onCloseClick(e),b(!0)}),o.onclick&&u.click(function(e){o.onclick(e),b()}),c(y),o.debug&&console,u}function _(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(t){var n=t&&!1!==o.closeMethod?o.closeMethod:o.hideMethod,i=t&&!1!==o.closeDuration?o.closeDuration:o.hideDuration,r=t&&!1!==o.closeEasing?o.closeEasing:o.hideEasing;if(!e(":focus",u).length||t)return clearTimeout(v.intervalId),u[n]({duration:i,easing:r,complete:function(){p(u),clearTimeout(l),o.onHidden&&"hidden"!==y.state&&o.onHidden(),y.state="hidden",y.endTime=new Date,c(y)}})}function w(){(o.timeOut>0||o.extendedTimeOut>0)&&(l=setTimeout(b,o.extendedTimeOut),v.maxHideTime=parseFloat(o.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)}function E(){clearTimeout(l),v.hideEta=0,u.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}function x(){var e=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;g.width(e+"%")}}function d(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},a.options)}function p(e){t||(t=s()),e.is(":visible")||(e.remove(),e=null,0===t.children().length&&(t.remove(),i=void 0))}}()}.apply(t,i))||(e.exports=r)},function(e,t,n){"use strict";function i(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function a(e){return e instanceof r(e).Element||e instanceof Element}function s(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function l(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}function c(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((a(e)?e.ownerDocument:e.document)||window.document).documentElement}function d(e){return i(u(e)).left+o(e).scrollLeft}function p(e){return r(e).getComputedStyle(e)}function f(e){var t=p(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function h(e,t,n){void 0===n&&(n=!1);var a,l,p=s(t),h=s(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return 1!==n||1!==i}(t),g=u(t),m=i(e,h),v={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(p||!p&&!n)&&(("body"!==c(t)||f(g))&&(v=(a=t)!==r(a)&&s(a)?{scrollLeft:(l=a).scrollLeft,scrollTop:l.scrollTop}:o(a)),s(t)?((y=i(t,!0)).x+=t.clientLeft,y.y+=t.clientTop):g&&(y.x=d(g))),{x:m.left+v.scrollLeft-y.x,y:m.top+v.scrollTop-y.y,width:m.width,height:m.height}}function g(e){var t=i(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function m(e){return"html"===c(e)?e:e.assignedSlot||e.parentNode||(l(e)?e.host:null)||u(e)}function v(e,t){var n;void 0===t&&(t=[]);var i=function e(t){return["html","body","#document"].indexOf(c(t))>=0?t.ownerDocument.body:s(t)&&f(t)?t:e(m(t))}(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),a=r(i),l=o?[a].concat(a.visualViewport||[],f(i)?i:[]):i,u=t.concat(l);return o?u:u.concat(v(m(l)))}function y(e){return["table","td","th"].indexOf(c(e))>=0}function _(e){return s(e)&&"fixed"!==p(e).position?e.offsetParent:null}function b(e){for(var t=r(e),n=_(e);n&&y(n)&&"static"===p(n).position;)n=_(n);return n&&("html"===c(n)||"body"===c(n)&&"static"===p(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&s(e)&&"fixed"===p(e).position)return null;for(var n=m(e);s(n)&&["html","body"].indexOf(c(n))<0;){var i=p(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var w="top",E="bottom",x="right",S="left",k="auto",O=[w,E,x,S],T="start",C="end",P="clippingParents",A="viewport",L="popper",I="reference",M=O.reduce(function(e,t){return e.concat([t+"-"+T,t+"-"+C])},[]),R=[].concat(O,[k]).reduce(function(e,t){return e.concat([t,t+"-"+T,t+"-"+C])},[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function D(e){var t=new Map,n=new Set,i=[];return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||function e(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(i){if(!n.has(i)){var r=t.get(i);r&&e(r)}}),i.push(r)}(e)}),i}var F={placement:"bottom",modifiers:[],strategy:"absolute"};function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function B(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?F:r;return function(e,t,n){void 0===n&&(n=o);var r,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},F,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var r="function"==typeof n?n(l.options):n;p(),l.options=Object.assign({},o,l.options,r),l.scrollParents={reference:a(e)?v(e):e.contextElement?v(e.contextElement):[],popper:v(t)};var s=function(e){var t=D(e);return j.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,l.options.modifiers)));return l.orderedModifiers=s.filter(function(e){return e.enabled}),l.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:l,name:t,instance:d,options:i});c.push(o||function(){})}}),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(N(t,n)){l.rects={reference:h(t,b(n),"fixed"===l.options.strategy),popper:g(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(e){return l.modifiersData[e.name]=Object.assign({},e.data)});for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var r=l.orderedModifiers[i],o=r.fn,a=r.options,s=void 0===a?{}:a,c=r.name;"function"==typeof o&&(l=o({state:l,options:s,name:c,instance:d})||l)}else l.reset=!1,i=-1}}},update:(r=function(){return new Promise(function(e){d.forceUpdate(),e(l)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(r())})})),s}),destroy:function(){p(),u=!0}};if(!N(e,t))return d;function p(){c.forEach(function(e){return e()}),c=[]}return d.setOptions(n).then(function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)}),d}}var U={passive:!0};var z={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,a=void 0===o||o,s=i.resize,l=void 0===s||s,c=r(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(e){e.addEventListener("scroll",n.update,U)}),l&&c.addEventListener("resize",n.update,U),function(){a&&u.forEach(function(e){e.removeEventListener("scroll",n.update,U)}),l&&c.removeEventListener("resize",n.update,U)}},data:{}};function H(e){return e.split("-")[0]}function W(e){return e.split("-")[1]}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function V(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?H(r):null,a=r?W(r):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case w:t={x:s,y:n.y-i.height};break;case E:t={x:s,y:n.y+n.height};break;case x:t={x:n.x+n.width,y:l};break;case S:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?q(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case T:t[c]=t[c]-(n[u]/2-i[u]/2);break;case C:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}var G={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=V({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Y=Math.max,X=Math.min,K=Math.round,Z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $(e){var t,n=e.popper,i=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,h=!0===f?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:K(K(t*i)/i)||0,y:K(K(n*i)/i)||0}}(s):"function"==typeof f?f(s):s,g=h.x,m=void 0===g?0:g,v=h.y,y=void 0===v?0:v,_=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),O=S,T=w,P=window;if(d){var A=b(n),L="clientHeight",I="clientWidth";A===r(n)&&"static"!==p(A=u(n)).position&&"absolute"===l&&(L="scrollHeight",I="scrollWidth"),A=A,o!==w&&(o!==S&&o!==x||a!==C)||(T=E,y-=A[L]-i.height,y*=c?1:-1),o!==S&&(o!==w&&o!==E||a!==C)||(O=x,m-=A[I]-i.width,m*=c?1:-1)}var M,R=Object.assign({position:l},d&&Z);return c?Object.assign({},R,((M={})[T]=k?"0":"",M[O]=_?"0":"",M.transform=(P.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",M)):Object.assign({},R,((t={})[T]=k?y+"px":"",t[O]=_?m+"px":"",t.transform="",t))}var Q={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];s(r)&&c(r)&&(Object.assign(r.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});s(i)&&c(i)&&(Object.assign(i.style,o),Object.keys(r).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]};var J={left:"right",right:"left",bottom:"top",top:"bottom"};function ee(e){return e.replace(/left|right|bottom|top/g,function(e){return J[e]})}var te={start:"end",end:"start"};function ne(e){return e.replace(/start|end/g,function(e){return te[e]})}function ie(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&l(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function re(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oe(e,t){return t===A?re(function(e){var t=r(e),n=u(e),i=t.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;return i&&(o=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,l=i.offsetTop)),{width:o,height:a,x:s+d(e),y:l}}(e)):s(t)?function(e){var t=i(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):re(function(e){var t,n=u(e),i=o(e),r=null==(t=e.ownerDocument)?void 0:t.body,a=Y(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Y(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+d(e),c=-i.scrollTop;return"rtl"===p(r||n).direction&&(l+=Y(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:s,x:l,y:c}}(u(e)))}function ae(e,t,n){var i="clippingParents"===t?function(e){var t=v(m(e)),n=["absolute","fixed"].indexOf(p(e).position)>=0&&s(e)?b(e):e;return a(n)?t.filter(function(e){return a(e)&&ie(e,n)&&"body"!==c(e)}):[]}(e):[].concat(t),r=[].concat(i,[n]),o=r[0],l=r.reduce(function(t,n){var i=oe(e,n);return t.top=Y(i.top,t.top),t.right=X(i.right,t.right),t.bottom=X(i.bottom,t.bottom),t.left=Y(i.left,t.left),t},oe(e,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function se(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function le(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function ce(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,s=n.boundary,l=void 0===s?P:s,c=n.rootBoundary,d=void 0===c?A:c,p=n.elementContext,f=void 0===p?L:p,h=n.altBoundary,g=void 0!==h&&h,m=n.padding,v=void 0===m?0:m,y=se("number"!=typeof v?v:le(v,O)),_=f===L?I:L,b=e.rects.popper,S=e.elements[g?_:f],k=ae(a(S)?S:S.contextElement||u(e.elements.popper),l,d),T=i(e.elements.reference),C=V({reference:T,element:b,strategy:"absolute",placement:o}),M=re(Object.assign({},b,C)),R=f===L?M:T,j={top:k.top-R.top+y.top,bottom:R.bottom-k.bottom+y.bottom,left:k.left-R.left+y.left,right:R.right-k.right+y.right},D=e.modifiersData.offset;if(f===L&&D){var F=D[o];Object.keys(j).forEach(function(e){var t=[x,E].indexOf(e)>=0?1:-1,n=[w,E].indexOf(e)>=0?"y":"x";j[e]+=F[n]*t})}return j}function ue(e,t,n){return Y(e,X(t,n))}var de=function(e,t){return se("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:le(e,O))};function pe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function fe(e){return[w,x,E,S].some(function(t){return e[t]>=0})}var he=B({defaultModifiers:[z,G,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:H(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Q,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,a=R.reduce(function(e,n){return e[n]=function(e,t,n){var i=H(e),r=[S,w].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[S,x].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e},{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,g=n.allowedAutoPlacements,m=t.options.placement,v=H(m),y=l||(v!==m&&h?function(e){if(H(e)===k)return[];var t=ee(e);return[ne(e),t,ne(t)]}(m):[ee(m)]),_=[m].concat(y).reduce(function(e,n){return e.concat(H(n)===k?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?R:l,u=W(i),d=u?s?M:M.filter(function(e){return W(e)===u}):O,p=d.filter(function(e){return c.indexOf(e)>=0});0===p.length&&(p=d);var f=p.reduce(function(t,n){return t[n]=ce(e,{placement:n,boundary:r,rootBoundary:o,padding:a})[H(n)],t},{});return Object.keys(f).sort(function(e,t){return f[e]-f[t]})}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:g}):n)},[]),b=t.rects.reference,C=t.rects.popper,P=new Map,A=!0,L=_[0],I=0;I<_.length;I++){var j=_[I],D=H(j),F=W(j)===T,N=[w,E].indexOf(D)>=0,B=N?"width":"height",U=ce(t,{placement:j,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),z=N?F?x:S:F?E:w;b[B]>C[B]&&(z=ee(z));var q=ee(z),V=[];if(o&&V.push(U[D]<=0),s&&V.push(U[z]<=0,U[q]<=0),V.every(function(e){return e})){L=j,A=!1;break}P.set(j,V)}if(A)for(var G=function(e){var t=_.find(function(t){var n=P.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return L=t,"break"},Y=h?3:1;Y>0&&"break"!==G(Y);Y--);t.placement!==L&&(t.modifiersData[i]._skip=!0,t.placement=L,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,v=ce(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=H(t.placement),_=W(t.placement),k=!_,O=q(y),C="x"===O?"y":"x",P=t.modifiersData.popperOffsets,A=t.rects.reference,L=t.rects.popper,I="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,M={x:0,y:0};if(P){if(o||s){var R="y"===O?w:S,j="y"===O?E:x,D="y"===O?"height":"width",F=P[O],N=P[O]+v[R],B=P[O]-v[j],U=f?-L[D]/2:0,z=_===T?A[D]:L[D],V=_===T?-L[D]:-A[D],G=t.elements.arrow,K=f&&G?g(G):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$=Z[R],Q=Z[j],J=ue(0,A[D],K[D]),ee=k?A[D]/2-U-J-$-I:z-J-$-I,te=k?-A[D]/2+U+J+Q+I:V+J+Q+I,ne=t.elements.arrow&&b(t.elements.arrow),ie=ne?"y"===O?ne.clientTop||0:ne.clientLeft||0:0,re=t.modifiersData.offset?t.modifiersData.offset[t.placement][O]:0,oe=P[O]+ee-re-ie,ae=P[O]+te-re;if(o){var se=ue(f?X(N,oe):N,F,f?Y(B,ae):B);P[O]=se,M[O]=se-F}if(s){var le="x"===O?w:S,de="x"===O?E:x,pe=P[C],fe=pe+v[le],he=pe-v[de],ge=ue(f?X(fe,oe):fe,pe,f?Y(he,ae):he);P[C]=ge,M[C]=ge-pe}}t.modifiersData[i]=M}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=H(n.placement),l=q(s),c=[S,x].indexOf(s)>=0?"height":"width";if(o&&a){var u=de(r.padding,n),d=g(o),p="y"===l?w:S,f="y"===l?E:x,h=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],v=b(o),y=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,_=h/2-m/2,k=u[p],O=y-d[c]-u[f],T=y/2-d[c]/2+_,C=ue(k,T,O),P=l;n.modifiersData[i]=((t={})[P]=C,t.centerOffset=C-T,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&ie(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,a=ce(t,{elementContext:"reference"}),s=ce(t,{altBoundary:!0}),l=pe(a,i),c=pe(s,r,o),u=fe(l),d=fe(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),ge="tippy-box",me="tippy-content",ve="tippy-backdrop",ye="tippy-arrow",_e="tippy-svg-arrow",be={passive:!0,capture:!0},we=function(){return document.body};function Ee(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function xe(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function Se(e,t){return"function"==typeof e?e.apply(void 0,t):e}function ke(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)};var n}function Oe(e){return[].concat(e)}function Te(e,t){-1===e.indexOf(t)&&e.push(t)}function Ce(e){return e.split("-")[0]}function Pe(e){return[].slice.call(e)}function Ae(){return document.createElement("div")}function Le(e){return["Element","Fragment"].some(function(t){return xe(e,t)})}function Ie(e){return xe(e,"MouseEvent")}function Me(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Re(e){return Le(e)?[e]:function(e){return xe(e,"NodeList")}(e)?Pe(e):Array.isArray(e)?e:Pe(document.querySelectorAll(e))}function je(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function De(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function Fe(e){var t,n=Oe(e)[0];return(null==n?void 0:null==(t=n.ownerDocument)?void 0:t.body)?n.ownerDocument:document}function Ne(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[i](t,n)})}function Be(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=null==(i=null==n.getRootNode?void 0:n.getRootNode())?void 0:i.host}return!1}var Ue={isTouch:!1},ze=0;function He(){Ue.isTouch||(Ue.isTouch=!0,window.performance&&document.addEventListener("mousemove",We))}function We(){var e=performance.now();e-ze<20&&(Ue.isTouch=!1,document.removeEventListener("mousemove",We)),ze=e}function qe(){var e=document.activeElement;if(Me(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Ve=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Ge={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ye=Object.assign({appendTo:we,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ge,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Xe=Object.keys(Ye);function Ke(e){var t=(e.plugins||[]).reduce(function(t,n){var i,r=n.name,o=n.defaultValue;r&&(t[r]=void 0!==e[r]?e[r]:null!=(i=Ye[r])?i:o);return t},{});return Object.assign({},e,{},t)}function Ze(e,t){var n=Object.assign({},t,{content:Se(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Ke(Object.assign({},Ye,{plugins:t}))):Xe).reduce(function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t},{})}(e,t.plugins));return n.aria=Object.assign({},Ye.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}var $e=function(){return"innerHTML"};function Qe(e,t){e[$e()]=t}function Je(e){var t=Ae();return!0===e?t.className=ye:(t.className=_e,Le(e)?t.appendChild(e):Qe(t,e)),t}function et(e,t){Le(t.content)?(Qe(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Qe(e,t.content):e.textContent=t.content)}function tt(e){var t=e.firstElementChild,n=Pe(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(me)}),arrow:n.find(function(e){return e.classList.contains(ye)||e.classList.contains(_e)}),backdrop:n.find(function(e){return e.classList.contains(ve)})}}function nt(e){var t=Ae(),n=Ae();n.className=ge,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Ae();function r(n,i){var r=tt(t),o=r.box,a=r.content,s=r.arrow;i.theme?o.setAttribute("data-theme",i.theme):o.removeAttribute("data-theme"),"string"==typeof i.animation?o.setAttribute("data-animation",i.animation):o.removeAttribute("data-animation"),i.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?o.setAttribute("role",i.role):o.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||et(a,e.props),i.arrow?s?n.arrow!==i.arrow&&(o.removeChild(s),o.appendChild(Je(i.arrow))):o.appendChild(Je(i.arrow)):s&&o.removeChild(s)}return i.className=me,i.setAttribute("data-state","hidden"),et(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props),{popper:t,onUpdate:r}}nt.$$tippy=!0;var it=1,rt=[],ot=[];function at(e,t){var n,i,r,o,a,s,l,c,u,d=Ze(e,Object.assign({},Ye,{},Ke((n=t,Object.keys(n).reduce(function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e},{}))))),p=!1,f=!1,h=!1,g=!1,m=[],v=ke(X,d.interactiveDebounce),y=it++,_=(u=d.plugins).filter(function(e,t){return u.indexOf(e)===t}),b={id:y,reference:e,popper:Ae(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:_,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(t){0;if(b.state.isDestroyed)return;R("onBeforeUpdate",[b,t]),G();var n=b.props,i=Ze(e,Object.assign({},b.props,{},t,{ignoreAttributes:!0}));b.props=i,V(),n.interactiveDebounce!==i.interactiveDebounce&&(F(),v=ke(X,i.interactiveDebounce));n.triggerTarget&&!i.triggerTarget?Oe(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):i.triggerTarget&&e.removeAttribute("aria-expanded");D(),M(),x&&x(n,i);b.popperInstance&&(Q(),ee().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}));R("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){0;var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,i=Ue.isTouch&&!b.props.touch,r=Ee(b.props.duration,0,Ye.duration);if(e||t||n||i)return;if(P().hasAttribute("disabled"))return;if(R("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,C()&&(E.style.visibility="visible");M(),z(),b.state.isMounted||(E.style.transition="none");if(C()){var o=L(),a=o.box,s=o.content;je([a,s],0)}l=function(){var e;if(b.state.isVisible&&!g){if(g=!0,E.offsetHeight,E.style.transition=b.props.moveTransition,C()&&b.props.animation){var t=L(),n=t.box,i=t.content;je([n,i],r),De([n,i],"visible")}j(),D(),Te(ot,b),null==(e=b.popperInstance)||e.forceUpdate(),b.state.isMounted=!0,R("onMount",[b]),b.props.animation&&C()&&function(e,t){W(e,t)}(r,function(){b.state.isShown=!0,R("onShown",[b])})}},function(){var e,t=b.props.appendTo,n=P();e=b.props.interactive&&t===we||"parent"===t?n.parentNode:Se(t,[n]);e.contains(E)||e.appendChild(E);Q(),0}()},hide:function(){0;var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,i=Ee(b.props.duration,1,Ye.duration);if(e||t||n)return;if(R("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,g=!1,p=!1,C()&&(E.style.visibility="hidden");if(F(),H(),M(),C()){var r=L(),o=r.box,a=r.content;b.props.animation&&(je([o,a],i),De([o,a],"hidden"))}j(),D(),b.props.animation?C()&&function(e,t){W(e,function(){!b.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&t()})}(i,b.unmount):b.unmount()},hideWithInteractivity:function(e){0;A().addEventListener("mousemove",v),Te(rt,v),v(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;J(),ee().forEach(function(e){e._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E);ot=ot.filter(function(e){return e!==b}),b.state.isMounted=!1,R("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),G(),delete e._tippy,b.state.isDestroyed=!0,R("onDestroy",[b])}};if(!d.render)return b;var w=d.render(b),E=w.popper,x=w.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+b.id,b.popper=E,e._tippy=b,E._tippy=b;var S=_.map(function(e){return e.fn(b)}),k=e.hasAttribute("aria-expanded");return V(),D(),M(),R("onCreate",[b]),d.showOnCreate&&te(),E.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(e){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&(A().addEventListener("mousemove",v),v(e))}),b;function O(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function T(){return"hold"===O()[0]}function C(){var e;return!!(null==(e=b.props.render)?void 0:e.$$tippy)}function P(){return c||e}function A(){var e=P().parentNode;return e?Fe(e):document}function L(){return tt(E)}function I(e){return b.state.isMounted&&!b.state.isVisible||Ue.isTouch||a&&"focus"===a.type?0:Ee(b.props.delay,e?0:1,Ye.delay)}function M(){E.style.pointerEvents=b.props.interactive&&b.state.isVisible?"":"none",E.style.zIndex=""+b.props.zIndex}function R(e,t,n){var i;(void 0===n&&(n=!0),S.forEach(function(n){n[e]&&n[e].apply(void 0,t)}),n)&&(i=b.props)[e].apply(i,t)}function j(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,i=E.id;Oe(b.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var r=t&&t.replace(i,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}})}}function D(){!k&&b.props.aria.expanded&&Oe(b.props.triggerTarget||e).forEach(function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===P()?"true":"false"):e.removeAttribute("aria-expanded")})}function F(){A().removeEventListener("mousemove",v),rt=rt.filter(function(e){return e!==v})}function N(e){if(!Ue.isTouch||!h&&"mousedown"!==e.type){var t=e.composedPath&&e.composedPath()[0]||e.target;if(!b.props.interactive||!Be(E,t)){if(Be(P(),t)){if(Ue.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[b,e]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),f=!0,setTimeout(function(){f=!1}),b.state.isMounted||H())}}}function B(){h=!0}function U(){h=!1}function z(){var e=A();e.addEventListener("mousedown",N,!0),e.addEventListener("touchend",N,be),e.addEventListener("touchstart",U,be),e.addEventListener("touchmove",B,be)}function H(){var e=A();e.removeEventListener("mousedown",N,!0),e.removeEventListener("touchend",N,be),e.removeEventListener("touchstart",U,be),e.removeEventListener("touchmove",B,be)}function W(e,t){var n=L().box;function i(e){e.target===n&&(Ne(n,"remove",i),t())}if(0===e)return t();Ne(n,"remove",s),Ne(n,"add",i),s=i}function q(t,n,i){void 0===i&&(i=!1),Oe(b.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,i),m.push({node:e,eventType:t,handler:n,options:i})})}function V(){var e;T()&&(q("touchstart",Y,{passive:!0}),q("touchend",K,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach(function(e){if("manual"!==e)switch(q(e,Y),e){case"mouseenter":q("mouseleave",K);break;case"focus":q(Ve?"focusout":"blur",Z);break;case"focusin":q("focusout",Z)}})}function G(){m.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,r=e.options;t.removeEventListener(n,i,r)}),m=[]}function Y(e){var t,n=!1;if(b.state.isEnabled&&!$(e)&&!f){var i="focus"===(null==(t=a)?void 0:t.type);a=e,c=e.currentTarget,D(),!b.state.isVisible&&Ie(e)&&rt.forEach(function(t){return t(e)}),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||p)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:te(e),"click"===e.type&&(p=!n),n&&!i&&ne(e)}}function X(e){var t=e.target,n=P().contains(t)||E.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,i=t.clientY;return e.every(function(e){var t=e.popperRect,r=e.popperState,o=e.props.interactiveBorder,a=Ce(r.placement),s=r.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,d="left"===a?s.right.x:0,p=t.top-i+l>o,f=i-t.bottom-c>o,h=t.left-n+u>o,g=n-t.right-d>o;return p||f||h||g})}(ee().concat(E).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null}).filter(Boolean),e)&&(F(),ne(e))}function K(e){$(e)||b.props.trigger.indexOf("click")>=0&&p||(b.props.interactive?b.hideWithInteractivity(e):ne(e))}function Z(e){b.props.trigger.indexOf("focusin")<0&&e.target!==P()||b.props.interactive&&e.relatedTarget&&E.contains(e.relatedTarget)||ne(e)}function $(e){return!!Ue.isTouch&&T()!==e.type.indexOf("touch")>=0}function Q(){J();var t=b.props,n=t.popperOptions,i=t.placement,r=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,s=C()?tt(E).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||P()}:e,u=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(C()){var n=L().box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)}),t.attributes.popper={}}}}];C()&&s&&u.push({name:"arrow",options:{element:s,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),b.popperInstance=he(c,E,Object.assign({},n,{placement:i,onFirstUpdate:l,modifiers:u}))}function J(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function ee(){return Pe(E.querySelectorAll("[data-tippy-root]"))}function te(e){b.clearDelayTimeouts(),e&&R("onTrigger",[b,e]),z();var t=I(!0),n=O(),r=n[0],o=n[1];Ue.isTouch&&"hold"===r&&o&&(t=o),t?i=setTimeout(function(){b.show()},t):b.show()}function ne(e){if(b.clearDelayTimeouts(),R("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&p)){var t=I(!1);t?r=setTimeout(function(){b.state.isVisible&&b.hide()},t):o=requestAnimationFrame(function(){b.hide()})}}else H()}}function st(e,t){void 0===t&&(t={});var n=Ye.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",He,be),window.addEventListener("blur",qe);var i=Object.assign({},t,{plugins:n}),r=Re(e).reduce(function(e,t){var n=t&&at(t,i);return n&&e.push(n),e},[]);return Le(e)?r[0]:r}st.defaultProps=Ye,st.setDefaultProps=function(e){Object.keys(e).forEach(function(t){Ye[t]=e[t]})},st.currentInput=Ue;Object.assign({},Q,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});st.setDefaultProps({render:nt});t.a=st},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var i=function(){function e(){this._cache={}}return e.prototype.existsEntry=function(e){return"template_"+e in this._cache},e.prototype.setEntry=function(e,t){return this._cache[e]=t,t},e.prototype.getEntry=function(e){return this._cache[e]},e.prototype.clearEntry=function(e){delete this._cache[e]},e}();t.Cache=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AuthState=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="AuthState",t.LAYOUT_TEMPLATE_NAME="new-premium",t.onDomReady=function(){t.initAbstractAuth(),t.ctx.tool&&(t.extraLoginParams={tool:t.ctx.tool}),t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen()},t._onLoginSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t._onRegisterSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t.executeAfterLoginOrRegisterSuccess=function(){var e=t.ctx._getInitialState();t.ctx.changeState(e),e.render(t.domRoot)},t}return r(t,e),t}(n(83).AbstractAuthState);t.AuthState=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CannotTrialState=void 0;var o=n(107),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="CannotTrialState",t.LAYOUT_TEMPLATE_NAME="new-premium",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"boxes"},currentPaymentMethod:t.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:t.t("paymentButtonText")},{name:"paypal"}]}).then(t._onAbstractPaymentInited)},t._onPaymentSuccess=function(e){var n="dialog"===t.ctx.getContextPlacement()?"popup":"auth";window.ev("send","event","user","premium",n);var i=new o.SubscriptionSuccessState;t.ctx.changeState(i),i.render(t.domRoot)},t._onPaymentFailed=function(e){},t._onAbstractPaymentInited=function(){setTimeout(t.clearLoadingScreen,150)},t}return r(t,e),t}(n(66).AbstractPaymentState);t.CannotTrialState=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionSuccessState=void 0;var o=n(9),a=n(13),s=n(18),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="SubscriptionSuccessState",t.LAYOUT_TEMPLATE_NAME="new-premium",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.ctx.setEndState(),t.changeScreen(t.INITIAL_SCREEN),t.init(),t.hideHeaderAndFooter(),t.clearLoadingScreen()},t._onDoneButtonClick=function(){t.dispatchEvent(new o.IloveEvent("end"))},t}return r(t,e),t.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var e=this.dialogSubtitle;e.innerHTML=e.innerHTML.replace("${email}","<b>${email}</b>"),e.innerHTML=a.Lang.tr(e.innerHTML,{email:this.authenticatedUserEmail})},t.prototype.hideHeaderAndFooter=function(){var e=this.domRoot.querySelector(".dialog__header");if(!e)throw"Header not found";var t=this.domRoot.querySelector(".dialog__footer");if(!t)throw"Footer not found";e.style.display="none",t.style.display="none"},Object.defineProperty(t.prototype,"dialogSubtitle",{get:function(){var e=this.domStateRoot.querySelector(".dialog__subtitle");if(!e)throw"Description elem not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authenticatedUserEmail",{get:function(){var e=s.UserModel.get();if(!e)throw"Authenticated user not found!";return e.email},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(!e)throw"'Done' button not found";return e},enumerable:!1,configurable:!0}),t}(n(19).StateBase);t.SubscriptionSuccessState=l},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StripeService=void 0;var c,u=o(n(35)),d=n(39),p=n(109),f=n(29),h=n(9),g=l(n(110));!function(e){e.CONFIRM_3DSECURE_PAYMENT="/stripe/confirm-payment",e.EXECUTE_PAYMENT="/stripe/execute",e.BUY_PACKAGE="/stripe/buy",e.UPDATE_CARD="/stripe/update-card"}(c||(c={}));var m=function(){function t(e){var t=this;void 0===e&&(e={}),this.eventEmitter=new f.ILoveEventEmitter,this.view=new p.StripeView(this,{onActionButtonClicked:function(){t.dispatchEvent(new h.IloveEvent("View:ActionButtonClicked"))}})}return t.prototype.updateCard=function(t){return a(this,void 0,void 0,function(){var n,i,r,o,a,l,u,d;return s(this,function(s){switch(s.label){case 0:return[4,this.getPaymentCardToken(t)];case 1:return n=s.sent(),i=n.id,r=e.post(c.UPDATE_CARD,{token:i}).promise(),l=(a=JSON).parse,[4,r.promise()];case 2:return o=l.apply(a,[s.sent()]),u={type:"update",notifyParams:{token:i}},this.needs3DSecure(o)?[4,this._resolve3DSecure(o,u)]:[3,4];case 3:return d=s.sent(),[3,5];case 4:d=o,s.label=5;case 5:return[2,d]}})})},t.prototype.setPaymentVia=function(e){this._paymentVia=e},t.prototype.paySubscription=function(t){return a(this,void 0,void 0,function(){var n,i,r,o,a,l,u,d;return s(this,function(s){switch(s.label){case 0:return n={interval:t.subscriptionInterval,users:t.numUsers,signatures:t.numDigitalSignatures,token:void 0,dtr:t.disableTrial,verifyCode:""},this.captcha||(this.captcha=new g.default(document.body)),[4,this.captcha.execute()];case 1:return i=s.sent(),n.verifyCode=i,[4,this._setupPaymentVia(n,t.paymentVia)];case 2:return s.sent(),r=e.post(c.EXECUTE_PAYMENT,n),l=(a=JSON).parse,[4,r.promise()];case 3:return o=l.apply(a,[s.sent()]),u={type:"subscription",notifyParams:n},this.needs3DSecure(o)?[4,this._resolve3DSecure(o,u)]:[3,5];case 4:return d=s.sent(),[3,6];case 5:d=o,s.label=6;case 6:return[2,d]}})})},t.prototype.payPackage=function(t){return a(this,void 0,void 0,function(){var n,i,r,o,a,l,u,d;return s(this,function(s){switch(s.label){case 0:return n={package:t.packageName,quantity:t.quantity,token:void 0,dtr:t.disableTrial,verifyCode:""},this.captcha||(this.captcha=new g.default(document.body)),[4,this.captcha.execute()];case 1:return i=s.sent(),n.verifyCode=i,[4,this._setupPaymentVia(n,t.paymentVia)];case 2:return s.sent(),r=e.post(c.BUY_PACKAGE,n),l=(a=JSON).parse,[4,r.promise()];case 3:return o=l.apply(a,[s.sent()]),u={type:"package",notifyParams:n},this.needs3DSecure(o)?[4,this._resolve3DSecure(o,u)]:[3,5];case 4:return d=s.sent(),[3,6];case 5:d=o,s.label=6;case 6:return[2,d]}})})},t.prototype._setupPaymentVia=function(e,t){return a(this,void 0,void 0,function(){var n,i;return s(this,function(r){switch(r.label){case 0:switch(i=t.type,t.type){case"stripeElement":return[3,1];case"stripeElementUpdateCard":return[3,3];case"paymentMethod":return[3,5]}return[3,6];case 1:return[4,this.getPaymentCardToken(t.cardElement)];case 2:return n=r.sent(),e.token=n.id,[3,7];case 3:return[4,this.getPaymentCardToken(t.cardElement)];case 4:return n=r.sent(),e.token=n.id,e.updatecard=!0,[3,7];case 5:return t.info,[3,7];case 6:throw"Unknown paymentVia type '"+i+"'";case 7:return[2]}})})},t.prototype._resolve3DSecure=function(e,t){return a(this,void 0,void 0,function(){var n,i,r;return s(this,function(o){switch(o.label){case 0:return this.needs3DSecure(e)?(n=this.extractIntentInfo(e),[4,this.show3DSecureScreenToUser(n)]):[2,e];case 1:switch(i=o.sent(),n.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,3]}return[3,5];case 2:return[2,e];case 3:return r=i.paymentIntent.id,[4,this.confirmPayment3DSecure(r,t)];case 4:return[2,e=o.sent()];case 5:throw"Unknown intent type "+n.intentType}})})},t.prototype.needs3DSecure=function(e){return!(!e||!e.user)&&("payment_intent"in e.user||"setup_intent"in e.user)},t.prototype.extractIntentInfo=function(e){var t;if(e.user.payment_intent)t="payment_intent";else{if(!e.user.setup_intent)throw"Unknown IntentType";t="setup_intent"}return{intentType:t,intentSecret:"payment_intent"===t?e.user.payment_intent:e.user.setup_intent}},t.prototype.confirmPayment3DSecure=function(t,n){return a(this,void 0,void 0,function(){var i,r,o,a;return s(this,function(s){switch(s.label){case 0:return i=Object.assign({},{payment_intent_id:t},n,n.notifyParams),r=e.post(c.CONFIRM_3DSECURE_PAYMENT,i),a=(o=JSON).parse,[4,r.promise()];case 1:return[2,a.apply(o,[s.sent()])]}})})},t.prototype.show3DSecureScreenToUser=function(e){return a(this,void 0,void 0,function(){var t,n;return s(this,function(i){switch(i.label){case 0:return[4,this.stripe];case 1:switch(t=i.sent(),e.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,4]}return[3,6];case 2:return[4,t.confirmCardSetup(e.intentSecret)];case 3:return n=i.sent(),[3,7];case 4:return[4,t.confirmCardPayment(e.intentSecret)];case 5:return n=i.sent(),[3,7];case 6:throw"Unknown secretType "+e.intentType;case 7:if(!("error"in n&&n.error))return[2,n];throw n}})})},t.prototype.getPaymentCardToken=function(e){return a(this,void 0,void 0,function(){var t,n;return s(this,function(i){switch(i.label){case 0:return[4,this.stripe];case 1:t=i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.createToken(e)];case 3:return n=i.sent(),[3,5];case 4:throw i.sent();case 5:if(n.error)throw this.view.notifyCardErrorMsg(n.error.message),n;return[2,n.token]}})})},Object.defineProperty(t.prototype,"stripe",{get:function(){var e=this;return this._stripe?Promise.resolve(this._stripe):new Promise(function(t,n){e.createStripeInstance().then(function(n){e._stripe=n,t(e._stripe)})})},enumerable:!1,configurable:!0}),t.prototype.loadStripeLibrary=function(){return a(this,void 0,void 0,function(){var e=this;return s(this,function(n){switch(n.label){case 0:return this.isStripeLibLoaded?(this.captcha||(this.captcha=new g.default(document.body)),[2,window.Stripe]):[4,new Promise(function(n,i){u.lazyload(t.stripeLibSrc);var r=window.setInterval(function(){e.isStripeLibLoaded&&(clearInterval(r),e.captcha=new g.default(document.body),n(window.Stripe))},100)})];case 1:return[2,n.sent()]}})})},t.prototype.createStripeInstance=function(){return a(this,void 0,void 0,function(){var e,n,i=this;return s(this,function(r){switch(r.label){case 0:return[4,this.loadStripeLibrary()];case 1:return e=r.sent(),n=e(t.stripeKey,{locale:window.lang}),this.isStripeInstanceReady(n)?[2,n]:[4,new Promise(function(e,t){var r=window.setInterval(function(){i.isStripeInstanceReady(n)&&(window.clearInterval(r),e(n))},100)})];case 2:return[2,r.sent()]}})})},t.prototype.isStripeInstanceReady=function(e){return"object"==typeof e},Object.defineProperty(t.prototype,"isStripeLibLoaded",{get:function(){return null!==window.Stripe&&"function"==typeof window.Stripe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paymentVia",{get:function(){return this._paymentVia},enumerable:!1,configurable:!0}),t.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},t.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},t.stripeKey=d.Settings.get("stripe_key"),t.stripeLibSrc="https://js.stripe.com/v3/",t}();t.StripeService=m}).call(this,n(1))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.StripeView=void 0;var o=n(58),a=n(13),s=function(){function e(e,t){var n=this;this._onKeepPaymentMethodBtnClicked=function(e,t){if("stripe"!==t.provider)throw"Payment method is not from provider Stripe";var i=n.currentPaymentMethodView,r=n.newPaymentMethodView;n.stripeService.setPaymentVia({type:"paymentMethod",info:t}),n.payButton.disabled=!1,i.style.display="",r.style.display="none"},this._onChangePaymentMethodBtnClicked=function(e,t){var i=n.currentPaymentMethodView,r=n.newPaymentMethodView;n.stripeService.setPaymentVia({type:"stripeElementUpdateCard",cardElement:t}),n.payButton.disabled=!1,i.style.display="none",r.style.display=""},this._onPayButtonClicked=function(){n.callback_onActionButtonClicked()},this._onStripeNewCardChange=function(e){e.error?(n.notifyCardErrorMsg(e.error.message),n.payButton.disabled=!1):(n.clearCardErrorMsg(),n.payButton.disabled=!1)},this.stripeService=e,this.callback_onActionButtonClicked=t.onActionButtonClicked}return e.prototype.getTranslationText=function(e){var t,n=this.view.querySelector(".stripe__text-translations");if(!n)throw"Stripe text translations not found";if(!(e in(t=JSON.parse(n.textContent))))throw"Stripe translation for key "+e+" not found";return t[e]},e.prototype.disableActionButton=function(){this.view&&(this.payButton.disabled=!1)},e.prototype.enableActionButton=function(){this.view&&(this.payButton.disabled=!1)},e.prototype.mount=function(t,n){var a;return i(this,void 0,void 0,function(){var i,s,l,c,u,d,p;return r(this,function(r){switch(r.label){case 0:return this.view?[2,this.view]:[4,o.AjaxTemplate.load(e.TEMPLATE_NAME)];case 1:if(i=r.sent(),(s=document.createElement("div")).innerHTML=i,this.view=s,t.appendChild(this.view),!(l=this.view.querySelector(e.cardMountPointSelector)))throw"Mount point for Stripe card not found";return c=this.currentPaymentMethodView,u=this.newPaymentMethodView,d=this,[4,this.mountCardOn(l)];case 2:return d.card=r.sent(),(p="currentPaymentMethod"in n&&"stripe"===(null===(a=null===n||void 0===n?void 0:n.currentPaymentMethod)||void 0===a?void 0:a.provider)&&n.currentPaymentMethod.last_card)?u.style.display="none":c.style.display="none",p?(this.setupViewCurrentPaymentMethod(n.currentPaymentMethod,this.card),this.payButton.disabled=!1,this.stripeService.setPaymentVia({type:"paymentMethod",info:n.currentPaymentMethod})):this.stripeService.setPaymentVia({type:"stripeElement",cardElement:this.card}),this.payButton.innerHTML=n.paymentButtonText,this.payButton.addEventListener("click",this._onPayButtonClicked),[2,this.view]}})})},e.prototype.setupViewCurrentPaymentMethod=function(e,t){var n=this;if("stripe"!==e.provider)throw"Payment method is not from provider Stripe";var i=this.currentPaymentMethodView,r=this.newPaymentMethodView,o=i.querySelector(".payment__card-details__text");if(!o)throw"Stripe - Card Details text not found";var s=o.querySelector(".payment__card-details__text__brand"),l=o.querySelector(".payment__card-details__text__expires"),c=s.innerHTML.replace("${cardBrand}","<span class='payment__card-brand'>${cardBrand}</span>");s.innerHTML=a.Lang.tr(c,{cardBrand:e.brand_card?e.brand_card:"",cardLast4Digits:e.last_card}),l.innerHTML=a.Lang.tr(l.innerHTML,{expMonthCard:e.exp_month_card,expYearCard:e.exp_year_card});var u=i.querySelector(".payment__card-details__change-btn");if(!u)throw"Change button for Stripe - CurrentPaymentMethod view not found";u.addEventListener("click",function(e){n._onChangePaymentMethodBtnClicked(e,t)});var d=r.querySelector(".payment__card-details__keep-card-btn");if(d.style.display="",!d)throw"'Keep payment method' button for Stripe not found";d.innerHTML=a.Lang.tr(d.innerHTML,{cardBrand:e.brand_card?e.brand_card:"",cardLast4Digits:e.last_card}),d.addEventListener("click",function(t){n._onKeepPaymentMethodBtnClicked(t,e)})},Object.defineProperty(e.prototype,"currentPaymentMethodView",{get:function(){var e=this.view.querySelector(".payment__stripe-view__current-payment-method-view");if(!e)throw"Stripe - Current Payment Method view not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newPaymentMethodView",{get:function(){var e=this.view.querySelector(".payment__stripe-view__new-payment-method-view");if(!e)throw"Stripe - New Payment Method view not found";return e},enumerable:!1,configurable:!0}),e.prototype.mountCardOn=function(e){return i(this,void 0,void 0,function(){var t,n,i;return r(this,function(r){switch(r.label){case 0:return[4,this.stripeService.stripe];case 1:return t=r.sent().elements(),n={base:{color:"#32325d",lineHeight:"24px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},(i=t.create("card",{style:n,hidePostalCode:!0})).mount(e),i.addEventListener("change",this._onStripeNewCardChange),[2,i]}})})},e.prototype.notifyCardErrorMsg=function(e){this.cardErrorMsgDom.forEach(function(t){t.classList.remove("payment__card-error--hidden"),t.textContent=e})},e.prototype.clearCardErrorMsg=function(){this.cardErrorMsgDom.forEach(function(e){e.classList.add("payment__card-error--hidden"),e.innerHTML="&nbsp;"})},Object.defineProperty(e.prototype,"payButton",{get:function(){var e=this.view.querySelector(".payment__pay-btn");if(!e)throw"Submit button not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cardErrorMsgDom",{get:function(){var e=Array.from(this.view.querySelectorAll(".payment__card-error"));if(0===e.length)throw"Card Error Msg DOM not found";return e},enumerable:!1,configurable:!0}),e.TEMPLATE_NAME="stripe",e.cardMountPointSelector=".payment__stripe-view__card-binding",e}();t.StripeView=s},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(35)),s=n(18),l=n(30),c="6LfLe9sbAAAAAO7MEsSovv3Na0tNlRReITiueEu8",u=function(){function e(e,t){var n=this;void 0===t&&(t=null),this.onCaptchaValue=function(e){n.value=e,n.onCaptchaExecuted&&n.onCaptchaExecuted(n.value)},0!=this.captchaNeeded()&&(t&&(this.onCaptchaExecuted=t),this.elementRoot=e,this.appendToElement(),this.loadCaptchaJs())}return e.prototype.loadCaptchaJs=function(){var e=this,t=this;return new Promise(function(n,i){if(window.grecaptcha)return e.grecaptcha=window.grecaptcha,n();a.lazyload("https://www.google.com/recaptcha/api.js?render="+c),e.captchaLoadInterval=window.setInterval(function(){null!==window.grecaptcha&&"object"==typeof window.grecaptcha&&(window.grecaptcha.ready(function(){return e.grecaptcha=window.grecaptcha,n()}),clearInterval(t.captchaLoadInterval))},100)})},e.prototype.appendToElement=function(){if(!document.getElementById("recaptcha")){var e=document.createElement("div");e.setAttribute("id","recaptcha"),e.setAttribute("class","g-recaptcha"),e.setAttribute("data-sitekey",c),e.setAttribute("data-callback","onCaptchaValue"),e.setAttribute("data-size","invisible"),this.elementRoot.appendChild(e),window.onCaptchaValue=this.onCaptchaValue}},e.prototype._execute=function(e){return void 0===e&&(e=null),self.grecaptcha.execute()},e.prototype.execute=function(e){var t=this;return void 0===e&&(e=null),0==this.captchaNeeded()?(this.value=l.Tools.randomId(),Promise.resolve(this.value)):(e&&(this.onCaptchaExecuted=e),new Promise(function(e,n){t.captchaInterval=window.setInterval(function(){t.grecaptcha&&(clearInterval(t.captchaInterval),t._execute().then(function(t){e(t)}))},100)}))},e.prototype.captchaNeeded=function(){var e=s.UserModel.get();return e&&1==e.sus_rbt},e}();t.default=u},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PaypalService=void 0;var c,u=a(n(35)),d=a(n(84)),p=n(39),f=n(29),h=n(9),g=n(58),m=n(85),v=a(n(24));!function(e){e.CREATE_PAYMENT_SUBSC="/paypal/create",e.EXECUTE_PAYMENT_SUBSC="/paypal/execute",e.CREATE_PAYMENT_PKG="/paypal/createbuy",e.EXECUTE_PAYMENT_PKG="/paypal/executebuy"}(c||(c={}));var y=function(){function e(e){var t=this;if(void 0===e&&(e={}),this._onPaymentInit_package=function(){t._onPaypalButtonClicked();var e=t,n=t.packageParams;return window.paypal.request.post(c.CREATE_PAYMENT_PKG,{package:n.packageName(),quantity:n.quantity(),dtr:n.disableTrial()}).then(function(t){return e.dispatchEvent(new h.IloveEvent("onPaymentInited",{action:"payPackage",params:n,response:t})),t},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on create payment package"),e.dispatchEvent(new h.IloveEvent("onPaymentInited_error",{action:"payPackage",params:n,error:JSON.parse(t)}))})},this._onAuthorize_package=function(e){var n=t,i=t.packageParams;return window.paypal.request.post(c.EXECUTE_PAYMENT_PKG,{token:e.paymentToken,payment_id:e.paymentID,payer_id:e.payerID,package:i.packageName(),quantity:i.quantity(),dtr:i.disableTrial()}).then(function(e){n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized",{action:"payPackage",params:i,response:e}))},function(e){v.configureScope(function(t){t.setExtra("error",JSON.parse(e))}),v.captureMessage("Paypal: error on execute payment package"),n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized_error",{action:"payPackage",params:i,error:JSON.parse(e)}))})},this._onPaymentInit_subsc=function(){t._onPaypalButtonClicked();var e=t,n=window.paypal,i=t.subscriptionParams,r=t.removeUndefinedValuesFromObject({interval:i.subscriptionInterval(),users:i.numUsers(),signatures:i.numDigitalSignatures(),dtr:i.disableTrial()});return n.request.post(c.CREATE_PAYMENT_SUBSC,r).then(function(t){return e.dispatchEvent(new h.IloveEvent("onPaymentInited",{action:"paySubscription",params:i,response:t})),t},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on create payment subscription"),e.dispatchEvent(new h.IloveEvent("onPaymentInited_error",{action:"paySubscription",params:i,error:JSON.parse(t)}))})},this._onPaypalButtonClicked=function(){t.clearErrorMsg()},this._onAuthorize_subsc=function(e){var n=t,r=window.paypal,o=t.subscriptionParams,a=t.removeUndefinedValuesFromObject({interval:o.subscriptionInterval(),users:o.numUsers(),signatures:o.numDigitalSignatures(),dtr:o.disableTrial()});return r.request.post(c.EXECUTE_PAYMENT_SUBSC,i({token:e.paymentToken,payment_id:e.paymentID,payer_id:e.payerID},a)).then(function(e){n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized",{action:"paySubscription",params:o,response:e}))},function(e){v.configureScope(function(t){t.setExtra("error",JSON.parse(e))}),v.captureMessage("Paypal: error on execute payment subscription"),n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized_error",{action:"paySubscription",params:o,error:JSON.parse(e)}))})},this._onCancel=function(e){},this.eventEmitter=new f.ILoveEventEmitter,d.isIEIntranet())throw"Is IE Intranet"}return e.prototype.notifyErrorMsg=function(e){this.errorMsgDom.classList.remove("payment__method-error--hidden"),this.errorMsgDom.innerHTML=e},e.prototype.clearErrorMsg=function(){this.errorMsgDom.classList.add("payment__method-error--hidden"),this.errorMsgDom.innerHTML="&nbsp;"},e.prototype.getTranslationText=function(e){var t,n=this.view.querySelector(".paypal__text-translations");if(!n)throw"Paypal text translations not found";if(!(e in(t=JSON.parse(n.textContent))))throw"Paypal translation for key "+e+" not found";return t[e]},Object.defineProperty(e.prototype,"errorMsgDom",{get:function(){var e=this.view.querySelector(".payment__method-error");if(!e)throw"Missing Paypal Error message DOM not found";return e},enumerable:!1,configurable:!0}),e.prototype.mountView=function(t,n){return s(this,void 0,void 0,function(){var i,r,o;return l(this,function(a){switch(a.label){case 0:return this.view?[2,this.view]:[4,g.AjaxTemplate.load(e.TEMPLATE_NAME)];case 1:if(i=a.sent(),(r=document.createElement("div")).innerHTML=i,this.view=r,t.appendChild(this.view),!(o=this.view.querySelector(e.buttonMountPointSelector)))throw"Mount point for Paypal button not found";switch(n.action.actionName){case"PaySubscription":this.mountPaySubscription(o,n.action.actionParams);break;case"PayPackage":this.mountPayPackage(o,n.action.actionParams);break;case"UpdateSubscription":this.mountUpdateSubscription(o,n.action.actionParams);break;default:throw"Unknown Paypal action for Paypal mountPoint func"}return[2,this.view]}})})},e.prototype.mountPayPackage=function(e,t){return s(this,void 0,void 0,function(){var n,i;return l(this,function(r){switch(r.label){case 0:return this.packageParams=t,[4,this.loadPaypalLibrary()];case 1:return r.sent(),n=this._onPaymentInit_package,i=this._onAuthorize_package,this.mountPaypalButton(e,{payment:n,onAuthorize:i}),[2]}})})},e.prototype.mountPaySubscription=function(e,t){return s(this,void 0,void 0,function(){var n,i;return l(this,function(r){switch(r.label){case 0:return this.subscriptionParams=t,[4,this.loadPaypalLibrary()];case 1:return r.sent(),n=this._onPaymentInit_subsc,i=this._onAuthorize_subsc,this.mountPaypalButton(e,{payment:n,onAuthorize:i}),[2]}})})},e.prototype.mountUpdateSubscription=function(e,t){return s(this,void 0,void 0,function(){return l(this,function(n){return[2,this.mountPaySubscription(e,t)]})})},e.prototype.mountPaypalButton=function(e,t){return s(this,void 0,void 0,function(){var n;return l(this,function(i){switch(i.label){case 0:return[4,this.loadPaypalLibrary()];case 1:return n=i.sent(),e.getAttribute("id")||e.setAttribute("id",m.Tools.randomId()),n.Button.render({env:p.Settings.get("paypal_env"),locale:this.assignedLocale,commit:!0,style:{label:"paypal",size:"medium",shape:"rect",color:"blue",tagline:!1},client:{sandbox:p.Settings.get("paypal_sandbox_key"),production:p.Settings.get("paypal_production_key")},payment:t.payment,onAuthorize:t.onAuthorize,onCancel:this._onCancel},"#"+e.getAttribute("id")),[2]}})})},e.prototype.removeUndefinedValuesFromObject=function(e){var t={};for(var n in e){void 0===e[n]||(t[n]=e[n])}return t},e.prototype.loadPaypalLibrary=function(){return s(this,void 0,void 0,function(){var t=this;return l(this,function(n){switch(n.label){case 0:return this.isPaypalLibLoaded?[2,window.paypal]:[4,new Promise(function(n,i){u.lazyload(e.paypalLibSrc);var r=window.setInterval(function(){t.isPaypalLibLoaded&&(clearInterval(r),n(window.paypal))},100)})];case 1:return[2,n.sent()]}})})},Object.defineProperty(e.prototype,"paypal",{get:function(){var e=this;return new Promise(function(t,n){e.loadPaypalLibrary().then(function(e){return t(e)})})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaypalLibLoaded",{get:function(){return null!==window.paypal&&"object"==typeof window.paypal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assignedLocale",{get:function(){var e="en_US";switch(window.lang){case"en-US":e="en_US";break;case"es":e="es_ES";break;case"it":e="it_IT";break;case"fr":e="fr_FR";break;case"de":e="de_DE";break;case"pt":e="pt_BR";break;case"zh-cn":e="zh_CN";break;case"id":e="id_ID";break;case"ja":e="ja_JP";break;case"nl":e="nl_NL";break;case"pl":e="pl_PL";break;case"ru":e="ru_RU";break;case"sv":e="sv_SE";break;case"th":e="th_TH";break;case"zh-tw":e="zh_TW"}return e},enumerable:!1,configurable:!0}),e.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},e.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},e.paypalLibSrc="https://www.paypalobjects.com/api/checkout.js",e.TEMPLATE_NAME="paypal",e.buttonMountPointSelector=".payment__paypal-view__button-binding",e}();t.PaypalService=y},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Lang=void 0;var a=o(n(113)),s=function(){function t(){}return t.t=function(t,n){var i="iloveLang";return n&&n.source&&(i=n.source),window[i]&&window[i][t]&&(t=window[i][t]),null!=n&&e.each(n,function(e,n){t=t.replace("${"+e+"}",n)}),t},t.w=function(n,i){void 0===n&&(n="translate"),e("."+n).each(function(){var n=e(this).html();e(this).html(t.t(n,i))}),e("#"+n).each(function(){var n=e(this).html();e(this).html(t.t(n,i))})},t.fontsForWritingSystem=function(e){switch(e){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];case"unknown":default:return["arial-unicode-ms"]}},t.getFontsInfo=function(){var e=window.fonts;if(!e)throw"[Lang Service] You have to load the fonts information from the backend to use this method";return e},t.loadAllFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&this.loadFont(e)},t.loadFont=function(e){e in this.loadedFonts||(a.lazyloadCss("/font/"+e+".css"),this.loadedFonts[e]=!0)},t.hasHindiCharacters=function(e){return e.split("").filter(function(e){var t=e.charCodeAt();return t>=2309&&t<=2361}).length>0},t.hasJapanCharacters=function(e){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(e)},t.hasChineseCharacters=function(e){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(e)},t.hasKoreanCharacters=function(e){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(e)},t.hasArabicCharacters=function(e){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(e)},t.hasGreekCharacters=function(e){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(e)},t.hasCyrillicCharacters=function(e){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(e)},t.hasCommonLatinCharacters=function(e){return!1},t.keyCodeToWritingSystem=function(e){for(var t in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[t],i=0;i<n.length;i++){var r=n[i],o=r[0],a=r[1];if(e>=o&&e<=a)return t}return"unknown"},t.detectWritingSystems=function(e){if(0===e.length)return[];for(var t={},n=0;n<e.length;n++){t[this.keyCodeToWritingSystem(e.charCodeAt(n))]=!0}return Object.keys(t)},t.loadedFonts={},t.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},t}();t.Lang=s}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyloadCss=void 0,t.lazyloadCss=function(e,t){void 0===t&&(t={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(e))return!0;var r=document.createElement("link");for(var o in r.rel="stylesheet",r.href=e,t)if(t.hasOwnProperty(o)){var a=t[o];r.setAttribute(o,a)}var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(r,s),!0}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CanTrialState=void 0;var o=n(66),a=n(115),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="CanTrialState",t.LAYOUT_TEMPLATE_NAME="new-premium",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"radio"},currentPaymentMethod:t.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:t.t("paymentButtonText")},{name:"paypal"}]}).then(t._onAbstractPaymentInited)},t._onPaymentSuccess=function(e,n){var i="dialog"===t.ctx.getContextPlacement()?"popup":"auth";window.ev("send","event","user","premium",i);var r=new a.TrialSuccessState;t.ctx.changeState(r),r.render(t.domRoot)},t._onPaymentFailed=function(e,t){},t._onAbstractPaymentInited=function(){setTimeout(t.clearLoadingScreen,150)},t}return r(t,e),t}(o.AbstractPaymentState);t.CanTrialState=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TrialSuccessState=void 0;var o=n(9),a=n(13),s=n(18),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="TrialSuccessState",t.LAYOUT_TEMPLATE_NAME="new-premium",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.ctx.setEndState(),t.changeScreen(t.INITIAL_SCREEN),t.init(),t.hideHeaderAndFooter(),t.clearLoadingScreen()},t._onDoneButtonClick=function(){t.dispatchEvent(new o.IloveEvent("end"))},t}return r(t,e),t.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var e=this.dialogSubtitle;e.innerHTML=e.innerHTML.replace("${email}","<b>${email}</b>"),e.innerHTML=a.Lang.tr(e.innerHTML,{email:this.authenticatedUserEmail})},t.prototype.hideHeaderAndFooter=function(){var e=this.domRoot.querySelector(".dialog__header");if(!e)throw"Header not found";var t=this.domRoot.querySelector(".dialog__footer");if(!t)throw"Footer not found";e.style.display="none",t.style.display="none"},Object.defineProperty(t.prototype,"dialogSubtitle",{get:function(){var e=this.domStateRoot.querySelector(".dialog__subtitle");if(!e)throw"Description elem not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authenticatedUserEmail",{get:function(){var e=s.UserModel.get();if(!e)throw"Authenticated user not found!";return e.email},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(!e)throw"'Done' button not found";return e},enumerable:!1,configurable:!0}),t}(n(19).StateBase);t.TrialSuccessState=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumState=void 0;var o=n(9),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="PremiumState",t.LAYOUT_TEMPLATE_NAME="new-premium",t.INITIAL_SCREEN="default",t.onDomReady=function(){},t}return r(t,e),t.prototype.render=function(e){this.dispatchEvent(new o.IloveEvent("end"))},t}(n(19).StateBase);t.PremiumState=a},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=void 0;var i=n(9),r=n(29),o=n(70),a=function(){function e(t){var n=this;void 0===t&&(t={}),this.isShown=!1,this.contentsListeningTo=new Array,this.destroyed=!1,this._canBeClosedByUser=void 0,this._isClosing=!1,this.show=function(){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";if(document.body.style.overflow="hidden",!n.isShown){var t=n.element,r=n.backdrop,o=n.closeBtn;return n.content&&n.content.reset(),0==n.props.enableCloseBtn&&o&&(o.style.display="none"),n.dialog.style.display="",n.elementContainer,t.offsetWidth,n.elementContainer.classList.add("dialog__container--appeared"),r.offsetWidth,r.classList.add("dialog__backdrop--appeared"),n.isShown=!0,e.visibleDialogs.add(n),void n.dispatchEvent(new i.IloveEvent("shown"))}},this.close=function(){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";n.isShown&&(n.elementContainer.classList.remove("dialog__container--appeared"),n.backdrop.classList.remove("dialog__backdrop--appeared"),n._isClosing=!0,setTimeout(function(){n._dialog&&(n.dialog.style.display="none"),n.isShown=!1,n._isClosing=!1,document.body.style.overflow="",e.visibleDialogs.delete(n),n.dispatchEvent(new i.IloveEvent("hidden"))},250),n.dispatchEvent(new i.IloveEvent("closed")),n.content&&n.content.notifyOfContainerClosing())},this.getDialogName=function(){return n.props.dialogName},this.destroy=function(){n.destroyed||(n._dialog&&(n._dialog.parentNode.removeChild(n._dialog),n._dialog=void 0),n.destroyed=!0)},this.setContent=function(e){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";return n.content=e,e.setContextPlacement("dialog"),e.render(n.domRoot),n.listenToEvents(e),n},this._closeOnEscapeKey=function(e){"Escape"===e.key&&n.close()},this.createDialogContainer=function(){var e=document.createElement("div");return e.classList.add("dialog__container"),e},this.createDialogElement=function(){var e=document.createElement("div");return e.classList.add("dialog__element"),e},this.createDialogBackdrop=function(){var e=document.createElement("div");return e.classList.add("dialog__backdrop"),n.props.clickAwayClose&&e.addEventListener("click",function(){n.canBeClosedByUser()&&n.close()}),e},this.initCloseBtn=function(){n.dialog.addEventListener("click",function(e){e.target.classList.contains("dialog__close")&&n.canBeClosedByUser()&&(o.Banner.preventClickAds(),n.close())})},this.eventEmitter=new r.ILoveEventEmitter,this.props=this.mergeWithDefaultPropValues(t)}return e.getVisibleDialogs=function(){return Array.from(this.visibleDialogs).filter(function(e){return!e.isClosing()})},e.prototype.canBeClosedByUser=function(){return void 0!==this._canBeClosedByUser?this._canBeClosedByUser:this.props.canBeClosedByUser},e.prototype.isClosedOrInProcessOfClosing=function(){return this.isClosing()||!this.isShown},e.prototype.isClosing=function(){return this._isClosing},e.prototype.listenToEvents=function(e){var t=this;-1!==this.contentsListeningTo.indexOf(e.getInstanceID())||(e.addEventListener("end",function(){t.isClosedOrInProcessOfClosing()||t.close()}),e.addEventListener("disableContentAbandonment",function(){return t._canBeClosedByUser=!1}),e.addEventListener("unsetContentAbandonment",function(){return t._canBeClosedByUser=void 0}),this.contentsListeningTo.push(e.getInstanceID()))},Object.defineProperty(e.prototype,"dialog",{get:function(){var e,t=this;if(!this._dialog){var n=this.createDialogContainer(),i=this.createDialogElement();n.appendChild(i);var r=this.createDialogBackdrop();this._dialog=document.createElement("div"),this.props.dialogName&&this._dialog.setAttribute("data-dialog-name",this.props.dialogName),this._dialog.classList.add("dialog"),(null===(e=this.props.classes)||void 0===e?void 0:e.length)>0&&this.props.classes.forEach(function(e){return t._dialog.classList.add(e)}),this._dialog.appendChild(n),this._dialog.appendChild(r),this.props.enableCloseBtn&&this.initCloseBtn(),this._dialog.style.display="none",document.body.appendChild(this._dialog)}return this._dialog},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"domRoot",{get:function(){return this.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.dialog.children[0].children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementContainer",{get:function(){return this.dialog.querySelector(".dialog__container")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backdrop",{get:function(){return this.dialog.children[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeBtn",{get:function(){return this.dialog.querySelector(".dialog__close")},enumerable:!1,configurable:!0}),e.prototype.mergeWithDefaultPropValues=function(e){var t,n,i,r,o=null===(t=e.canBeClosedByUser)||void 0===t||t,a=null!==(n=e.clickAwayClose)&&void 0!==n&&n,s=null!==(i=e.enableCloseBtn)&&void 0!==i?i:o,l=null!==(r=e.classes)&&void 0!==r?r:[];return{dialogName:e.dialogName,canBeClosedByUser:o,clickAwayClose:a,escapeKeyClose:o,enableCloseBtn:s,classes:l}},e.prototype.getContent=function(){return this.content},e.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},e.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},e.visibleDialogs=new Set,e}();t.Dialog=a},function(e){e.exports=JSON.parse('{"default":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,gif,png","mime":"image/jpeg,image/jpg,image/gif,image/png"}],"multiSelection":true},"resizeimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,gif,png,svg","mime":"image/jpeg,image/jpg,image/gif,image/png,image/svg+xml"}],"multiSelection":true},"cropimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,gif,png","mime":"image/jpeg,image/jpg,image/gif,image/png"}],"multiSelection":false},"fromjpg":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg","mime":"image/jpeg,image/jpg"}],"multiSelection":true},"tojpg":{"mimeTypes":[{"title":"Image files","extensions":"gif,tif,tiff,png,crw,cr2,dng,raf,nef,nrw,orf,rw2,pef,arw,srf,sr2,raw,psd,svg,webp,heic","mime":"image/png,image/x-sony-arw,image/x-canon-cr2,image/x-canon-crw,image/x-kodak-dcr,image/x-adobe-dng,image/x-epson-erf,image/x-kodak-k25,image/x-kodak-kdc,image/x-minolta-mrw,image/x-nikon-nef,image/x-olympus-orf,image/x-pentax-pef,image/x-fuji-raf,image/x-panasonic-raw,image/x-sony-sr2,image/x-sony-srf,image/x-sigma-x3f,image/svg+xml,mage/vnd.adobe.photoshop,application/x-photoshop,image/webp,image/heic"}],"multiSelection":true},"watermarkimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png,gif","mime":"image/jpeg,image/jpg,image/png,image/gif"}],"multiSelection":true},"memeimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png,gif","mime":"image/jpeg,image/jpg,image/png,image/gif"}],"multiSelection":false},"compressimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png,gif,svg","mime":"image/jpeg,image/jpg,image/png,image/gif,image/svg"}],"multiSelection":true}}')},,,function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(146),n(44),n(88)],void 0===(o="function"==typeof(i=function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.13.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(44)],void 0===(o="function"==typeof(i=function(e){return e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0;var i=n(30),r=function(){function t(){}return t.initTermsPopup=function(){var t=this;e(document).on("click",".termsLink",function(e){e.preventDefault(),t.termsPopup()}),e(document).on("click",".legalLink",function(e){e.preventDefault(),t.legalPopup()})},t.termsPopup=function(){if(0==e("#termsModal").length){e(i.Tools.modalView({id:"termsModal"})).appendTo("body");var t=e(".termsLink").attr("data-a-href")?e(".termsLink").attr("data-a-href"):e(".termsLink").attr("href");e("#termsModal .modal-body").load(t+" #terms")}e("#termsModal").modal("show")},t.legalPopup=function(){if(0==e("#legalModal").length){e(i.Tools.modalView({id:"legalModal"})).appendTo("body");var n=e(".legalLink").attr("data-a-href")?e(".legalLink").attr("data-a-href"):e(".legalLink").attr("href");e("#legalModal .modal-body").load(n+" #privacy",function(){t.runIubenda()})}e("#legalModal").modal("show")},t.runIubenda=function(){var e,t;e=document.createElement("script"),t=document.getElementsByTagName("script")[0],e.src="//cdn.iubenda.com/iubenda.js",t.parentNode.insertBefore(e,t)},t}();t.Popup=r}).call(this,n(1))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PluploadUpload=void 0;var l=o(n(35)),c=n(13),u=o(n(24)),d=n(14),p=n(71),f=n(70),h=function(){function t(e){this.SLOW_CONNECTION_LIMIT=200,this.BPS_CONNECTION_LIMIT=2e4,this.RETRY_NUM=4,this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.id="pickfiles",this.container="uploader",this.servers=null,this.haveDrop=!0,this.dropElement="workArea",this.ignoreFiles=!1,this.chunkSize="2Mb",Object.assign(this,e),this.appVersion=p.APP_VERSION,this.apiVersion=p.API_VERSION,this.slowConnectionCounter=0,this.dnsFallback=!1,this.dnsFallbackActive=!1,this.servers=this.shuffle(this.servers),this.notCheckedServers=this.servers,this.retryCount=this.RETRY_NUM,this.settimer0=null,this.settimer1=null;var t=this.notCheckedServers.indexOf(this.workerServer);t>-1&&this.notCheckedServers.splice(t,1),this.uploader=null,this.timeout=null,this.timeLimit=684e4,this.timeCheck=3e5,this.checkServerStatusOnStart=this.optionsManager.checkServerStatusOnStart,this.init()}return t.prototype.shuffle=function(e){for(var t,n=e.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1));t=[e[i],e[n]],e[n]=t[0],e[i]=t[1]}return e},t.prototype.init=function(){var t=this;this.initPlupload().then(function(){e("#"+t.id).addClass("active"),t.configPlupload(),t.dragDrop(),t.checkTimeoutInterval(),t.listenEventTaskIdChanged(),t.listenEventLimitsChanged()},function(){})},t.prototype.initPlupload=function(){return new Promise(function(e){if(null===window.plupload||void 0!==window.plupload)return e(!0);l.lazyload("/js/plupload/plupload.full.min.js");var t=window.setInterval(function(){if(null!==window.plupload&&"object"==typeof window.plupload)return clearInterval(t),e(!0)},100)})},t.prototype.listenEventTaskIdChanged=function(){var e=this;window.addEventListener("taskIdChanged",function(t){var n=t.detail.taskId;n&&e.changeTaskId(n)})},t.prototype.listenEventLimitsChanged=function(){var e=this;window.addEventListener("limitsChanged",function(t){e.checkLimits([],e.id),e.uploadPendingFiles()})},t.prototype.changeDNSServer=function(e){return this.workerServer=this.workerServer.replace(".","-cf."),this.optionsManager.changeServer(this.workerServer),this.uploader.setOption("url",this.workerServer+"/"+this.apiVersion+"/upload"),this.dnsFallbackActive=!0,window.ev("sendOnce","event","upload-info","upload-change","dns - "+e),u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"change dns: "+e}),!0},t.prototype.checkServerStatus=function(){var e=this;return new Promise(function(t,n){1==e.optionsManager.checkServerStatusOnStart?(e.optionsManager.checkServerStatusOnStart=!1,e.optionsManager.processManager.api.getStatus(e.workerServer).then(function(n){n&&"down"==n.status&&e.changeServer(),t()},function(n){e.changeServer(),t()})):t()})},t.prototype.changeServer=function(){var e=this;if(this.notCheckedServers=this.notCheckedServers.filter(function(t){return t!=e.workerServer.replace("-cf.",".")}),this.notCheckedServers.length>0){var t=this.workerServer,n=this.notCheckedServers[0];return this.workerServer=n,this.uploader.stop(),this.uploader.setOption("url",n+"/"+this.apiVersion+"/upload"),window.ev("sendOnce","event","upload-info","upload-change","server-"+t),this.optionsManager.changeServer(n),this.optionsManager.checkServerStatusOnStart=this.checkServerStatusOnStart,this.uploader.start(),u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"change server: "+t+" - "+this.workerServer}),!0}return!1},t.prototype.configPlupload=function(){var t=this,n=this,i={file:null,offset:0,chunk:0};this.uploader=new window.plupload.Uploader({browse_button:n.id,chunk_size:this.chunkSize,max_retries:0,runtimes:"html5",container:n.container,drop_element:n.dropElement,dragdrop:n.haveDrop,multi_selection:n.config.getConfig("multiSelection"),url:n.getUrl(),filters:{mime_types:n.config.getConfig("mimeTypes")},headers:n.getHeaders(),multipart_params:n.getUploadParams(),init:{Init:function(e,t){},PostInit:function(){},QueueChanged:function(e){},FilesAdded:function(t,i){return a(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return f.Banner.preventClick(),[4,n.checkServerStatus()];case 1:return r.sent(),0,i.length,e.each(i,function(e,t){t.upBy=n.id,1==n.ignoreFiles&&(t.ignored=!0,n.optionsManager.limits.addIgnoredFile(t.id)),n.files.addFile(t)}),0==n.ignoreFiles&&(i=n.checkLimits(i,t)),e.each(n.files.removed,function(e,n){try{t.removeFile(n)}catch(e){}}),i.length>0?(e.each(i,function(e,i){"errorData"in i&&delete i.errorData,n.fileAdded(i,t)}),0==n.files.limited.length&&2!=t.state&&t.start(),[2]):[2,!1]}})})},FilesRemoved:function(e,t){},BeforeUpload:function(e,t){if(!t)return e.stop(),!1;i.file=t,i.offset=0,i.chunk=0,u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"before upload: "+t.name+" w."+t.size})},BeforeChunkUpload:function(t,o,a,s,l){return!1===n.isOnline?(t.stop(),!1):s&&s.size&&0!=s.size?(n.timeout=Date.now(),u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"before chunk: "+i.chunk}),1==n.dnsFallback&&0==n.dnsFallbackActive?(n.changeDNSServer("slow"),r(),!1):void 0):(o.status=window.plupload.FAILED,n.error({error:"FileRemoved",file:o}),o.errorData="FileRemoved",t.removeFile(o.id),n.uploader.stop(),e("body").hasClass("process-run")||n.uploader.start(),!1)},ChunkUploaded:function(e,t,n){i.offset=n.offset,i.chunk++},UploadProgress:function(t,i){if(!i)return!1;e("#uploadSpeed").html(window.plupload.formatSize(t.total.bytesPerSec).toUpperCase()+"/S");var r=Math.round((t.total.size-t.total.loaded)/t.total.bytesPerSec*1e3);void 0!=o(r)&&e("#timeLeft").html(o(r).toUpperCase()),i.size>3*n.BPS_CONNECTION_LIMIT&&t.total.bytesPerSec<n.BPS_CONNECTION_LIMIT?n.slowConnectionCounter++:n.slowConnectionCounter--,n.slowConnectionCounter==n.SLOW_CONNECTION_LIMIT&&(n.dnsFallback=!0,u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"Slow Connection: Set to change server"}))},FileUploaded:function(e,t,r){i.file=null;var o=JSON.parse(r.response);n.fileUploaded(t.id,o)},UploadComplete:function(e,t){t.forEach(function(e){return n.fileChanged(e.id)})},Error:function(t,i){-600!=i.code||0!=i.file.origSize?-600==i.code&&i.file.origSize>0?window.Toastr.error(c.Lang.t("FileSizeExceeded")+"<br>"+i.file.name,c.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-601!=i.code?-200==i.code&&"status"in i&&400==i.status?n.error(i):-200==i.code?(u.addBreadcrumb({category:"upload",level:d.Severity.Error,message:"Server Error"}),500==i.status||401==i.status?(u.addBreadcrumb({category:"upload",level:d.Severity.Error,message:"Server Error"}),500==i.status&&(u.configureScope(function(e){e.setExtra("error500",i)}),u.captureMessage("upload500")),401==i.status&&(u.configureScope(function(e){e.setExtra("error401",i),e.setExtra("token",n.token)}),u.captureMessage("upload401")),1==n.changeServer()?n.reUploadAllFiles():(n.timeout=null,n.uploader.stop(),n.fatalError("ServerError"),"file"in i&&(i.file.errorData="ServerError"))):n.retryCount>0?(n.retryCount--,n.uploader.stop(),r(!0)):0==n.dnsFallbackActive?(n.uploader.stop(),n.retryCount=n.RETRY_NUM,n.changeDNSServer("connection"),r(!0)):0==i.status&&"HTTP Error."==i.message?1==n.changeServer()?n.reUploadAllFiles():(n.timeout=null,e("body").hasClass("process-run")?(n.error({error:"ConnectionError"}),n.processManager.status="error",n.uploader.stop()):n.error({error:"ConnectionError"})):n.uploader.stop()):(n.uploader.stop(),t.removeFile(i.file.id),n.error(i)):window.Toastr.error(c.Lang.t("InvalidExtension")+"<br>"+i.file.name,c.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):window.Toastr.error(c.Lang.t("EmptyFile")+"<br>"+i.file.name,c.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"})}}});var r=function(e){void 0===e&&(e=!1),i.file.loaded=i.offset,clearTimeout(n.settimer1),n.settimer1=setTimeout(function(){if(u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"retry upload "}),i.file){i.file.status=window.plupload.UPLOADING,n.uploader.state=window.plupload.STARTED;try{n.uploader.trigger("UploadFile",i.file)}catch(e){n.uploader.stop(),n.uploader.start()}}},1500)};function o(e){c.Lang.t("Time left");var t,n=c.Lang.t("minute"),i=c.Lang.t("hour"),r=c.Lang.t("less than"),o=c.Lang.t("minutes"),a=c.Lang.t("hours"),s=c.Lang.t("seconds"),l=Math.floor(e/1e3);e%=1e3;var u=Math.floor(l/60);l%=60;var d=Math.floor(u/60);u%=60;Math.floor(d/60);return 0==(d%=60)?0==u?t=l+" "+s:1==u?t="1 "+n:u>1&&(t=" "+u+" "+o):1==d?t=r+" "+(d+1)+" "+a:d>1&&(t=r+" "+d+" "+i),t}window.addEventListener("goProcess",function(){var e={task:n.taskId,preview:0,v:n.appVersion};n.uploader.setOption("multipart_params",e)},!1),window.addEventListener("offline",function(){n.isOnline=!1,n.uploader.stop(),u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"go offline "})},!1),window.addEventListener("online",function(){if(n.isOnline=!0,null===i.file)return!1;u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"go online"}),r()},!1),window.addEventListener("fileRemoved",function(e){t.uploader.removeFile(e.detail.fileId),t.optionsManager.limits&&t.optionsManager.limits.setFileLimits(),t.uploadPendingFiles()}),this.uploader.init()},t.prototype.uploadPendingFiles=function(){this.uploader.start()},t.prototype.reUploadAllFiles=function(){var e=this.uploader;u.addBreadcrumb({category:"upload",level:d.Severity.Info,message:"Reuploading all files "+this.id}),e.stop(),clearTimeout(this.settimer0),e.files.forEach(function(e,t){e.status=window.plupload.QUEUED,e.percent=0,e.loaded=0,e.error=!1,e.retry=!0,e.server_filename&&(delete e.server_filename,e.reUploaded=!0)}),this.settimer0=setTimeout(function(){e.refresh(),e.start()},500)},t.prototype.getHeaders=function(){return this.token||u.captureMessage("no token on upload!"),{Authorization:"Bearer "+this.token,Accept:"application/json"}},t.prototype.getUrl=function(){return this.workerServer+"/"+this.apiVersion+"/upload"},t.prototype.getUploadParams=function(){return{task:this.taskId,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0,pdfforms:1==window.pdfforms?1:0,pdfresetforms:1==window.pdfresetforms?1:0,v:this.appVersion}},t.prototype.checkLimits=function(e,t){return this.optionsManager.checkLimits(e,this.id)},t.prototype.getOnlyNoLimitedFiles=function(e){return e.filter(function(e){return!0!==e.limited})},t.prototype.getOnlyLimitedFiles=function(e){return e.filter(function(e){return!0===e.limited})},t.prototype.fileAdded=function(e,t){e.runtime=t.runtime,e.canvasId=e.id,this.optionsManager.fileAdded(e,this.id,this.ignoreFiles).then(function(){},function(){})},t.prototype.fileUploaded=function(e,t){this.optionsManager.fileUploaded(e,t)},t.prototype.fileChanged=function(e){this.optionsManager.fileChanged&&this.optionsManager.fileChanged(e)},t.prototype.error=function(e){this.optionsManager.invalidUpload(e)},t.prototype.fatalError=function(e){this.optionsManager.fatalError(e)},t.prototype.dragDrop=function(){"function"!=typeof e.fn.dndhover&&0!=this.haveDrop&&(e.fn.dndhover=function(t){return this.each(function(){var t=e(this),n=e();t.on("dragenter",function(e){if(0===n.length){var i=e.originalEvent.dataTransfer;i.types&&(i.types.indexOf?-1!=i.types.indexOf("Files"):i.types.contains("Files"))&&t.trigger("dndHoverStart")}n=n.add(e.target)}),t.on("dragleave",function(e){setTimeout(function(){0===(n=n.not(e.target)).length&&t.trigger("dndHoverEnd")},1)}),t.on("drop",function(e){setTimeout(function(){0===(n=n.not(e.target)).length&&t.trigger("dndHoverEnd")},1)})})},e(".tool__workarea").dndhover().on({dndHoverStart:function(t){return e("#dropArea").text(c.Lang.t("dropIt")),e("#dropArea").show(),t.stopPropagation(),t.preventDefault(),!1},dndHoverEnd:function(t){return e("#dropArea").hide(),t.stopPropagation(),t.preventDefault(),!1}}))},t.prototype.timeIsOk=function(){if(null==this.timeout)return!0;var e=Date.now()-this.timeLimit;return this.timeout>e},t.prototype.checkTimeoutInterval=function(){var e=this;window.setInterval(function(){e.checkTimeout()},e.timeCheck)},t.prototype.checkTimeout=function(){null!=this.timeout&&(this.timeIsOk()||(this.uploader.stop(),this.optionsManager.timeout&&this.optionsManager.timeout(),this.timeout=null))},t.prototype.changeTaskId=function(e){if(this.taskId=e,this.uploader){var t=this.getUploadParams();this.uploader.setOption("multipart_params",t)}},t}();t.PluploadUpload=h}).call(this,n(1))},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(46)],void 0===(o="function"==typeof(i=function(e){var t=e.transform;e.transform=function(n,i,r,o,a){t.call(e,e.scale(n,i,a),i,r,o,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,i,r,o,a=t.aspectRatio;if(!a)return t;for(i in n={},t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.crop=!0,r=e.naturalWidth||e.width,o=e.naturalHeight||e.height,r/o>a?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/a),n},e.renderImageToCanvas=function(e,t,n,i,r,o,a,s,l,c,u){var d=e.getContext("2d");return!1===u.imageSmoothingEnabled?d.imageSmoothingEnabled=!1:u.imageSmoothingQuality&&(d.imageSmoothingQuality=u.imageSmoothingQuality),d.drawImage(t,n,i,r,o,a,s,l,c),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,i){n=n||{};var r,o,a,s,l,c,u,d,p,f,h,g=document.createElement("canvas"),m=t.getContext||e.hasCanvasOption(n)&&g.getContext,v=t.naturalWidth||t.width,y=t.naturalHeight||t.height,_=v,b=y;function w(){var e=Math.max((a||_)/_,(s||b)/b);e>1&&(_*=e,b*=e)}function E(){var e=Math.min((r||_)/_,(o||b)/b);e<1&&(_*=e,b*=e)}if(m&&(n=e.getTransformedOptions(t,n,i),u=n.left||0,d=n.top||0,n.sourceWidth?(l=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=v-l-n.right)):l=v-u-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=y-c-n.bottom)):c=y-d-(n.bottom||0),_=l,b=c),r=n.maxWidth,o=n.maxHeight,a=n.minWidth,s=n.minHeight,m&&r&&o&&n.crop?(_=r,b=o,(h=l/c-r/o)<0?(c=o*l/r,void 0===n.top&&void 0===n.bottom&&(d=(y-c)/2)):h>0&&(l=r*c/o,void 0===n.left&&void 0===n.right&&(u=(v-l)/2))):((n.contain||n.cover)&&(a=r=r||a,s=o=o||s),n.cover?(E(),w()):(w(),E())),m){if((p=n.pixelRatio)>1&&(g.style.width=_+"px",g.style.height=b+"px",_*=p,b*=p,g.getContext("2d").scale(p,p)),(f=n.downsamplingRatio)>0&&f<1&&_<l&&b<c)for(;l*f>_;)g.width=l*f,g.height=c*f,e.renderImageToCanvas(g,t,u,d,l,c,0,0,g.width,g.height,n),u=0,d=0,l=g.width,c=g.height,(t=document.createElement("canvas")).width=l,t.height=c,e.renderImageToCanvas(t,g,0,0,l,c,0,0,l,c,n);return g.width=_,g.height=b,e.transformCoordinates(g,n),e.renderImageToCanvas(g,t,u,d,l,c,0,0,_,b,n)}return t.width=_,t.height=b,t}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(46),n(80)],void 0===(o="function"==typeof(i=function(e){e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(t,n,i){if(i&&!(n+i>t.byteLength))return e.createObjectURL(new Blob([t.buffer.slice(n,n+i)]))},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,i,r,o,a){var s,l,c,u,d,p,f=e.exifTagTypes[r];if(f&&(s=f.size*o,!((l=s>4?n+t.getUint32(i+8,a):i+8)+s>t.byteLength))){if(1===o)return f.getValue(t,l,a);for(c=[],u=0;u<o;u+=1)c[u]=f.getValue(t,l+u*f.size,a);if(f.ascii){for(d="",u=0;u<c.length&&"\0"!==(p=c[u]);u+=1)d+=p;return d}return c}},e.parseExifTag=function(t,n,i,r){return{number:t.getUint16(i,r),value:e.getExifValue(t,n,i,t.getUint16(i+2,r),t.getUint32(i+4,r),r)}},e.parseExifTags=function(e,t,n,i,r){var o,a,s,l,c;if(!(n+6>e.byteLength||(o=e.getUint16(n,i),(a=n+2+12*o)+4>e.byteLength))){for(s=0;s<o;s+=1)l=n+2+12*s,c=this.parseExifTag(e,t,l,i,r),r.exif[c.number]=c.value,r.exifOffsets&&(r.exifOffsets[c.number]=l);return e.getUint32(a,i)}},e.parseExifData=function(t,n,i,r,o){if(!o.disableExif){var a,s,l,c=n+10;if(1165519206===t.getUint32(n+4)&&!(c+8>t.byteLength)&&0===t.getUint16(n+8)){switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return}42===t.getUint16(c+2,a)&&(s=t.getUint32(c+4,a),r.exif=new e.ExifMap,o.disableExifOffsets||(r.exifOffsets=new e.ExifMap,r.exifTiffOffset=c,r.exifLittleEndian=a),(s=e.parseExifTags(t,c,c+s,a,r))&&!o.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,c,c+s,a,l),l.exif[513]&&(r.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),r.exif[34665]&&!o.disableExifSub&&e.parseExifTags(t,c,c+r.exif[34665],a,r),r.exif[34853]&&!o.disableExifGps&&e.parseExifTags(t,c,c+r.exif[34853],a,r))}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,n){var i=new DataView(e,t.exifOffsets[274]+8,2);return i.setUint16(0,n,t.exifLittleEndian),e}},e.writeExifData=function(t,n,i,r){e.exifWriters[n.exif.map[i]](t,n,r)}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(46),n(80)],void 0===(o="function"==typeof(i=function(e){e.IptcMap=function(){return this},e.IptcMap.prototype.map={ObjectName:5},e.IptcMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcTags=function(e,t,n,i){function r(e,t,n){for(var i="",r=t;r<t+n;r++)i+=String.fromCharCode(e.getUint8(r));return i}for(var o,a,s,l=t;l<t+n;)28===e.getUint8(l)&&2===e.getUint8(l+1)&&(s=e.getUint8(l+2))in i.iptc.tags&&(a=e.getInt16(l+3),o=r(e,l+5,a),Object.prototype.hasOwnProperty.call(i.iptc,s)?i.iptc[s]instanceof Array?i.iptc[s].push(o):i.iptc[s]=[i.iptc[s],o]:i.iptc[s]=o),l++},e.parseIptcData=function(t,n,i,r,o){if(!o.disableIptc)for(var a=n+i,s=function(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)};n+8<a;){if(s(t,n)){var l=t.getUint8(n+7);l%2!=0&&(l+=1),0===l&&(l=4);var c=n+8+l;if(c>a)break;var u=t.getUint16(n+6+l);if(n+u>a)break;return r.iptc=new e.IptcMap,e.parseIptcTags(t,c,u,r)}n++}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData)})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var i=n(56),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,r,o,s=t||e.length,c=new Array(2*s);for(i=0,n=0;n<s;)if((r=e[n++])<128)c[i++]=r;else if((o=a[r])>4)c[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?c[i++]=65533:r<65536?c[i++]=r:(r-=65536,c[i++]=55296|r>>10&1023,c[i++]=56320|1023&r)}return l(c,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},,,function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=c(/Edge/i),p=c(/firefox/i),f=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),h=c(/iP(ad|od|hone)/i),g=c(/chrome/i)&&c(/android/i),m={capture:!1,passive:!1};function v(e,t,n){e.addEventListener(t,n,!u&&m)}function y(e,t,n){e.removeEventListener(t,n,!u&&m)}function _(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function b(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&_(e,t):_(e,t))||i&&e===n)return e;if(e===n)break}while(e=b(e))}return null}var E,x=/\s+/g;function S(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(x," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(x," ")}}function k(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function O(e,t){var n="";if("string"==typeof e)n=e;else do{var i=k(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function T(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function C(){var e=document.scrollingElement;return e||document.documentElement}function P(e,t,n,i,r){if(e.getBoundingClientRect||e===window){var o,a,s,l,c,d,p;if(e!==window&&e.parentNode&&e!==C()?(a=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,c=o.right,d=o.height,p=o.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!u))do{if(r&&r.getBoundingClientRect&&("none"!==k(r,"transform")||n&&"static"!==k(r,"position"))){var f=r.getBoundingClientRect();a-=f.top+parseInt(k(r,"border-top-width")),s-=f.left+parseInt(k(r,"border-left-width")),l=a+o.height,c=s+o.width;break}}while(r=r.parentNode);if(i&&e!==window){var h=O(r||e),g=h&&h.a,m=h&&h.d;h&&(l=(a/=m)+(d/=m),c=(s/=g)+(p/=g))}return{top:a,left:s,bottom:l,right:c,width:p,height:d}}}function A(e,t,n){for(var i=j(e,!0),r=P(e)[t];i;){var o=P(i)[n];if(!("top"===n||"left"===n?r>=o:r<=o))return i;if(i===C())break;i=j(i,!1)}return!1}function L(e,t,n,i){for(var r=0,o=0,a=e.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==Be.ghost&&(i||a[o]!==Be.dragged)&&w(a[o],n.draggable,e,!1)){if(r===t)return a[o];r++}o++}return null}function I(e,t){for(var n=e.lastElementChild;n&&(n===Be.ghost||"none"===k(n,"display")||t&&!_(n,t));)n=n.previousElementSibling;return n||null}function M(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Be.clone||t&&!_(e,t)||n++;return n}function R(e){var t=0,n=0,i=C();if(e)do{var r=O(e),o=r.a,a=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function j(e,t){if(!e||!e.getBoundingClientRect)return C();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=k(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return C();if(i||t)return n;i=!0}}}while(n=n.parentNode);return C()}function D(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function F(e,t){return function(){if(!E){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),E=setTimeout(function(){E=void 0},t)}}}function N(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function B(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var U="Sortable"+(new Date).getTime();function z(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if("none"!==k(e,"display")&&e!==Be.ghost){t.push({target:e,rect:P(e)});var n=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=O(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,o=0;t.forEach(function(e){var t=0,n=e.target,a=n.fromRect,s=P(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=O(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&D(l,s)&&!D(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(u,l,c,i.options)),D(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=i.options.animation),i.animate(n,u,s,t)),t&&(r=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(e),r?e=setTimeout(function(){"function"==typeof n&&n()},o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){k(e,"transition",""),k(e,"transform","");var r=O(this.el),o=r&&r.a,a=r&&r.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,k(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),k(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),k(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){k(e,"transition",""),k(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},i)}}}}var H=[],W={initializeByDefault:!0},q={mount:function(e){for(var t in W)!W.hasOwnProperty(t)||t in e||(e[t]=W[t]);H.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),H.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=e+"Global";H.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](r({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](r({sortable:t},n)))})},initializePlugins:function(e,t,n,i){for(var r in H.forEach(function(i){var r=i.pluginName;if(e.options[r]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[r]=o,s(n,o.defaults)}}),e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);void 0!==o&&(e.options[r]=o)}},getEventProperties:function(e,t){var n={};return H.forEach(function(i){"function"==typeof i.eventProperties&&s(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return H.forEach(function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(i=r.optionListeners[t].call(e[r.pluginName],n))}),i}};function V(e){var t=e.sortable,n=e.rootEl,i=e.name,o=e.targetEl,a=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,p=e.newIndex,f=e.oldDraggableIndex,h=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[U]){var y,_=t.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||u||d?(y=document.createEvent("Event")).initEvent(i,!0,!0):y=new CustomEvent(i,{bubbles:!0,cancelable:!0}),y.to=s||n,y.from=l||n,y.item=o||n,y.clone=a,y.oldIndex=c,y.newIndex=p,y.oldDraggableIndex=f,y.newDraggableIndex=h,y.originalEvent=g,y.pullMode=m?m.lastPutMode:void 0;var w=r(r({},v),q.getEventProperties(i,t));for(var E in w)y[E]=w[E];n&&n.dispatchEvent(y),_[b]&&_[b].call(t,y)}}var G=["evt"],Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=l(n,G);q.pluginEvent.bind(Be)(e,t,r({dragEl:K,parentEl:Z,ghostEl:$,rootEl:Q,nextEl:J,lastDownEl:ee,cloneEl:te,cloneHidden:ne,dragStarted:ge,putSortable:le,activeSortable:Be.active,originalEvent:i,oldIndex:ie,oldDraggableIndex:oe,newIndex:re,newDraggableIndex:ae,hideGhostForTarget:je,unhideGhostForTarget:De,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:i})}},o))};function X(e){V(r({putSortable:le,cloneEl:te,targetEl:K,rootEl:Q,oldIndex:ie,oldDraggableIndex:oe,newIndex:re,newDraggableIndex:ae},e))}var K,Z,$,Q,J,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de,pe,fe,he,ge,me,ve,ye,_e,be=!1,we=!1,Ee=[],xe=!1,Se=!1,ke=[],Oe=!1,Te=[],Ce="undefined"!=typeof document,Pe=h,Ae=d||u?"cssFloat":"float",Le=Ce&&!g&&!h&&"draggable"in document.createElement("div"),Ie=function(){if(Ce){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Me=function(e,t){var n=k(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=L(e,0,t),o=L(e,1,t),a=r&&k(r),s=o&&k(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+P(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+P(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=i&&"none"===n[Ae]||o&&"none"===n[Ae]&&l+c>i)?"vertical":"horizontal"},Re=function(e){function t(e,n){return function(i,r,o,a){var s=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,r,o,a),n)(i,r,o,a);var l=(n?i:r).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==o(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},je=function(){!Ie&&$&&k($,"display","none")},De=function(){!Ie&&$&&k($,"display","")};Ce&&document.addEventListener("click",function(e){if(we)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),we=!1,!1},!0);var Fe=function(e){if(K){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,o=e.clientY,Ee.some(function(e){var t=e[U].options.emptyInsertThreshold;if(t&&!I(e)){var n=P(e),i=r>=n.left-t&&r<=n.right+t,s=o>=n.top-t&&o<=n.bottom+t;return i&&s?a=e:void 0}}),a);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[U]._onDragOver(n)}}var r,o,a},Ne=function(e){K&&K.parentNode[U]._isOutsideThisEl(e.target)};function Be(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=s({},t),e[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Me(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Be.supportPointer&&"PointerEvent"in window&&!f,emptyInsertThreshold:5};for(var i in q.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var r in Re(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Le,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Ee.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),s(this,z())}function Ue(e,t,n,i,r,o,a,s){var l,c,p=e[U],f=p.options.onMove;return!window.CustomEvent||u||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||P(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),f&&(c=f.call(p,l,a)),c}function ze(e){e.draggable=!1}function He(){Oe=!1}function We(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function qe(e){return setTimeout(e,0)}function Ve(e){return clearTimeout(e)}Be.prototype={constructor:Be,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(me=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,K):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(function(e){Te.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&Te.push(i)}}(n),!K&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!f||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=w(s,i.draggable,n,!1))&&s.animated||ee===s)){if(ie=M(s),oe=M(s,i.draggable),"function"==typeof c){if(c.call(this,e,s,this))return X({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),Y("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(i){if(i=w(l,i.trim(),n,!1))return X({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),Y("filter",t,{evt:e}),!0})))return void(r&&e.cancelable&&e.preventDefault());i.handle&&!w(l,i.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;if(n&&!K&&n.parentNode===o){var l=P(n);if(Q=o,Z=(K=n).parentNode,J=K.nextSibling,ee=n,se=a.group,Be.dragged=K,ce={target:K,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=ce.clientX-l.left,he=ce.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,K.style["will-change"]="all",i=function(){Y("delayEnded",r,{evt:e}),Be.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!p&&r.nativeDraggable&&(K.draggable=!0),r._triggerDragStart(e,t),X({sortable:r,name:"choose",originalEvent:e}),S(K,a.chosenClass,!0))},a.ignore.split(",").forEach(function(e){T(K,e.trim(),ze)}),v(s,"dragover",Fe),v(s,"mousemove",Fe),v(s,"touchmove",Fe),v(s,"mouseup",r._onDrop),v(s,"touchend",r._onDrop),v(s,"touchcancel",r._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),Y("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||u))i();else{if(Be.eventCanceled)return void this._onDrop();v(s,"mouseup",r._disableDelayedDrag),v(s,"touchend",r._disableDelayedDrag),v(s,"touchcancel",r._disableDelayedDrag),v(s,"mousemove",r._delayedDragTouchMoveHandler),v(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&v(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&ze(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(K,"dragend",this),v(Q,"dragstart",this._onDragStart));try{document.selection?qe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(be=!1,Q&&K){Y("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Ne);var n=this.options;!e&&S(K,n.dragClass,!1),S(K,n.ghostClass,!0),Be.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,je();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(K.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){if(t[U]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);De()}},_onTouchMove:function(e){if(ce){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=$&&O($,!0),a=$&&o&&o.a,s=$&&o&&o.d,l=Pe&&_e&&R(_e),c=(r.clientX-ce.clientX+i.x)/(a||1)+(l?l[0]-ke[0]:0)/(a||1),u=(r.clientY-ce.clientY+i.y)/(s||1)+(l?l[1]-ke[1]:0)/(s||1);if(!Be.active&&!be){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if($){o?(o.e+=c-(de||0),o.f+=u-(pe||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");k($,"webkitTransform",d),k($,"mozTransform",d),k($,"msTransform",d),k($,"transform",d),de=c,pe=u,ue=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!$){var e=this.options.fallbackOnBody?document.body:Q,t=P(K,!0,Pe,!0,e),n=this.options;if(Pe){for(_e=e;"static"===k(_e,"position")&&"none"===k(_e,"transform")&&_e!==document;)_e=_e.parentNode;_e!==document.body&&_e!==document.documentElement?(_e===document&&(_e=C()),t.top+=_e.scrollTop,t.left+=_e.scrollLeft):_e=C(),ke=R(_e)}S($=K.cloneNode(!0),n.ghostClass,!1),S($,n.fallbackClass,!0),S($,n.dragClass,!0),k($,"transition",""),k($,"transform",""),k($,"box-sizing","border-box"),k($,"margin",0),k($,"top",t.top),k($,"left",t.left),k($,"width",t.width),k($,"height",t.height),k($,"opacity","0.8"),k($,"position",Pe?"absolute":"fixed"),k($,"zIndex","100000"),k($,"pointerEvents","none"),Be.ghost=$,e.appendChild($),k($,"transform-origin",fe/parseInt($.style.width)*100+"% "+he/parseInt($.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;Y("dragStart",this,{evt:e}),Be.eventCanceled?this._onDrop():(Y("setupClone",this),Be.eventCanceled||((te=B(K)).draggable=!1,te.style["will-change"]="",this._hideClone(),S(te,this.options.chosenClass,!1),Be.clone=te),n.cloneId=qe(function(){Y("clone",n),Be.eventCanceled||(n.options.removeCloneOnHide||Q.insertBefore(te,K),n._hideClone(),X({sortable:n,name:"clone"}))}),!t&&S(K,r.dragClass,!0),t?(we=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,K)),v(document,"drop",n),k(K,"transform","translateZ(0)")),be=!0,n._dragStartId=qe(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),ge=!0,f&&k(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,o,a=this.el,s=e.target,l=this.options,c=l.group,u=Be.active,d=se===c,p=l.sort,f=le||u,h=this,g=!1;if(!Oe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=w(s,l.draggable,a,!0),B("dragOver"),Be.eventCanceled)return g;if(K.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return H(!1);if(we=!1,u&&!l.disabled&&(d?p||(i=Z!==Q):le===this||(this.lastPutMode=se.checkPull(this,u,K,e))&&c.checkPut(this,u,K,e))){if(o="vertical"===this._getDirection(e,s),t=P(K),B("dragOverValid"),Be.eventCanceled)return g;if(i)return Z=Q,z(),this._hideClone(),B("revert"),Be.eventCanceled||(J?Q.insertBefore(K,J):Q.appendChild(K)),H(!0);var m=I(a,l.draggable);if(!m||function(e,t,n){var i=P(I(n.el,n.options.draggable));return t?e.clientX>i.right+10||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+10}(e,o,this)&&!m.animated){if(m===K)return H(!1);if(m&&a===e.target&&(s=m),s&&(n=P(s)),!1!==Ue(Q,a,K,t,s,n,e,!!s))return z(),a.appendChild(K),Z=a,W(),H(!0)}else if(m&&function(e,t,n){var i=P(L(n.el,0,n.options,!0));return t?e.clientX<i.left-10||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-10||e.clientY<i.bottom&&e.clientX<i.left}(e,o,this)){var v=L(a,0,l,!0);if(v===K)return H(!1);if(n=P(s=v),!1!==Ue(Q,a,K,t,s,n,e,!1))return z(),a.insertBefore(K,v),Z=a,W(),H(!0)}else if(s.parentNode===a){n=P(s);var y,_,b,E=K.parentNode!==a,x=!function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return i===a||r===s||i+o/2===a+l/2}(K.animated&&K.toRect||t,s.animated&&s.toRect||n,o),O=o?"top":"left",T=A(s,"top","top")||A(K,"top","top"),C=T?T.scrollTop:void 0;if(me!==s&&(_=n[O],xe=!1,Se=!x&&l.invertSwap||E),0!==(y=function(e,t,n,i,r,o,a,s){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,u=i?n.top:n.left,d=i?n.bottom:n.right,p=!1;if(!a)if(s&&ye<c*r){if(!xe&&(1===ve?l>u+c*o/2:l<d-c*o/2)&&(xe=!0),xe)p=!0;else if(1===ve?l<u+ye:l>d-ye)return-ve}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return function(e){return M(K)<M(e)?1:-1}(t);if((p=p||a)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(e,s,n,o,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Se,me===s))){var R=M(K);do{R-=y,b=Z.children[R]}while(b&&("none"===k(b,"display")||b===$))}if(0===y||b===s)return H(!1);me=s,ve=y;var j=s.nextElementSibling,D=!1,F=Ue(Q,a,K,t,s,n,e,D=1===y);if(!1!==F)return 1!==F&&-1!==F||(D=1===F),Oe=!0,setTimeout(He,30),z(),D&&!j?a.appendChild(K):s.parentNode.insertBefore(K,D?j:s),T&&N(T,0,C-T.scrollTop),Z=K.parentNode,void 0===_||Se||(ye=Math.abs(_-P(s)[O])),W(),H(!0)}if(a.contains(K))return H(!1)}return!1}function B(l,c){Y(l,h,r({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:p,fromSortable:f,target:s,completed:H,onMove:function(n,i){return Ue(Q,a,K,t,n,P(n),e,i)},changed:W},c))}function z(){B("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function H(t){return B("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(h),h!==f&&(S(K,le?le.options.ghostClass:u.options.ghostClass,!1),S(K,l.ghostClass,!0)),le!==h&&h!==Be.active?le=h:h===Be.active&&le&&(le=null),f===h&&(h._ignoreWhileAnimating=s),h.animateAll(function(){B("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===K&&!K.animated||s===a&&!s.animated)&&(me=null),l.dragoverBubble||e.rootEl||s===document||(K.parentNode[U]._isOutsideThisEl(e.target),!t&&Fe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function W(){re=M(K),ae=M(K,l.draggable),X({sortable:h,name:"change",toEl:a,newIndex:re,newDraggableIndex:ae,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Fe),y(document,"mousemove",Fe),y(document,"touchmove",Fe)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;re=M(K),ae=M(K,n.draggable),Y("drop",this,{evt:e}),Z=K&&K.parentNode,re=M(K),ae=M(K,n.draggable),Be.eventCanceled?this._nulling():(be=!1,Se=!1,xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ve(this.cloneId),Ve(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),f&&k(document.body,"user-select",""),k(K,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),$&&$.parentNode&&$.parentNode.removeChild($),(Q===Z||le&&"clone"!==le.lastPutMode)&&te&&te.parentNode&&te.parentNode.removeChild(te),K&&(this.nativeDraggable&&y(K,"dragend",this),ze(K),K.style["will-change"]="",ge&&!be&&S(K,le?le.options.ghostClass:this.options.ghostClass,!1),S(K,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:Z,newIndex:null,newDraggableIndex:null,originalEvent:e}),Q!==Z?(re>=0&&(X({rootEl:Z,name:"add",toEl:Z,fromEl:Q,originalEvent:e}),X({sortable:this,name:"remove",toEl:Z,originalEvent:e}),X({rootEl:Z,name:"sort",toEl:Z,fromEl:Q,originalEvent:e}),X({sortable:this,name:"sort",toEl:Z,originalEvent:e})),le&&le.save()):re!==ie&&re>=0&&(X({sortable:this,name:"update",toEl:Z,originalEvent:e}),X({sortable:this,name:"sort",toEl:Z,originalEvent:e})),Be.active&&(null!=re&&-1!==re||(re=ie,ae=oe),X({sortable:this,name:"end",toEl:Z,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){Y("nulling",this),Q=K=Z=$=J=te=ee=ne=ce=ue=ge=re=ae=ie=oe=me=ve=le=se=Be.dragged=Be.ghost=Be.clone=Be.active=null,Te.forEach(function(e){e.checked=!0}),Te.length=de=pe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":K&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)w(e=n[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||We(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(e,t){var r=i.children[t];w(r,this.options.draggable,i,!1)&&(n[e]=r)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=q.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Re(n)},destroy:function(){Y("destroy",this);var e=this.el;e[U]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ee.splice(Ee.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(Y("hideClone",this),Be.eventCanceled)return;k(te,"display","none"),this.options.removeCloneOnHide&&te.parentNode&&te.parentNode.removeChild(te),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(Y("showClone",this),Be.eventCanceled)return;K.parentNode!=Q||this.options.group.revertClone?J?Q.insertBefore(te,J):Q.appendChild(te):Q.insertBefore(te,K),this.options.group.revertClone&&this.animate(K,te),k(te,"display",""),ne=!1}}else this._hideClone()}},Ce&&v(document,"touchmove",function(e){(Be.active||be)&&e.cancelable&&e.preventDefault()}),Be.utils={on:v,off:y,css:k,find:T,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:F,closest:w,toggleClass:S,clone:B,index:M,nextTick:qe,cancelNextTick:Ve,detectDirection:Me,getChild:L},Be.get=function(e){return e[U]},Be.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Be.utils=r(r({},Be.utils),e.utils)),q.mount(e)})},Be.create=function(e,t){return new Be(e,t)},Be.version="1.14.0";var Ge,Ye,Xe,Ke,Ze,$e,Qe=[],Je=!1;function et(){Qe.forEach(function(e){clearInterval(e.pid)}),Qe=[]}function tt(){clearInterval($e)}var nt=F(function(e,t,n,i){if(t.scroll){var r,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=C(),u=!1;Ye!==n&&(Ye=n,et(),Ge=t.scroll,r=t.scrollFn,!0===Ge&&(Ge=j(n,!0)));var d=0,p=Ge;do{var f=p,h=P(f),g=h.top,m=h.bottom,v=h.left,y=h.right,_=h.width,b=h.height,w=void 0,E=void 0,x=f.scrollWidth,S=f.scrollHeight,O=k(f),T=f.scrollLeft,A=f.scrollTop;f===c?(w=_<x&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),E=b<S&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(w=_<x&&("auto"===O.overflowX||"scroll"===O.overflowX),E=b<S&&("auto"===O.overflowY||"scroll"===O.overflowY));var L=w&&(Math.abs(y-o)<=s&&T+_<x)-(Math.abs(v-o)<=s&&!!T),I=E&&(Math.abs(m-a)<=s&&A+b<S)-(Math.abs(g-a)<=s&&!!A);if(!Qe[d])for(var M=0;M<=d;M++)Qe[M]||(Qe[M]={});Qe[d].vx==L&&Qe[d].vy==I&&Qe[d].el===f||(Qe[d].el=f,Qe[d].vx=L,Qe[d].vy=I,clearInterval(Qe[d].pid),0==L&&0==I||(u=!0,Qe[d].pid=setInterval(function(){i&&0===this.layer&&Be.active._onTouchMove(Ze);var t=Qe[this.layer].vy?Qe[this.layer].vy*l:0,n=Qe[this.layer].vx?Qe[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(Be.dragged.parentNode[U],n,t,e,Ze,Qe[this.layer].el)||N(Qe[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=j(p,!1)));Je=u}},30),it=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||r;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function rt(){}function ot(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=L(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:it},s(rt,{pluginName:"revertOnSpill"}),ot.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:it},s(ot,{pluginName:"removeOnSpill"});Be.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),tt(),et(),clearTimeout(E),E=void 0},nulling:function(){Ze=Ye=Ge=Je=$e=Xe=Ke=null,Qe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,r);if(Ze=e,t||this.options.forceAutoScrollFallback||d||u||f){nt(e,this.options,o,t);var a=j(o,!0);!Je||$e&&i===Xe&&r===Ke||($e&&tt(),$e=setInterval(function(){var o=j(document.elementFromPoint(i,r),!0);o!==a&&(a=o,et()),nt(e,n.options,o,t)},10),Xe=i,Ke=r)}else{if(!this.options.bubbleScroll||j(o,!0)===C())return void et();nt(e,this.options,j(o,!1),!1)}}},s(e,{pluginName:"scroll",initializeByDefault:!0})}),Be.mount(ot,rt),t.a=Be},,function(e,t,n){"use strict";(function(e,i){var r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageView=void 0;var a=n(98),s=n(161);e.loadImage=s;var l=n(166);e.canvasToBlob=l;var c=function(){function e(e){void 0===e&&(e={}),this.files=null,this.coversShow=!0,this.screenSize=[],this.imageIsLoaded=!1,this.URL=window.URL||window.webkitURL,this.URLObj={},this.imageSrc={},this.utif=n(167),this.useLoadImageLib=!1,Object.assign(this,e),this.init()}return e.prototype.init=function(){},e.prototype.renderUrl=function(e,t,n){return void 0===n&&(n=!1),new Promise(function(r,o){var a=document.getElementById(t);1==n?i(a).attr("src",e):i(a).attr("style","background-image: url("+e+");background-size:contain");var s=new Image;s.src=e,s.onload=function(){var t=new XMLHttpRequest;t.open("HEAD",e,!0),t.onreadystatechange=function(){if(4==t.readyState){var e=t.getResponseHeader("Content-Length");200==t.status&&e?r({size:t.getResponseHeader("Content-Length")}):r({})}},t.send(null)}})},e.prototype.renderImage=function(e,t,n){return void 0===n&&(n=!1),1==this.useLoadImageLib?this.renderImageOrientation(e,t,n):this.renderImageBasic(e,t,n)},e.prototype.hasBrowserAppliedImageOrientation=function(e){return"from-image"===i(e).css("image-orientation")},e.prototype.renderImageBasic=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o=this;a.isIE11(),e.type;return new Promise(function(r,a){var s=document.getElementById(t);try{var l=new FileReader;l.onload=function(e){var c=0;c=o.getExifOrientation(e);var u,d=new Uint8Array(l.result),p=null;try{u=new Blob([d]),p=(window.URL||window.webkitURL).createObjectURL(u)}catch(e){return void a(e)}o.imageSrc[t]=p,o.imageIsLoaded=!0;var f=new Image;f.onload=function(){var e=f.height,t=f.width;o.hasBrowserAppliedImageOrientation(s)&&(c=0),c>4&&c<9&&(e+=t,e-=t=e-t),1==n?i(s).attr("src",p):i(s).css("background-image","url("+p+")").css("background-size","contain"),o.transformByOrientation(s,c),r({width:t,height:e})},f.onerror=function(e){i(s).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),a(e)},f.src=p},l.readAsArrayBuffer(e)}catch(e){a()}})},e.prototype.renderHeic=function(e,t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){return(e=document.getElementById(t)).style.backgroundImage="url( '/img/filetype/heic.svg' )",e.style.backgroundSize="contain",[2]})})},e.prototype.transformByOrientation=function(e,t){var n="";if(t>1){switch(t){case 1:break;case 2:n="scaleX(-1)";break;case 3:n="rotate(180deg)";break;case 4:n="rotate(180deg) scale(-1)";break;case 5:n="rotate(90deg) scale(-1)";break;case 6:n="rotate(90deg)";break;case 7:n="rotate(270deg) scale(-1)";break;case 8:n="rotate(270deg)"}i(e).css("transform",n)}},e.prototype.renderImageOrientation=function(e,t,n){void 0===n&&(n=!1);var r=this;return new Promise(function(o,a){var s=document.getElementById(t);try{var l=new FileReader;l.onload=function(e){var c=0,u=new Uint8Array(l.result),d=new Blob([u]);if(r.hasBrowserAppliedImageOrientation(s)||(c=r.getExifOrientation(e)),c>1)window.loadImage(d,function(e){!e||"type"in e&&"error"==e.type?a({error:"damagedImage",message:"cannot render image"}):e.toBlob(function(e){var l,c;try{l=window.URL||window.webkitURL,c=l.createObjectURL(e)}catch(e){return void a(e)}r.imageSrc[t]=c,r.imageIsLoaded=!0;var u=new Image;u.onload=function(){var e=u.height,t=u.width;n?i(s).attr("src",c):i(s).attr("style","background-image: url("+c+");background-size:contain"),window.setTimeout(function(){r.URL.revokeObjectURL(c)},1e3),o({width:t,height:e})},u.onerror=function(e){i(s).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),a(e)},u.src=c})},{canvas:!0,orientation:c});else{var p,f=void 0;try{f=window.URL||window.webkitURL,p=f.createObjectURL(d)}catch(e){return void a(e)}r.imageSrc[t]=p,r.imageIsLoaded=!0;var h=new Image;h.onload=function(){var e=h.height,t=h.width;1==n?i(s).attr("src",p):i(s).css("background-image","url("+p+")").css("background-size","contain"),o({width:t,height:e})},h.onerror=function(e){i(s).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),a(e)},h.src=p}},l.readAsArrayBuffer(e)}catch(e){a()}})},e.prototype.getExifOrientation=function(e){var t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return-2;for(var n=t.byteLength,i=2;i<n;){if(t.getUint16(i+2,!1)<=8)return-1;var r=t.getUint16(i,!1);if(i+=2,65505==r){if(1165519206!=t.getUint32(i+=2,!1))return-1;var o=18761==t.getUint16(i+=6,!1);i+=t.getUint32(i+4,o);var a=t.getUint16(i,o);i+=2;for(var s=0;s<a;s++)if(274==t.getUint16(i+12*s,o))return t.getUint16(i+12*s+8,o)}else{if(65280!=(65280&r))break;i+=t.getUint16(i,!1)}}return-1},e.prototype.renderSvg=function(e,t,n){void 0===n&&(n=!1);var r=this;return new Promise(function(o,a){var s=document.getElementById(t),l=new FileReader;l.onload=function(e){r.imageSrc[t]=e.target.result,n?i(s).attr("src",r.imageSrc[t]):i(s).attr("style","background-image: url("+r.imageSrc[t]+");background-size:contain"),r.imageIsLoaded=!0;var l=new Image;l.onload=function(){var e=l.height,t=l.width;o({width:t,height:e})},l.onerror=function(e){i(s).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),a(e)},l.src=r.imageSrc[t]};try{l.readAsDataURL(e)}catch(e){a()}})},e.prototype.renderTif=function(e,t){var n=this,r=document.getElementById(t),o=new FileReader;return new Promise(function(a,s){o.onload=function(e){try{var o=n.utif.decode(e.target.result)[0],l=n.utif.toRGBA8(o),c=o.width,u=o.height,d=void 0,p=0;c>u?p=u*(d=n.screenSize.h)/c:d=c*(p=n.screenSize.h)/u,"canvas"!=r.tagName&&(i("#"+t).append('<canvas class="raw"></canvas>'),r=i("#"+t+" canvas")[0]),r.width=c,r.height=u;for(var f=r.getContext("2d"),h=f.createImageData(c,u),g=0;g<l.length;g++)h.data[g]=l[g];f.putImageData(h,0,0),"canvas"==i("#"+t)[0].tagName?i("#"+t).css("width",d+"px").css("height",p+"px"):i("#"+t+" canvas").css("width",d+"px").css("height",p+"px"),a()}catch(e){s(e)}},o.readAsArrayBuffer(e)})},e.prototype.onFileReady=function(){var e=this;return new Promise(function(t,n){var i=window.setInterval(function(){!0===e.imageIsLoaded&&(clearInterval(i),t())},200)})},e}();t.ImageView=c}).call(this,n(23),n(1))},,,,,,function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(122),n(147),n(123),n(148),n(149),n(150),n(44),n(88)],void 0===(o="function"==typeof(i=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.13.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i="function"==typeof n.helper,r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=e(r.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,r))})},drag:function(t,n,i){e.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-t.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-t.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,o,a,s,l,c,u,d,p,f,h=i.options,g=h.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,_=y+i.helperProportions.height;for(p=i.snapElements.length-1;p>=0;p--)c=(l=i.snapElements[p].left-i.margins.left)+i.snapElements[p].width,d=(u=i.snapElements[p].top-i.margins.top)+i.snapElements[p].height,v<l-g||m>c+g||_<u-g||y>d+g||!e.contains(i.snapElements[p].item.ownerDocument,i.snapElements[p].item)?(i.snapElements[p].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[p].item})),i.snapElements[p].snapping=!1):("inner"!==h.snapMode&&(r=Math.abs(u-_)<=g,o=Math.abs(d-y)<=g,a=Math.abs(l-v)<=g,s=Math.abs(c-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),f=r||o||a||s,"outer"!==h.snapMode&&(r=Math.abs(u-y)<=g,o=Math.abs(d-_)<=g,a=Math.abs(l-m)<=g,s=Math.abs(c-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[p].snapping&&(r||o||a||s||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[p].item})),i.snapElements[p].snapping=r||o||a||s||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,a=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}}),e.ui.draggable})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(44)],void 0===(o="function"==typeof(i=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(44)],void 0===(o="function"==typeof(i=function(e){return e.extend(e.expr.pseudos,{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(44)],void 0===(o="function"==typeof(i=function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(44)],void 0===(o="function"==typeof(i=function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(44)],void 0===(o="function"==typeof(i=function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(122),n(152),n(123),n(44),n(88)],void 0===(o="function"==typeof(i=function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.13.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;if(t[i]>0)return!0;try{t[i]=1,r=t[i]>0,t[i]=0}catch(e){}return r},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var t,n,i,r,o,a=this.options,s=this;if(this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this._addedHandles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)r="ui-resizable-"+(t=String.prototype.trim.call(i[n])),o=e("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(o),this._addedHandles=this._addedHandles.add(o));this._renderAxis=function(t){var n,i,r,o;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,a=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,a,s,l,c=this.options;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-r},s=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),i&&c&&(e.left=s-t.maxWidth),a&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(r[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,a,s,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,p=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=e(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(p,"left")?p.scrollWidth:o,s=l._hasScroll(p)?p.scrollHeight:r,l.parentData={element:p,left:i.left,top:i.top,width:a,height:s}))},resize:function(t){var n,i,r,o,a=e(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||t.shiftKey,d={top:0,left:0},p=a.containerElement,f=!0;p[0]!==document&&/static/.test(p.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio,f=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,f=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio,f=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,u&&(a.size.width=a.size.height*a.aspectRatio,f=!1)),f||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-o.width)/c)*c,p=Math.round((r.height-o.height)/u)*u,f=o.width+d,h=o.height+p,g=i.maxWidth&&i.maxWidth<f,m=i.maxHeight&&i.maxHeight<h,v=i.minWidth&&i.minWidth>f,y=i.minHeight&&i.minHeight>h;i.grid=l,v&&(f+=c),y&&(h+=u),g&&(f-=c),m&&(h-=u),/^(se|s|e)$/.test(s)?(n.size.width=f,n.size.height=h):/^(ne)$/.test(s)?(n.size.width=f,n.size.height=h,n.position.top=a.top-p):/^(sw)$/.test(s)?(n.size.width=f,n.size.height=h,n.position.left=a.left-d):((h-u<=0||f-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),h-u>0?(n.size.height=h,n.position.top=a.top-p):(h=u-t.height,n.size.height=h,n.position.top=a.top+o.height-h),f-c>0?(n.size.width=f,n.position.left=a.left-d):(f=c-t.width,n.size.width=f,n.position.left=a.left+o.width-f))}}),e.ui.resizable})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1),n(44)],void 0===(o="function"==typeof(i=function(e){return e.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;r=[n(1)],void 0===(o="function"==typeof(i=function(e){return e.widget("ui.rotatable",e.ui.mouse,{widgetEventPrefix:"rotate",options:{angle:!1,degrees:!1,handle:!1,handleOffset:{top:0,left:0},radians:!1,rotate:null,rotationCenterOffset:{top:0,left:0},snap:!1,start:null,step:22.5,stop:null,transforms:null,wheelRotate:!1},angle:function(e){if(void 0===e)return this.options.angle;this.options.angle=e,this.elementCurrentAngle=e,this._performRotation(this.options.angle)},getElementCenter:function(){return this.elementCenter=this._calculateElementCenter(),this.elementCenter},handle:function(e){if(void 0===e)return this.options.handle;this.options.handle=e},plugins:{},rotationCenterOffset:function(e){if(void 0===e)return this.options.rotationCenterOffset;null!==e.top&&(this.options.rotationCenterOffset.top=e.top),null!==e.left&&(this.options.rotationCenterOffset.left=e.left)},rotateElement:function(e){if(!this.element||this.element.disabled||this.options.disabled)return!1;if(!e.which)return this.stopRotate(e),!1;var t=this._calculateRotateAngle(e),n=this.elementCurrentAngle;if(this.elementCurrentAngle=t,this._propagate("rotate",e),!1===this._propagate("rotate",e))return this.elementCurrentAngle=n,!1;var i=this.ui();return!1===this._trigger("rotate",e,i)?(this.elementCurrentAngle=n,!1):(i.angle.current!==t&&(t=i.angle.current,this.elementCurrentAngle=t),this._performRotation(t),n!==t&&(this.hasRotated=!0),!1)},startRotate:function(t){var n=this.getElementCenter(),i=t.pageX-n.x,r=t.pageY-n.y;return this.mouseStartAngle=Math.atan2(r,i),this.elementStartAngle=this.elementCurrentAngle,this.hasRotated=!1,this._propagate("start",t),e(document).bind("mousemove",this.listeners.rotateElement),e(document).bind("mouseup",this.listeners.stopRotate),!1},stopRotate:function(t){if(this.element&&!this.element.disabled)return e(document).unbind("mousemove",this.listeners.rotateElement),e(document).unbind("mouseup",this.listeners.stopRotate),this.elementStopAngle=this.elementCurrentAngle,this._propagate("stop",t),setTimeout(function(){this.element=!1},10),!1},wheelRotate:function(e){var t=this._angleInRadians(Math.round(e.originalEvent.deltaY/10));(this.options.snap||e.shiftKey)&&(t=this._calculateSnap(t)),t=this.elementCurrentAngle+t,this.angle(t),this._trigger("rotate",e,this.ui())},ui:function(){return{api:this,element:this.element,angle:{start:this.elementStartAngle,current:this.elementCurrentAngle,degrees:Math.abs(this._angleInDegrees(this.elementCurrentAngle)),stop:this.elementStopAngle}}},_angleInRadians:function(e){return e*Math.PI/180},_angleInDegrees:function(e){return 180*e/Math.PI},_calculateElementCenter:function(){var e=this._getElementOffset();if(this._isRotationCenterSet())return{x:e.left+this.rotationCenterOffset().left,y:e.top+this.rotationCenterOffset().top};if(void 0!==this.element.css("transform-origin")){var t=this.element.css("transform-origin").match(/([\d.]+)px +([\d.]+)px/);if(null!=t)return{x:e.left+parseFloat(t[1]),y:e.top+parseFloat(t[2])}}return{x:e.left+this.element.width()/2,y:e.top+this.element.height()/2}},_calculateSnap:function(e){var t=this._angleInDegrees(e);return t=Math.round(t/this.options.step)*this.options.step,this._angleInRadians(t)},_calculateRotateAngle:function(e){var t=this.getElementCenter(),n=e.pageX-t.x,i=e.pageY-t.y,r=Math.atan2(i,n)-this.mouseStartAngle+this.elementStartAngle;return(this.options.snap||e.shiftKey)&&(r=this._calculateSnap(r)),r},_create:function(){var t;this.options.handle?t=this.options.handle:((t=e(document.createElement("div"))).addClass("ui-rotatable-handle"),0===this.options.handleOffset.top&&0===this.options.handleOffset.left||(t.css("position","relative"),t.css("top",this.options.handleOffset.top+"px"),t.css("left",this.options.handleOffset.left+"px"))),this.listeners={rotateElement:e.proxy(this.rotateElement,this),startRotate:e.proxy(this.startRotate,this),stopRotate:e.proxy(this.stopRotate,this),wheelRotate:e.proxy(this.wheelRotate,this)},this.options.wheelRotate&&this.element.bind("wheel",this.listeners.wheelRotate),t.draggable({helper:"clone",start:this._dragStart,handle:t}),t.bind("mousedown",this.listeners.startRotate),t.closest(this.element).length||t.appendTo(this.element),this.rotationCenterOffset(this.options.rotationCenterOffset),this.options.degrees?this.elementCurrentAngle=this._angleInRadians(this.options.degrees):this.elementCurrentAngle=this.options.radians||this.options.angle||0,this._performRotation(this.elementCurrentAngle)},_destroy:function(){this.element.removeClass("ui-rotatable"),this.element.find(".ui-rotatable-handle").remove(),this.options.wheelRotate&&this.element.unbind("wheel",this.listeners.wheelRotate)},_dragStart:function(e){if(this.element)return!1},_getElementOffset:function(){this._performRotation(0);var e=this.element.offset();return this._performRotation(this.elementCurrentAngle),e},_getTransforms:function(e){var t="rotate("+e+"rad)";return this.options.transforms&&(t+=" "+function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e[n]&&t.push(n+"("+e[n]+")");return t.join(" ")}(this.options.transforms)),t},_isRotationCenterSet:function(){return 0!==this.options.rotationCenterOffset.top||0!==this.options.rotationCenterOffset.left},_performRotation:function(e){this._isRotationCenterSet()&&(this.element.css("transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset.top+"px"),this.element.css("-ms-transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset.top+"px"),this.element.css("-webkit-transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset+"px"));var t=this._getTransforms(e);this.element.css("transform",t),this.element.css("-moz-transform",t),this.element.css("-webkit-transform",t),this.element.css("-o-transform",t)},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"rotate"!==t&&this._trigger(t,n,this.ui())}}),e.ui.rotatable})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(1)],void 0===(o="function"==typeof(i=function(e,t){var n={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),n=t.style;return n.cssText="background-color:rgba(0,0,0,.5)",e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var e="";if(r)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(t,n,i,r){for(var a=[],s=0;s<t.length;s++){var l=t[s];if(l){var c=tinycolor(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,l)?" sp-thumb-active":"";var d=c.toString(r.preferredFormat||"rgb"),p=o?"background-color:"+c.toRgbString():"filter:"+c.toFilter();a.push('<span title="'+d+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+p+';"></span></span>')}else{a.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+a.join("")+"</div>"}function c(c,u){var g,m,v,y,_=function(t,i){var r=e.extend({},n,t);return r.callbacks={move:p(r.move,i),change:p(r.change,i),show:p(r.show,i),hide:p(r.hide,i),beforeShow:p(r.beforeShow,i)},r}(u,c),b=_.flat,w=_.showSelectionPalette,E=_.localStorageKey,x=_.theme,S=_.callbacks,k=(g=We,m=10,function(){var e=this,t=arguments;v&&clearTimeout(y),!v&&y||(y=setTimeout(function(){y=null,g.apply(e,t)},m))}),O=!1,T=!1,C=0,P=0,A=0,L=0,I=0,M=0,R=0,j=0,D=0,F=0,N=1,B=[],U=[],z={},H=_.selectionPalette.slice(0),W=_.maxSelectionSize,q="sp-dragging",V=null,G=c.ownerDocument,Y=(G.body,e(c)),X=!1,K=e(s,G).addClass(x),Z=K.find(".sp-picker-container"),$=K.find(".sp-color"),Q=K.find(".sp-dragger"),J=K.find(".sp-hue"),ee=K.find(".sp-slider"),te=K.find(".sp-alpha-inner"),ne=K.find(".sp-alpha"),ie=K.find(".sp-alpha-handle"),re=K.find(".sp-input"),oe=K.find(".sp-palette"),ae=K.find(".sp-initial"),se=K.find(".sp-cancel"),le=K.find(".sp-clear"),ce=K.find(".sp-choose"),ue=K.find(".sp-palette-toggle"),de=Y.is("input"),pe=de&&"color"===Y.attr("type")&&h(),fe=de&&!b,he=fe?e(a).addClass(x).addClass(_.className).addClass(_.replacerClassName):e([]),ge=fe?he:Y,me=he.find(".sp-preview-inner"),ve=_.color||de&&Y.val(),ye=!1,_e=_.preferredFormat,be=!_.showButtons||_.clickoutFiresChange,we=!ve,Ee=_.allowEmpty&&!pe;function xe(){if(_.showPaletteOnly&&(_.showPalette=!0),ue.text(_.showPaletteOnly?_.togglePaletteMoreText:_.togglePaletteLessText),_.palette){B=_.palette.slice(0),U=e.isArray(B[0])?B:[B],z={};for(var t=0;t<U.length;t++)for(var n=0;n<U[t].length;n++){var i=tinycolor(U[t][n]).toRgbString();z[i]=!0}}K.toggleClass("sp-flat",b),K.toggleClass("sp-input-disabled",!_.showInput),K.toggleClass("sp-alpha-enabled",_.showAlpha),K.toggleClass("sp-clear-enabled",Ee),K.toggleClass("sp-buttons-disabled",!_.showButtons),K.toggleClass("sp-palette-buttons-disabled",!_.togglePaletteOnly),K.toggleClass("sp-palette-disabled",!_.showPalette),K.toggleClass("sp-palette-only",_.showPaletteOnly),K.toggleClass("sp-initial-disabled",!_.showInitial),K.addClass(_.className).addClass(_.containerClassName),We()}function Se(){if(E&&window.localStorage){try{var t=window.localStorage[E].split(",#");t.length>1&&(delete window.localStorage[E],e.each(t,function(e,t){ke(t)}))}catch(e){}try{H=window.localStorage[E].split(";")}catch(e){}}}function ke(t){if(w){var n=tinycolor(t).toRgbString();if(!z[n]&&-1===e.inArray(n,H))for(H.push(n);H.length>W;)H.shift();if(E&&window.localStorage)try{window.localStorage[E]=H.join(";")}catch(e){}}}function Oe(){var t=Ne(),n=e.map(U,function(e,n){return l(e,t,"sp-palette-row sp-palette-row-"+n,_)});Se(),H&&n.push(l(function(){var e=[];if(_.showPalette)for(var t=0;t<H.length;t++){var n=tinycolor(H[t]).toRgbString();z[n]||e.push(H[t])}return e.reverse().slice(0,_.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",_)),oe.html(n.join(""))}function Te(){if(_.showInitial){var e=ye,t=Ne();ae.html(l([e,t],t,"sp-palette-row-initial",_))}}function Ce(){(P<=0||C<=0||L<=0)&&We(),T=!0,K.addClass(q),V=null,Y.trigger("dragstart.spectrum",[Ne()])}function Pe(){T=!1,K.removeClass(q),Y.trigger("dragstop.spectrum",[Ne()])}function Ae(){var e=re.val();if(null!==e&&""!==e||!Ee){var t=tinycolor(e);t.isValid()?(Fe(t),Be(),He()):re.addClass("sp-validation-error")}else Fe(null),Be(),He()}function Le(){O?je():Ie()}function Ie(){var t=e.Event("beforeShow.spectrum");O?We():(Y.trigger(t,[Ne()]),!1===S.beforeShow(Ne())||t.isDefaultPrevented()||(!function(){for(var e=0;e<i.length;e++)i[e]&&i[e].hide()}(),O=!0,e(G).on("keydown.spectrum",Me),e(G).on("click.spectrum",Re),e(window).on("resize.spectrum",k),he.addClass("sp-active"),K.removeClass("sp-hidden"),We(),Ue(),ye=Ne(),Te(),S.show(ye),Y.trigger("show.spectrum",[ye])))}function Me(e){27===e.keyCode&&je()}function Re(e){2!=e.button&&(T||(be?He(!0):De(),je()))}function je(){O&&!b&&(O=!1,e(G).off("keydown.spectrum",Me),e(G).off("click.spectrum",Re),e(window).off("resize.spectrum",k),he.removeClass("sp-active"),K.addClass("sp-hidden"),S.hide(Ne()),Y.trigger("hide.spectrum",[Ne()]))}function De(){Fe(ye,!0),He(!0)}function Fe(e,t){var n,i;tinycolor.equals(e,Ne())?Ue():(!e&&Ee?we=!0:(we=!1,n=tinycolor(e),i=n.toHsv(),j=i.h%360/360,D=i.s,F=i.v,N=i.a),Ue(),n&&n.isValid()&&!t&&(_e=_.preferredFormat||n.getFormat()))}function Ne(e){return e=e||{},Ee&&we?null:tinycolor.fromRatio({h:j,s:D,v:F,a:Math.round(1e3*N)/1e3},{format:e.format||_e})}function Be(){Ue(),S.move(Ne()),Y.trigger("move.spectrum",[Ne()])}function Ue(){re.removeClass("sp-validation-error"),ze();var e=tinycolor.fromRatio({h:j,s:1,v:1});$.css("background-color",e.toHexString());var t=_e;N<1&&(0!==N||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n=Ne({format:t}),i="";if(me.removeClass("sp-clear-display"),me.css("background-color","transparent"),!n&&Ee)me.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(o||1===n.alpha?me.css("background-color",s):(me.css("background-color","transparent"),me.css("filter",n.toFilter())),_.showAlpha){var l=n.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),u="linear-gradient(left, "+c+", "+a+")";r?te.css("filter",tinycolor(c).toFilter({gradientType:1},a)):(te.css("background","-webkit-"+u),te.css("background","-moz-"+u),te.css("background","-ms-"+u),te.css("background","linear-gradient(to right, "+c+", "+a+")"))}i=n.toString(t)}_.showInput&&re.val(i),_.showPalette&&Oe(),Te()}function ze(){var e=D,t=F;if(Ee&&we)ie.hide(),ee.hide(),Q.hide();else{ie.show(),ee.show(),Q.show();var n=e*C,i=P-t*P;n=Math.max(-A,Math.min(C-A,n-A)),i=Math.max(-A,Math.min(P-A,i-A)),Q.css({top:i+"px",left:n+"px"});var r=N*I;ie.css({left:r-M/2+"px"});var o=j*L;ee.css({top:o-R+"px"})}}function He(e){var t=Ne(),n="",i=!tinycolor.equals(t,ye);t&&(n=t.toString(_e),ke(t)),de&&Y.val(n),e&&i&&(S.change(t),Y.trigger("change",[t]))}function We(){var t,n,i,r,o,a,s,l,c,u,d,p;O&&(C=$.width(),P=$.height(),A=Q.height(),J.width(),L=J.height(),R=ee.height(),I=ne.width(),M=ie.width(),b||(K.css("position","absolute"),_.offset?K.offset(_.offset):K.offset((n=ge,i=(t=K).outerWidth(),r=t.outerHeight(),o=n.outerHeight(),a=t[0].ownerDocument,s=a.documentElement,l=s.clientWidth+e(a).scrollLeft(),c=s.clientHeight+e(a).scrollTop(),u=n.offset(),d=u.left,p=u.top,p+=o,d-=Math.min(d,d+i>l&&l>i?Math.abs(d+i-l):0),{top:p-=Math.min(p,p+r>c&&c>r?Math.abs(r+o-0):0),bottom:u.bottom,left:d,right:u.right,width:u.width,height:u.height}))),ze(),_.showPalette&&Oe(),Y.trigger("reflow.spectrum"))}function qe(){je(),X=!0,Y.attr("disabled",!0),ge.addClass("sp-disabled")}!function(){r&&K.find("*:not(input)").attr("unselectable","on");xe(),fe&&Y.after(he).hide();Ee||le.hide();if(b)Y.after(K).hide();else{var t="parent"===_.appendTo?Y.parent():e(_.appendTo);1!==t.length&&(t=e("body")),t.append(K)}Se(),ge.on("click.spectrum touchstart.spectrum",function(t){X||Le(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(Y.is(":disabled")||!0===_.disabled)&&qe();K.click(d),re.change(Ae),re.on("paste",function(){setTimeout(Ae,1)}),re.keydown(function(e){13==e.keyCode&&Ae()}),se.text(_.cancelText),se.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),De(),je()}),le.attr("title",_.clearText),le.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),we=!0,Be(),b&&He(!0)}),ce.text(_.chooseText),ce.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),r&&re.is(":focus")&&re.trigger("change"),re.hasClass("sp-validation-error")||(He(!0),je())}),ue.text(_.showPaletteOnly?_.togglePaletteMoreText:_.togglePaletteLessText),ue.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),_.showPaletteOnly=!_.showPaletteOnly,_.showPaletteOnly||b||K.css("left","-="+(Z.outerWidth(!0)+5)),xe()}),f(ne,function(e,t,n){N=e/I,we=!1,n.shiftKey&&(N=Math.round(10*N)/10),Be()},Ce,Pe),f(J,function(e,t){j=parseFloat(t/L),we=!1,_.showAlpha||(N=1),Be()},Ce,Pe),f($,function(e,t,n){if(n.shiftKey){if(!V){var i=D*C,r=P-F*P,o=Math.abs(e-i)>Math.abs(t-r);V=o?"x":"y"}}else V=null;var a=!V||"y"===V;(!V||"x"===V)&&(D=parseFloat(e/C)),a&&(F=parseFloat((P-t)/P)),we=!1,_.showAlpha||(N=1),Be()},Ce,Pe),ve?(Fe(ve),Ue(),_e=_.preferredFormat||tinycolor(ve).format,ke(ve)):Ue();b&&Ie();function n(t){return t.data&&t.data.ignore?(Fe(e(t.target).closest(".sp-thumb-el").data("color")),Be()):(Fe(e(t.target).closest(".sp-thumb-el").data("color")),Be(),_.hideAfterPaletteSelect?(He(!0),je()):He()),!1}var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";oe.on(i,".sp-thumb-el",n),ae.on(i,".sp-thumb-el:nth-child(1)",{ignore:!0},n)}();var Ve={show:Ie,hide:je,toggle:Le,reflow:We,option:function(n,i){if(n===t)return e.extend({},_);if(i===t)return _[n];_[n]=i,"preferredFormat"===n&&(_e=_.preferredFormat);xe()},enable:function(){X=!1,Y.attr("disabled",!1),ge.removeClass("sp-disabled")},disable:qe,offset:function(e){_.offset=e,We()},set:function(e){Fe(e),He()},get:Ne,destroy:function(){Y.show(),ge.off("click.spectrum touchstart.spectrum"),K.remove(),he.remove(),i[Ve.id]=null},container:K};return Ve.id=i.push(Ve)-1,Ve}function u(){}function d(e){e.stopPropagation()}function p(e,t){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}function f(t,n,i,o){n=n||function(){},i=i||function(){},o=o||function(){};var a=document,s=!1,l={},c=0,u=0,d="ontouchstart"in window,p={};function f(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function h(e){if(s){if(r&&a.documentMode<9&&!e.button)return g();var i=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],o=i&&i.pageX||e.pageX,p=i&&i.pageY||e.pageY,h=Math.max(0,Math.min(o-l.left,u)),m=Math.max(0,Math.min(p-l.top,c));d&&f(e),n.apply(t,[h,m,e])}}function g(){s&&(e(a).off(p),e(a.body).removeClass("sp-dragging"),setTimeout(function(){o.apply(t,arguments)},0)),s=!1}p.selectstart=f,p.dragstart=f,p["touchmove mousemove"]=h,p["touchend mouseup"]=g,e(t).on("touchstart mousedown",function(n){(n.which?3==n.which:2==n.button)||s||!1!==i.apply(t,arguments)&&(s=!0,c=e(t).height(),u=e(t).width(),l=e(t).offset(),e(a).on(p),e(a.body).addClass("sp-dragging"),h(n),f(n))})}function h(){return e.fn.spectrum.inputTypeColorSupport()}e.fn.spectrum=function(t,n){if("string"==typeof t){var r=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=i[e(this).data("spectrum.id")];if(n){var a=n[t];if(!a)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?r=n.get():"container"==t?r=n.container:"option"==t?r=n.option.apply(n,o):"destroy"==t?(n.destroy(),e(this).removeData("spectrum.id")):a.apply(n,o)}}),r}return this.spectrum("destroy").each(function(){var n=e.extend({},e(this).data(),t),i=c(this,n);e(this).data("spectrum.id",i.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=f,e.fn.spectrum.defaults=n,e.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var n=e("<input type='color'/>")[0];t._cachedResult="color"===n.type&&""!==n.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!h()&&t.spectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,n=0,i=Math,r=i.round,o=i.min,a=i.max,s=i.random,l=function(s,c){if(s=s||"",c=c||{},s instanceof l)return s;if(!(this instanceof l))return new l(s,c);var u=function(n){var r={r:0,g:0,b:0},s=1,l=!1,c=!1;"string"==typeof n&&(n=function(n){n=n.replace(e,"").replace(t,"").toLowerCase();var i,r=!1;if(O[n])n=O[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(i=F.rgb.exec(n))return{r:i[1],g:i[2],b:i[3]};if(i=F.rgba.exec(n))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=F.hsl.exec(n))return{h:i[1],s:i[2],l:i[3]};if(i=F.hsla.exec(n))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=F.hsv.exec(n))return{h:i[1],s:i[2],v:i[3]};if(i=F.hsva.exec(n))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=F.hex8.exec(n))return{a:(o=i[1],L(o)/255),r:L(i[2]),g:L(i[3]),b:L(i[4]),format:r?"name":"hex8"};var o;if(i=F.hex6.exec(n))return{r:L(i[1]),g:L(i[2]),b:L(i[3]),format:r?"name":"hex"};if(i=F.hex3.exec(n))return{r:L(i[1]+""+i[1]),g:L(i[2]+""+i[2]),b:L(i[3]+""+i[3]),format:r?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(u=n.r,d=n.g,p=n.b,r={r:255*P(u,255),g:255*P(d,255),b:255*P(p,255)},l=!0,c="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=M(n.s),n.v=M(n.v),r=function(e,t,n){e=6*P(e,360),t=P(t,100),n=P(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(n.h,n.s,n.v),l=!0,c="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=M(n.s),n.l=M(n.l),r=function(e,t,n){var i,r,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=P(e,360),t=P(t,100),n=P(n,100),0===t)i=r=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=a(l,s,e+1/3),r=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(n.h,n.s,n.l),l=!0,c="hsl"),n.hasOwnProperty("a")&&(s=n.a));var u,d,p;return s=C(s),{ok:l,format:n.format||c,r:o(255,a(r.r,0)),g:o(255,a(r.g,0)),b:o(255,a(r.b,0)),a:s}}(s);this._originalInput=s,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=r(1e3*this._a)/1e3,this._format=c.format||u.format,this._gradientType=c.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=u.ok,this._tc_id=n++};function c(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var i,r,s=a(e,t,n),l=o(e,t,n),c=(s+l)/2;if(s==l)i=r=0;else{var u=s-l;switch(r=c>.5?u/(2-s-l):u/(s+l),s){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return{h:i,s:r,l:c}}function u(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var i,r,s=a(e,t,n),l=o(e,t,n),c=s,u=s-l;if(r=0===s?0:u/s,s==l)i=0;else{switch(s){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return{h:i,s:r,v:c}}function d(e,t,n,i){var o=[I(r(e).toString(16)),I(r(t).toString(16)),I(r(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function p(e,t,n,i){var o,a=[I((o=i,Math.round(255*parseFloat(o)).toString(16))),I(r(e).toString(16)),I(r(t).toString(16)),I(r(n).toString(16))];return a.join("")}function f(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s-=t/100,n.s=A(n.s),l(n)}function h(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s+=t/100,n.s=A(n.s),l(n)}function g(e){return l(e).desaturate(100)}function m(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l+=t/100,n.l=A(n.l),l(n)}function v(e,t){t=0===t?0:t||10;var n=l(e).toRgb();return n.r=a(0,o(255,n.r-r(-t/100*255))),n.g=a(0,o(255,n.g-r(-t/100*255))),n.b=a(0,o(255,n.b-r(-t/100*255))),l(n)}function y(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l-=t/100,n.l=A(n.l),l(n)}function _(e,t){var n=l(e).toHsl(),i=(r(n.h)+t)%360;return n.h=i<0?360+i:i,l(n)}function b(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function w(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+120)%360,s:t.s,l:t.l}),l({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+90)%360,s:t.s,l:t.l}),l({h:(n+180)%360,s:t.s,l:t.l}),l({h:(n+270)%360,s:t.s,l:t.l})]}function x(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+72)%360,s:t.s,l:t.l}),l({h:(n+216)%360,s:t.s,l:t.l})]}function S(e,t,n){t=t||6,n=n||30;var i=l(e).toHsl(),r=360/n,o=[l(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(l(i));return o}function k(e,t){t=t||6;for(var n=l(e).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/t;t--;)a.push(l({h:i,s:r,v:o})),o=(o+s)%1;return a}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=C(e),this._roundA=r(1e3*this._a)/1e3,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=r(360*e.h),n=r(100*e.s),i=r(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=r(360*e.h),n=r(100*e.s),i=r(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return p(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*P(this._r,255))+"%",g:r(100*P(this._g,255))+"%",b:r(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*P(this._r,255))+"%, "+r(100*P(this._g,255))+"%, "+r(100*P(this._b,255))+"%)":"rgba("+r(100*P(this._r,255))+"%, "+r(100*P(this._g,255))+"%, "+r(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=l(e);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!t&&i&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return r?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:M(e[i]));e=n}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(e,t,n){n=0===n?0:n||50;var i,r=l(e).toRgb(),o=l(t).toRgb(),a=n/100,s=2*a-1,c=o.a-r.a,u=1-(i=((i=s*c==-1?s:(s+c)/(1+s*c))+1)/2),d={r:o.r*i+r.r*u,g:o.g*i+r.g*u,b:o.b*i+r.b*u,a:o.a*a+r.a*(1-a)};return l(d)},l.readability=function(e,t){var n=l(e),i=l(t),r=n.toRgb(),o=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),c=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:c}},l.isReadable=function(e,t){var n=l.readability(e,t);return n.brightness>125&&n.color>500},l.mostReadable=function(e,t){for(var n=null,i=0,r=!1,o=0;o<t.length;o++){var a=l.readability(e,t[o]),s=a.brightness>125&&a.color>500,c=a.brightness/125*3+a.color/500;(s&&!r||s&&r&&c>i||!s&&!r&&c>i)&&(r=s,i=c,n=l(t[o]))}return n};var O=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=l.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(O);function C(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=o(t,a(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function A(e){return o(1,a(0,e))}function L(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}var R,j,D,F=(j="[\\s|\\(]+("+(R="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",D="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",{rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+D),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+D),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+D),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var o="modal",a=".bs.modal",s=e.fn.modal,l={backdrop:!0,keyboard:!0,focus:!0,show:!0},c={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},u={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},d={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},p={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},f=function(){function i(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(p.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var s,f,h,g=i.prototype;return g.toggle=function(e){return this._isShown?this.hide():this.show(e)},g.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(d.FADE)&&(this._isTransitioning=!0);var i=e.Event(u.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(u.CLICK_DISMISS,p.DATA_DISMISS,function(e){return n.hide(e)}),e(this._dialog).on(u.MOUSEDOWN_DISMISS,function(){e(n._element).one(u.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},g.hide=function(n){var i=this;if(n&&n.preventDefault(),this._isShown&&!this._isTransitioning){var r=e.Event(u.HIDE);if(e(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var o=e(this._element).hasClass(d.FADE);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(u.FOCUSIN),e(this._element).removeClass(d.SHOW),e(this._element).off(u.CLICK_DISMISS),e(this._dialog).off(u.MOUSEDOWN_DISMISS),o){var a=t.getTransitionDurationFromElement(this._element);e(this._element).one(t.TRANSITION_END,function(e){return i._hideModal(e)}).emulateTransitionEnd(a)}else this._hideModal()}}},g.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return e(t).off(a)}),e(document).off(u.FOCUSIN),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},g.handleUpdate=function(){this._adjustDialog()},g._getConfig=function(e){return e=r({},l,e),t.typeCheckConfig(o,e,c),e},g._showElement=function(n){var i=this,r=e(this._element).hasClass(d.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.scrollTop=0,r&&t.reflow(this._element),e(this._element).addClass(d.SHOW),this._config.focus&&this._enforceFocus();var o=e.Event(u.SHOWN,{relatedTarget:n}),a=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,e(i._element).trigger(o)};if(r){var s=t.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(t.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},g._enforceFocus=function(){var t=this;e(document).off(u.FOCUSIN).on(u.FOCUSIN,function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()})},g._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(u.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(u.KEYDOWN_DISMISS)},g._setResizeEvent=function(){var t=this;this._isShown?e(window).on(u.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(u.RESIZE)},g._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(d.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(u.HIDDEN)})},g._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},g._showBackdrop=function(n){var i=this,r=e(this._element).hasClass(d.FADE)?d.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=d.BACKDROP,r&&this._backdrop.classList.add(r),e(this._backdrop).appendTo(document.body),e(this._element).on(u.CLICK_DISMISS,function(e){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),r&&t.reflow(this._backdrop),e(this._backdrop).addClass(d.SHOW),!n)return;if(!r)return void n();var o=t.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(t.TRANSITION_END,n).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(d.SHOW);var a=function(){i._removeBackdrop(),n&&n()};if(e(this._element).hasClass(d.FADE)){var s=t.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(t.TRANSITION_END,a).emulateTransitionEnd(s)}else a()}else n&&n()},g._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},g._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},g._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},g._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(p.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(p.STICKY_CONTENT));e(n).each(function(n,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),e(i).each(function(n,i){var r=i.style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}e(document.body).addClass(d.OPEN)},g._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(p.FIXED_CONTENT));e(t).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(""+p.STICKY_CONTENT));e(n).each(function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")});var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},g._getScrollbarWidth=function(){var e=document.createElement("div");e.className=d.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},i._jQueryInterface=function(t,n){return this.each(function(){var o=e(this).data("bs.modal"),a=r({},l,e(this).data(),"object"==typeof t&&t?t:{});if(o||(o=new i(this,a),e(this).data("bs.modal",o)),"string"==typeof t){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t](n)}else a.show&&o.show(n)})},s=i,h=[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return l}}],(f=null)&&n(s.prototype,f),h&&n(s,h),i}();return e(document).on(u.CLICK_DATA_API,p.DATA_TOGGLE,function(n){var i,o=this,a=t.getSelectorFromElement(this);a&&(i=document.querySelector(a));var s=e(i).data("bs.modal")?"toggle":r({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||n.preventDefault();var l=e(i).one(u.SHOW,function(t){t.isDefaultPrevented()||l.one(u.HIDDEN,function(){e(o).is(":visible")&&o.focus()})});f._jQueryInterface.call(e(i),s,this)}),e.fn.modal=f._jQueryInterface,e.fn.modal.Constructor=f,e.fn.modal.noConflict=function(){return e.fn.modal=s,f._jQueryInterface},f}(n(1),n(78))},function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var o="popover",a=".bs.popover",s=e.fn[o],l=new RegExp("(^|\\s)bs-popover\\S+","g"),c=r({},t.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),u=r({},t.DefaultType,{content:"(string|element|function)"}),d={FADE:"fade",SHOW:"show"},p={TITLE:".popover-header",CONTENT:".popover-body"},f={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a},h=function(t){var i,r;function s(){return t.apply(this,arguments)||this}r=t,(i=s).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r;var h,g,m,v=s.prototype;return v.isWithContent=function(){return this.getTitle()||this._getContent()},v.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},v.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},v.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(p.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(p.CONTENT),n),t.removeClass(d.FADE+" "+d.SHOW)},v._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},v._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(l);null!==n&&n.length>0&&t.removeClass(n.join(""))},s._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new s(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},h=s,m=[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return o}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return a}},{key:"DefaultType",get:function(){return u}}],(g=null)&&n(h.prototype,g),m&&n(h,m),s}(t);return e.fn[o]=h._jQueryInterface,e.fn[o].Constructor=h,e.fn[o].noConflict=function(){return e.fn[o]=s,h._jQueryInterface},h}(n(1),n(157))},function(e,t,n){e.exports=function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var a="tooltip",s=".bs.tooltip",l=e.fn[a],c=new RegExp("(^|\\s)bs-tooltip\\S+","g"),u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},d={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},p={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},f={SHOW:"show",OUT:"out"},h={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s},g={FADE:"fade",SHOW:"show"},m={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},v={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},y=function(){function r(e,n){if(void 0===t)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(n),this.tip=null,this._setListeners()}var l,y,_,b=r.prototype;return b.enable=function(){this._isEnabled=!0},b.disable=function(){this._isEnabled=!1},b.toggleEnabled=function(){this._isEnabled=!this._isEnabled},b.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(g.SHOW))return void this._leave(null,this);this._enter(null,this)}},b.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},b.show=function(){var i=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var r=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(r);var o=n.findShadowRoot(this.element),a=e.contains(null!==o?o:this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!a)return;var s=this.getTipElement(),l=n.getUID(this.constructor.NAME);s.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&e(s).addClass(g.FADE);var c="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,u=this._getAttachment(c);this.addAttachmentClass(u);var d=this._getContainer();e(s).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(s).appendTo(d),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new t(this.element,s,{placement:u,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:m.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&i._handlePopperPlacementChange(e)},onUpdate:function(e){return i._handlePopperPlacementChange(e)}}),e(s).addClass(g.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var p=function(){i.config.animation&&i._fixTransition();var t=i._hoverState;i._hoverState=null,e(i.element).trigger(i.constructor.Event.SHOWN),t===f.OUT&&i._leave(null,i)};if(e(this.tip).hasClass(g.FADE)){var h=n.getTransitionDurationFromElement(this.tip);e(this.tip).one(n.TRANSITION_END,p).emulateTransitionEnd(h)}else p()}},b.hide=function(t){var i=this,r=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),a=function(){i._hoverState!==f.SHOW&&r.parentNode&&r.parentNode.removeChild(r),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),e(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()};if(e(this.element).trigger(o),!o.isDefaultPrevented()){if(e(r).removeClass(g.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[v.CLICK]=!1,this._activeTrigger[v.FOCUS]=!1,this._activeTrigger[v.HOVER]=!1,e(this.tip).hasClass(g.FADE)){var s=n.getTransitionDurationFromElement(r);e(r).one(n.TRANSITION_END,a).emulateTransitionEnd(s)}else a();this._hoverState=""}},b.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},b.isWithContent=function(){return Boolean(this.getTitle())},b.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},b.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},b.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(m.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(g.FADE+" "+g.SHOW)},b.setElementContent=function(t,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[i?"html":"text"](n)},b.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},b._getContainer=function(){return!1===this.config.container?document.body:n.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},b._getAttachment=function(e){return d[e.toUpperCase()]},b._setListeners=function(){var t=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(n!==v.MANUAL){var i=n===v.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===v.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(r,t.config.selector,function(e){return t._leave(e)})}}),e(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},b._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},b._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?v.FOCUS:v.HOVER]=!0),e(n.getTipElement()).hasClass(g.SHOW)||n._hoverState===f.SHOW?n._hoverState=f.SHOW:(clearTimeout(n._timeout),n._hoverState=f.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===f.SHOW&&n.show()},n.config.delay.show):n.show())},b._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?v.FOCUS:v.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=f.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===f.OUT&&n.hide()},n.config.delay.hide):n.hide())},b._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},b._getConfig=function(t){return"number"==typeof(t=o({},this.constructor.Default,e(this.element).data(),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),n.typeCheckConfig(a,t,this.constructor.DefaultType),t},b._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},b._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(c);null!==n&&n.length&&t.removeClass(n.join(""))},b._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},b._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(g.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},r._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.tooltip"),i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new r(this,i),e(this).data("bs.tooltip",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},l=r,_=[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return p}},{key:"NAME",get:function(){return a}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return s}},{key:"DefaultType",get:function(){return u}}],(y=null)&&i(l.prototype,y),_&&i(l,_),r}();return e.fn[a]=y._jQueryInterface,e.fn[a].Constructor=y,e.fn[a].noConflict=function(){return e.fn[a]=l,y._jQueryInterface},y}(n(1),n(92),n(78))},function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=e.fn.tab,r={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},o={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},a={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},s=function(){function i(e){this._element=e}var s,l,c,u=i.prototype;return u.show=function(){var n=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(o.ACTIVE)||e(this._element).hasClass(o.DISABLED))){var i,s,l=e(this._element).closest(a.NAV_LIST_GROUP)[0],c=t.getSelectorFromElement(this._element);if(l){var u="UL"===l.nodeName||"OL"===l.nodeName?a.ACTIVE_UL:a.ACTIVE;s=(s=e.makeArray(e(l).find(u)))[s.length-1]}var d=e.Event(r.HIDE,{relatedTarget:this._element}),p=e.Event(r.SHOW,{relatedTarget:s});if(s&&e(s).trigger(d),e(this._element).trigger(p),!p.isDefaultPrevented()&&!d.isDefaultPrevented()){c&&(i=document.querySelector(c)),this._activate(this._element,l);var f=function(){var t=e.Event(r.HIDDEN,{relatedTarget:n._element}),i=e.Event(r.SHOWN,{relatedTarget:s});e(s).trigger(t),e(n._element).trigger(i)};i?this._activate(i,i.parentNode,f):f()}}},u.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},u._activate=function(n,i,r){var s=this,l=!i||"UL"!==i.nodeName&&"OL"!==i.nodeName?e(i).children(a.ACTIVE):e(i).find(a.ACTIVE_UL),c=l[0],u=r&&c&&e(c).hasClass(o.FADE),d=function(){return s._transitionComplete(n,c,r)};if(c&&u){var p=t.getTransitionDurationFromElement(c);e(c).removeClass(o.SHOW).one(t.TRANSITION_END,d).emulateTransitionEnd(p)}else d()},u._transitionComplete=function(n,i,r){if(i){e(i).removeClass(o.ACTIVE);var s=e(i.parentNode).find(a.DROPDOWN_ACTIVE_CHILD)[0];s&&e(s).removeClass(o.ACTIVE),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(e(n).addClass(o.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!0),t.reflow(n),e(n).addClass(o.SHOW),n.parentNode&&e(n.parentNode).hasClass(o.DROPDOWN_MENU)){var l=e(n).closest(a.DROPDOWN)[0];if(l){var c=[].slice.call(l.querySelectorAll(a.DROPDOWN_TOGGLE));e(c).addClass(o.ACTIVE)}n.setAttribute("aria-expanded",!0)}r&&r()},i._jQueryInterface=function(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");if(r||(r=new i(this),n.data("bs.tab",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}})},s=i,c=[{key:"VERSION",get:function(){return"4.2.1"}}],(l=null)&&n(s.prototype,l),c&&n(s,c),i}();return e(document).on(r.CLICK_DATA_API,a.DATA_TOGGLE,function(t){t.preventDefault(),s._jQueryInterface.call(e(this),"show")}),e.fn.tab=s._jQueryInterface,e.fn.tab.Constructor=s,e.fn.tab.noConflict=function(){return e.fn.tab=i,s._jQueryInterface},s}(n(1),n(78))},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DriveService=void 0;var a=o(n(35)),s=n(98),l=function(){function e(e){var t=this;void 0===e&&(e={}),this.init=function(){t.startLoadingBtn(),t.load().then(function(){setTimeout(function(){t.endLoadingBtn(),t.drive()},500)},function(){})},this.src="https://apis.google.com/js/platform.js",this.developerKey="AIzaSyAscL1olxYauMLc0sj0LXpCWL2Jmztr8dA",this.clientId="391438661644-2uum636mg2ckariol0if8h3364a1h6dc.apps.googleusercontent.com",this.scope="https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/userinfo.email",this.URL_API="https://www.googleapis.com/drive/v3/",this.preloadSrc=s.checkPreloadIsNeeded(),Object.assign(this,e)}return e.prototype.start=function(){1==this.preloadSrc?this.init():this.waitForClickToInit()},e.prototype.waitForClickToInit=function(){document.getElementById(this.id).addEventListener("click",this.init)},e.prototype.startLoadingBtn=function(){var e=document.getElementById(this.id);1==this.preloadSrc?e.classList.remove("active"):e.classList.add("load")},e.prototype.endLoadingBtn=function(){var e=document.getElementById(this.id);1==this.preloadSrc?e.classList.add("active"):e.classList.remove("load")},e.prototype.load=function(){var e=this;return new Promise(function(t,n){if(null===window.gapi||void 0!==window.gapi)return t(!0);a.lazyload(e.src);var i=window.setInterval(function(){if(null!==window.gapi&&"object"==typeof window.gapi)return clearInterval(i),t(!0)},100)})},e.prototype.drive=function(){},e}();t.DriveService=l},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DropboxService=void 0;var a=o(n(35)),s=n(98),l=function(){function e(e){var t=this;void 0===e&&(e={}),this.init=function(){t.startLoadingBtn(),t.load().then(function(){setTimeout(function(){t.endLoadingBtn(),t.initDropbox()},500)},function(){})},this.dropbox=function(){},this.src="https://www.dropbox.com/static/api/2/dropins.js",this.appKey="xntw8za866940lz",this.id=null,this.preloadSrc=s.checkPreloadIsNeeded(),Object.assign(this,e)}return e.prototype.start=function(){1==this.preloadSrc?this.init():this.waitForClickToInit()},e.prototype.waitForClickToInit=function(){document.getElementById(this.id).addEventListener("click",this.init)},e.prototype.startLoadingBtn=function(){var e=document.getElementById(this.id);1==this.preloadSrc?e.classList.remove("active"):e.classList.add("load")},e.prototype.endLoadingBtn=function(){var e=document.getElementById(this.id);1==this.preloadSrc?e.classList.add("active"):e.classList.remove("load")},e.prototype.load=function(){var e=this;return new Promise(function(t,n){if(null===window.Dropbox||void 0!==window.Dropbox)return t(!0);a.lazyload(e.src,{"data-app-key":e.appKey,id:"dropboxjs"});var i=window.setInterval(function(){if(null!==window.Dropbox&&"object"==typeof window.Dropbox||"function"==typeof window.Dropbox)return clearInterval(i),t(!0)},100)})},e.prototype.initDropbox=function(){1==this.preloadSrc?document.getElementById(this.id).addEventListener("click",this.dropbox):(document.getElementById(this.id).removeEventListener("click",this.init),document.getElementById(this.id).addEventListener("click",this.dropbox),this.dropbox())},e}();t.DropboxService=l},function(e,t,n){e.exports=n(46),n(127),n(80),n(162),n(128),n(163),n(129),n(164),n(165)},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(46),n(80)],void 0===(o="function"==typeof(i=function(e){"undefined"!=typeof fetch&&"undefined"!=typeof Request?e.fetchBlob=function(t,n,i){e.hasMetaOption(i)?fetch(new Request(t,i)).then(function(e){return e.blob()}).then(n).catch(function(e){n()}):n()}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(e.fetchBlob=function(t,n,i){if(e.hasMetaOption(i)){i=i||{};var r=new XMLHttpRequest;r.open(i.method||"GET",t),i.headers&&Object.keys(i.headers).forEach(function(e){r.setRequestHeader(e,i.headers[e])}),r.withCredentials="include"===i.credentials,r.responseType="blob",r.onload=function(){n(r.response)},r.onerror=r.onabort=r.ontimeout=function(e){n()},r.send(i.body)}else n()})})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(46),n(128)],void 0===(o="function"==typeof(i=function(e){e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,i=e.map;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(46),n(129)],void 0===(o="function"==typeof(i=function(e){e.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},e.IptcMap.prototype.getText=function(e){var t=this.get(e);return String(t)},function(e){var t,n=e.tags,i=e.map||{};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[n[t]]=t)}(e.IptcMap.prototype),e.IptcMap.prototype.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(46),n(127),n(80)],void 0===(o="function"==typeof(i=function(e){var t=e.hasCanvasOption,n=e.hasMetaOption,i=e.transformCoordinates,r=e.getTransformedOptions;o=document.createElement("img"),o.onload=function(){e.orientation=1===o.width&&2===o.height},o.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",e.hasCanvasOption=function(n){return!0==!!n.orientation&&!e.orientation||n.orientation>1&&n.orientation<9||t.call(e,n)},e.hasMetaOption=function(t){return t&&!0===t.orientation&&!e.orientation||n.call(e,t)},e.transformCoordinates=function(t,n){i.call(e,t,n);var r=t.getContext("2d"),o=t.width,a=t.height,s=t.style.width,l=t.style.height,c=n.orientation;if(c>1&&c<9)switch(c>4&&(t.width=a,t.height=o,t.style.width=l,t.style.height=s),c){case 2:r.translate(o,0),r.scale(-1,1);break;case 3:r.translate(o,a),r.rotate(Math.PI);break;case 4:r.translate(0,a),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-a);break;case 7:r.rotate(.5*Math.PI),r.translate(o,-a),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-o,0)}},e.getTransformedOptions=function(t,n,i){var o,a,s=r.call(e,t,n),l=s.orientation;if(!0===l){if(e.orientation)return s;l=i&&i.exif&&i.exif.get("Orientation")}if(!(l>1&&l<9))return s;for(a in o={},s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a]);switch(o.orientation=l,l){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o};var o})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){var i;!function(r){"use strict";var o=r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype,a=r.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),s=a&&r.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),l=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(a||l)&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&function(e){var t,n,i,r,o,u,d,p,f;if(!(t=e.match(c)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),i=!!t[4],r=e.slice(t[0].length),o=i?atob(r):decodeURIComponent(r),u=new ArrayBuffer(o.length),d=new Uint8Array(u),p=0;p<o.length;p+=1)d[p]=o.charCodeAt(p);return a?new Blob([s?d:u],{type:n}):((f=new l).append(u),f.getBlob(n))};r.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(e,t,n){var i=this;setTimeout(function(){n&&o.toDataURL&&u?e(u(i.toDataURL(t,n))):e(i.mozGetAsFile("blob",t))})}:o.toDataURL&&u&&(o.msToBlob?o.toBlob=function(e,t,n){var i=this;setTimeout(function(){(t&&"image/png"!==t||n)&&o.toDataURL&&u?e(u(i.toDataURL(t,n))):e(i.msToBlob(t))})}:o.toBlob=function(e,t,n){var i=this;setTimeout(function(){e(u(i.toDataURL(t,n)))})})),void 0===(i=function(){return u}.call(t,n,t,e))||(e.exports=i)}(window)},function(e,t,n){(function(e){function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i={decode:function(e){i.decode._decodeG3.allow2D=null;var t=new Uint8Array(e),n=0,r=i._binBE.readASCII(t,n,2);n+=2;var o="II"==r?i._binLE:i._binBE;o.readUshort(t,n);n+=2;var a=o.readUint(t,n);n+=4;for(var s=[];;){var l=i.decode._readIFD(o,t,a,s);if(0==(a=o.readUint(t,l)))break}for(var c=0;c<s.length;c++){var u=s[c];u.width=u.t256[0],delete u.t256,u.height=u.t257[0],delete u.t257;var d=u.t259[0];delete u.t259;var p=u.t266?u.t266[0]:1;delete u.t266,u.t284&&u.t284[0];var f=(u.t258?u.t258[0]:1)*(u.t277?u.t277[0]:1),h=u.t273;null==h&&(h=u.t324);var g=u.t279;1==d&&1==h.length&&(g=[u.height*u.width*f>>3]),null==g&&(g=u.t325);var m=new Uint8Array(u.width*u.height*f>>3),v=0;if(null!=u.t322){for(var y=u.t322[0],_=u.t323[0],b=Math.floor((u.width+y-1)/y),w=Math.floor((u.height+_-1)/_),E=new Uint8Array(y*_*f>>3),x=0;x<w;x++)for(var S=0;S<b;S++){for(var k=x*b+S,O=0;O<E.length;O++)E[O]=0;i.decode._decompress(u,t,h[k],g[k],d,E,0,p),i._copyTile(E,y*f>>3,_,m,u.width*f>>3,u.height,S*y*f>>3,x*_)}v=m.length<<3}else{var T=u.t278?u.t278[0]:u.height;T=Math.min(T,u.height);for(k=0;k<h.length;k++)i.decode._decompress(u,t,h[k],g[k],d,m,v>>3,p),v+=u.width*f*T;v=Math.min(v,m.length<<3)}u.data=new Uint8Array(m.buffer,0,v>>3)}return s}};i.decode._decompress=function(e,t,r,o,a,s,l,c){var u=n(169);if(1==a)for(var d=0;d<o;d++)s[l+d]=t[r+d];else if(3==a)i.decode._decodeG3(t,r,o,s,l,e.width,c);else if(4==a)i.decode._decodeG4(t,r,o,s,l,e.width,c);else if(5==a)i.decode._decodeLZW(t,r,s,l);else if(8==a)for(var p=new Uint8Array(t.buffer,r,o),f=u.inflate(p),h=0;h<f.length;h++)s[l+h]=f[h];else 32773==a?i.decode._decodePackBits(t,r,o,s,l):32809==a&&i.decode._decodeThunder(t,r,o,s,l);if(e.t317&&2==e.t317[0])for(var g=e.t277?e.t277[0]:1,m=e.t278?e.t278[0]:e.height,v=e.width*g,y=0;y<m;y++){var _=l+y*v;for(d=g;d<v;d++)s[_+d]=s[_+d]+s[_+d-g]&255}},i.decode._decodePackBits=function(e,t,n,i,r){for(var o=new Int8Array(e.buffer),a=new Int8Array(i.buffer),s=t+n;t<s;){var l=o[t];if(t++,l>=0&&l<128)for(var c=0;c<l+1;c++)a[r]=o[t],r++,t++;if(l>=-127&&l<0){for(c=0;c<1-l;c++)a[r]=o[t],r++;t++}}},i.decode._decodeThunder=function(e,t,n,i,r){for(var o=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],s=t+n,l=2*r,c=0;t<s;){var u=e[t],d=u>>6,p=63&u;if(t++,3==d&&(c=15&p,i[l>>1]|=c<<4*(1-l&1),l++),0==d)for(var f=0;f<p;f++)i[l>>1]|=c<<4*(1-l&1),l++;if(2==d)for(f=0;f<2;f++){4!=(h=p>>3*(1-f)&7)&&(c+=a[h],i[l>>1]|=c<<4*(1-l&1),l++)}if(1==d)for(f=0;f<3;f++){var h;2!=(h=p>>2*(2-f)&3)&&(c+=o[h],i[l>>1]|=c<<4*(1-l&1),l++)}}},i.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},i.decode._lens=function(){var e=function(e,t,n,i){for(var r=0;r<t.length;r++)e[t[r]]=n+r*i},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",r="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),n=n.split(","),i=i.split(","),r=r.split(","),o=o.split(",");var a={},s={};return e(a,t,0,1),e(a,i,64,64),e(a,o,1792,64),e(s,n,0,1),e(s,r,64,64),e(s,o,1792,64),[a,s]}(),i.decode._decodeG4=function(e,t,n,r,o,a,s){for(var l=i.decode,c=t<<3,u=0,d="",p=[],f=[],h=0;h<a;h++)f.push(0);f=l._makeDiff(f);for(var g=0,m=0,v=0,y=0,_=0,b=0,w="",E=0;c>>3<t+n;){v=l._findDiff(f,g+(0==g?0:1),1-_),y=l._findDiff(f,v,_);var x=0;if(1==s&&(x=e[c>>3]>>7-(7&c)&1),2==s&&(x=e[c>>3]>>(7&c)&1),c++,d+=x,"H"==w){if(null!=l._lens[_][d]){var S=l._lens[_][d];d="",u+=S,S<64&&(l._addNtimes(p,u,_),g+=u,_=1-_,u=0,0==--E&&(w=""))}}else"0001"==d&&(d="",l._addNtimes(p,y-g,_),g=y),"001"==d&&(d="",w="H",E=2),null!=l._dmap[d]&&(m=v+l._dmap[d],l._addNtimes(p,m-g,_),g=m,d="",_=1-_);p.length==a&&""==w&&(l._writeBits(p,r,8*o+b*a),_=0,b++,g=0,f=l._makeDiff(p),p=[])}},i.decode._findDiff=function(e,t,n){for(var i=0;i<e.length;i+=2)if(e[i]>=t&&e[i+1]==n)return e[i]},i.decode._makeDiff=function(e){var t=[];1==e[0]&&t.push(0,1);for(var n=1;n<e.length;n++)e[n-1]!=e[n]&&t.push(n,e[n]);return t.push(e.length,0,e.length,1),t},i.decode._decodeG3=function(e,t,n,r,o,a,s){for(var l=i.decode,c=t<<3,u=0,d="",p=[],f=[],h=0;h<a;h++)p.push(0);for(var g=0,m=0,v=0,y=0,_=0,b=-1,w="",E=0,x=!1;c>>3<t+n;){v=l._findDiff(f,g+(0==g?0:1),1-_),y=l._findDiff(f,v,_);var S=0;if(1==s&&(S=e[c>>3]>>7-(7&c)&1),2==s&&(S=e[c>>3]>>(7&c)&1),c++,d+=S,x){if(null!=l._lens[_][d]){var k=l._lens[_][d];d="",u+=k,k<64&&(l._addNtimes(p,u,_),_=1-_,u=0)}}else if("H"==w){if(null!=l._lens[_][d]){k=l._lens[_][d];d="",u+=k,k<64&&(l._addNtimes(p,u,_),g+=u,_=1-_,u=0,0==--E&&(w=""))}}else"0001"==d&&(d="",l._addNtimes(p,y-g,_),g=y),"001"==d&&(d="",w="H",E=2),null!=l._dmap[d]&&(m=v+l._dmap[d],l._addNtimes(p,m-g,_),g=m,d="",_=1-_);d.endsWith("000000000001")&&(b>=0&&l._writeBits(p,r,8*o+b*a),x=1==(e[c>>3]>>(7&c)&1),c++,null==l._decodeG3.allow2D&&(l._decodeG3.allow2D=x),l._decodeG3.allow2D||(x=!0,c--),d="",_=0,b++,g=0,f=l._makeDiff(p),p=[])}p.length==a&&l._writeBits(p,r,8*o+b*a)},i.decode._addNtimes=function(e,t,n){for(var i=0;i<t;i++)e.push(n)},i.decode._writeBits=function(e,t,n){for(var i=0;i<e.length;i++)t[n+i>>3]|=e[i]<<7-(n+i&7)},i.decode._decodeLZW=function(e,t,n,i){for(var r=[],o=9,a=t<<3,s=0,l=0;;){if(s=(e[a>>3]<<16|e[a+8>>3]<<8|e[a+16>>3])>>24-(7&a)-o&(1<<o)-1,a+=o,0==r.length&&256!=s)return;if(257==s)break;if(256==s){o=9,r=[];for(var c=0;c<258;c++)r[c]=[c];if(s=(e[a>>3]<<16|e[a+8>>3]<<8|e[a+16>>3])>>24-(7&a)-o&(1<<o)-1,a+=o,257==s)break;for(c=0;c<r[s].length;c++)n[i+c]=r[s][c];i+=r[s].length,l=s}else if(s<r.length){for(c=0;c<r[s].length;c++)n[i+c]=r[s][c];i+=r[s].length;var u=r[l].slice(0);u.push(r[s][0]),r.push(u),r.length+1==1<<o&&o++,l=s}else{var d=r[l].slice(0);d.push(d[0]);for(c=0;c<d.length;c++)n[i+c]=d[c];i+=d.length,r.push(d),r.length+1==1<<o&&o++,l=s}}},i.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",317:"Predictor",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",336:"DotRange",338:"ExtraSample",339:"SampleFormat",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",33432:"Copyright",34377:"Photoshop"},i.decode._readIFD=function(e,t,n,i){var r=e.readUshort(t,n);n+=2;var o={};i.push(o);for(var a=0;a<r;a++){var s=e.readUshort(t,n);n+=2;var l=e.readUshort(t,n);n+=2;var c=e.readUint(t,n);n+=4;var u=e.readUint(t,n);n+=4;var d=o["t"+s]=[];if(1==l||7==l)for(var p=0;p<c;p++)d.push(t[(c<5?n-4:u)+p]);if(2==l&&d.push(e.readASCII(t,c<5?n-4:u,c-1)),3==l)for(p=0;p<c;p++)d.push(e.readUshort(t,(c<3?n-4:u)+2*p));if(4==l)for(p=0;p<c;p++)d.push(e.readUint(t,(c<2?n-4:u)+4*p));if(5==l)for(p=0;p<c;p++)d.push(e.readUint(t,u+8*p)/e.readUint(t,u+8*p+4));d.length}return n},i.toRGBA8=function(e){var t=e.width*e.height,n=4*t,i=e.data,r=new Uint8Array(4*t),o=e.t262[0],a=e.t258?e.t258[0]:1;if(0==o){if(1==a)for(var s=0;s<t;s++){var l=s<<2,c=i[s>>3]>>7-(7&s)&1;r[l]=r[l+1]=r[l+2]=255*(1-c),r[l+3]=255}if(4==a)for(s=0;s<t;s++){l=s<<2,c=i[s>>1]>>4-4*(1&s)&15;r[l]=r[l+1]=r[l+2]=17*(15-c),r[l+3]=255}if(8==a)for(s=0;s<t;s++){l=s<<2,c=i[s];r[l]=r[l+1]=r[l+2]=255-c,r[l+3]=255}}if(1==o){if(1==a)for(s=0;s<t;s++){l=s<<2,c=i[s>>3]>>7-(7&s)&1;r[l]=r[l+1]=r[l+2]=255*c,r[l+3]=255}if(2==a)for(s=0;s<t;s++){l=s<<2,c=i[s>>2]>>6-2*(3&s)&3;r[l]=r[l+1]=r[l+2]=85*c,r[l+3]=255}if(8==a)for(s=0;s<t;s++){l=s<<2,c=i[s];r[l]=r[l+1]=r[l+2]=c,r[l+3]=255}if(16==a)for(s=0;s<t;s++){l=s<<2,c=Math.max(0,i[2*s+1]-5)<<8|i[2*s];r[l]=r[l+1]=r[l+2]=Math.min(255,c),r[l+3]=255}}if(2==o)if(8==a)if(e.t338)if(1==e.t338[0])for(s=0;s<n;s++)r[s]=i[s];else for(s=0;s<n;s+=4)r[s]=i[s],r[s+1]=i[s+1],r[s+2]=i[s+2],r[s+3]=255;else for(s=0;s<t;s++){var u=3*s;r[l=s<<2]=i[u],r[l+1]=i[u+1],r[l+2]=i[u+2],r[l+3]=255}else for(s=0;s<t;s++){u=6*s;r[l=s<<2]=i[u],r[l+1]=i[u+2],r[l+2]=i[u+4],r[l+3]=255}if(3==o){var d=e.t320;for(s=0;s<t;s++){l=s<<2;var p=i[s];r[l]=d[p]>>8,r[l+1]=d[256+p]>>8,r[l+2]=d[512+p]>>8,r[l+3]=255}}if(5==o)for(s=0;s<t;s++){var f=255-i[l=s<<2],h=255-i[l+1],g=255-i[l+2],m=(255-i[l+3])*(1/255);r[l]=Math.round(f*m),r[l+1]=Math.round(h*m),r[l+2]=Math.round(g*m),r[l+3]=255}return r},i.replaceIMG=function(){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t],r=n.getAttribute("src"),o=r.split(".").pop().toLowerCase();if("tif"==o||"tiff"==o){var a=new XMLHttpRequest;i._xhrs.push(a),i._imgs.push(n),a.open("GET",r),a.responseType="arraybuffer",a.onload=i._imgLoaded,a.send()}}},i._xhrs=[],i._imgs=[],i._imgLoaded=function(e){var t=i.decode(e.target.response)[0],n=i.toRGBA8(t),r=t.width,o=t.height,a=i._xhrs.indexOf(e.target),s=i._imgs[a];i._xhrs.splice(a,1),i._imgs.splice(a,1);var l=document.createElement("canvas");l.width=r,l.height=o;for(var c=l.getContext("2d"),u=c.createImageData(r,o),d=0;d<n.length;d++)u.data[d]=n[d];c.putImageData(u,0,0);var p=["style","class","id"];for(d=0;d<p.length;d++)l.setAttribute(p[d],s.getAttribute(p[d]));s.parentNode.replaceChild(l,s)},i._binBE={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},readUint:function(e,t){var n=i._binBE.ui8;return n[0]=e[t+3],n[1]=e[t+2],n[2]=e[t+1],n[3]=e[t],i._binBE.ui32[0]},readASCII:function(e,t,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(e[t+r]);return i}},i._binBE.ui8=new Uint8Array(4),i._binBE.ui32=new Uint32Array(i._binBE.ui8.buffer),i._binLE={nextZero:i._binBE.nextZero,readUshort:function(e,t){return e[t+1]<<8|e[t]},readUint:function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},readASCII:i._binBE.readASCII},i._copyTile=function(e,t,n,i,r,o,a,s){for(var l=0;l<n;l++)for(var c=0;c<t;c++){var u=a+c,d=s+l;u<r&&d<o&&(i[d*r+u]=e[l*t+c])}},"object"==t(e)&&(e.exports=i)}).call(this,n(168)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var i={};(0,n(56).assign)(i,n(170),n(173),n(134)),e.exports=i},function(e,t,n){"use strict";var i=n(171),r=n(56),o=n(132),a=n(117),s=n(133),l=Object.prototype.toString,c=0,u=-1,d=0,p=8;function f(e){if(!(this instanceof f))return new f(e);this.options=r.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var h;if(h="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,h))!==c)throw new Error(a[n]);this._dict_set=!0}}function h(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=f,t.deflate=h,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,h(e,t)}},function(e,t,n){"use strict";var i,r=n(56),o=n(172),a=n(130),s=n(131),l=n(117),c=0,u=1,d=3,p=4,f=5,h=0,g=1,m=-2,v=-3,y=-5,_=-1,b=1,w=2,E=3,x=4,S=0,k=2,O=8,T=9,C=15,P=8,A=286,L=30,I=19,M=2*A+1,R=15,j=3,D=258,F=D+j+1,N=32,B=42,U=69,z=73,H=91,W=103,q=113,V=666,G=1,Y=2,X=3,K=4,Z=3;function $(e,t){return e.msg=l[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function re(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,c=e.window,u=e.w_mask,d=e.prev,p=e.strstart+D,f=c[o+a-1],h=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===h&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(i=D-(p-o),o=p-D,i>a){if(e.match_start=t,a=i,i>=s)break;f=c[o+a-1],h=c[o+a]}}}while((t=d[t&u])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function oe(e){var t,n,i,o,l,c,u,d,p,f,h=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-F)){r.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=h?i-h:0}while(--n);t=n=h;do{i=e.prev[--t],e.prev[t]=i>=h?i-h:0}while(--n);o+=h}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,p=o,f=void 0,(f=c.avail_in)>p&&(f=p),n=0===f?0:(c.avail_in-=f,r.arraySet(u,c.input,c.next_in,f,d),1===c.state.wrap?c.adler=a(c.adler,u,f,d):2===c.state.wrap&&(c.adler=s(c.adler,u,f,d)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=j)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+j-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<j)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function ae(e,t){for(var n,i;;){if(e.lookahead<F){if(oe(e),e.lookahead<F&&t===c)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-F&&(e.match_length=re(e,n)),e.match_length>=j)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-j),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=j){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=e.strstart<j-1?e.strstart:j-1,t===p?(te(e,!0),0===e.strm.avail_out?X:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:Y}function se(e,t){for(var n,i,r;;){if(e.lookahead<F){if(oe(e),e.lookahead<F&&t===c)return G;if(0===e.lookahead)break}if(n=0,e.lookahead>=j&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=j-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F&&(e.match_length=re(e,n),e.match_length<=5&&(e.strategy===b||e.match_length===j&&e.strstart-e.match_start>4096)&&(e.match_length=j-1)),e.prev_length>=j&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-j,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-j),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+j-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=j-1,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return G}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return G}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<j-1?e.strstart:j-1,t===p?(te(e,!0),0===e.strm.avail_out?X:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:Y}function le(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function ce(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=k,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:q,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),h):$(e,m)}function ue(e){var t,n=ce(e);return n===h&&((t=e.state).window_size=2*t.w_size,J(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=j-1,t.match_available=0,t.ins_h=0),n}function de(e,t,n,i,o,a){if(!e)return m;var s=1;if(t===_&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>T||n!==O||i<8||i>15||t<0||t>9||a<0||a>x)return $(e,m);8===i&&(i=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*M),this.dyn_dtree=new r.Buf16(2*(2*L+1)),this.bl_tree=new r.Buf16(2*(2*I+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(R+1),this.heap=new r.Buf16(2*A+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*A+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+j-1)/j),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,ue(e)}i=[new le(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===c)return G;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,te(e,!1),0===e.strm.avail_out))return G;if(e.strstart-e.block_start>=e.w_size-F&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?X:K):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),G)}),new le(4,4,8,4,ae),new le(4,5,16,8,ae),new le(4,6,32,32,ae),new le(4,4,16,16,se),new le(8,16,32,32,se),new le(8,16,128,128,se),new le(8,32,128,256,se),new le(32,128,258,1024,se),new le(32,258,258,4096,se)],t.deflateInit=function(e,t){return de(e,t,O,C,P,S)},t.deflateInit2=de,t.deflateReset=ue,t.deflateResetKeep=ce,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,h):m},t.deflate=function(e,t){var n,r,a,l;if(!e||!e.state||t>f||t<0)return e?$(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===V&&t!==p)return $(e,0===e.avail_out?y:m);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===B)if(2===r.wrap)e.adler=0,ne(r,31),ne(r,139),ne(r,8),r.gzhead?(ne(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ne(r,255&r.gzhead.time),ne(r,r.gzhead.time>>8&255),ne(r,r.gzhead.time>>16&255),ne(r,r.gzhead.time>>24&255),ne(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ne(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ne(r,255&r.gzhead.extra.length),ne(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=U):(ne(r,0),ne(r,0),ne(r,0),ne(r,0),ne(r,0),ne(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ne(r,Z),r.status=q);else{var v=O+(r.w_bits-8<<4)<<8;v|=(r.strategy>=w||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(v|=N),v+=31-v%31,r.status=q,ie(r,v),0!==r.strstart&&(ie(r,e.adler>>>16),ie(r,65535&e.adler)),e.adler=1}if(r.status===U)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending!==r.pending_buf_size));)ne(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=z)}else r.status=z;if(r.status===z)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ne(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ne(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=W)}else r.status=W;if(r.status===W&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ee(e),r.pending+2<=r.pending_buf_size&&(ne(r,255&e.adler),ne(r,e.adler>>8&255),e.adler=0,r.status=q)):r.status=q),0!==r.pending){if(ee(e),0===e.avail_out)return r.last_flush=-1,h}else if(0===e.avail_in&&Q(t)<=Q(n)&&t!==p)return $(e,y);if(r.status===V&&0!==e.avail_in)return $(e,y);if(0!==e.avail_in||0!==r.lookahead||t!==c&&r.status!==V){var _=r.strategy===w?function(e,t){for(var n;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===c)return G;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?X:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:Y}(r,t):r.strategy===E?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=D){if(oe(e),e.lookahead<=D&&t===c)return G;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=j&&e.strstart>0&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+D;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=D-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=j?(n=o._tr_tally(e,1,e.match_length-j),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?X:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:Y}(r,t):i[r.level].func(r,t);if(_!==X&&_!==K||(r.status=V),_===G||_===X)return 0===e.avail_out&&(r.last_flush=-1),h;if(_===Y&&(t===u?o._tr_align(r):t!==f&&(o._tr_stored_block(r,0,0,!1),t===d&&(J(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ee(e),0===e.avail_out))return r.last_flush=-1,h}return t!==p?h:r.wrap<=0?g:(2===r.wrap?(ne(r,255&e.adler),ne(r,e.adler>>8&255),ne(r,e.adler>>16&255),ne(r,e.adler>>24&255),ne(r,255&e.total_in),ne(r,e.total_in>>8&255),ne(r,e.total_in>>16&255),ne(r,e.total_in>>24&255)):(ie(r,e.adler>>>16),ie(r,65535&e.adler)),ee(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?h:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==B&&t!==U&&t!==z&&t!==H&&t!==W&&t!==q&&t!==V?$(e,m):(e.state=null,t===q?$(e,v):h):m},t.deflateSetDictionary=function(e,t){var n,i,o,s,l,c,u,d,p=t.length;if(!e||!e.state)return m;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==B||n.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,oe(n);n.lookahead>=j;){i=n.strstart,o=n.lookahead-(j-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+j-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=j-1,oe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=j-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=s,h},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(56),r=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,u=1,d=2,p=29,f=256,h=f+1+p,g=30,m=19,v=2*h+1,y=15,_=16,b=7,w=256,E=16,x=17,S=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var A=new Array(2*g);l(A);var L=new Array(512);l(L);var I=new Array(256);l(I);var M=new Array(p);l(M);var R,j,D,F=new Array(g);function N(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function B(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function U(e){return e<256?L[e]:L[256+(e>>>7)]}function z(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function H(e,t,n){e.bi_valid>_-n?(e.bi_buf|=t<<e.bi_valid&65535,z(e,e.bi_buf),e.bi_buf=t>>_-e.bi_valid,e.bi_valid+=n-_):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function W(e,t,n){H(e,n[2*t],n[2*t+1])}function q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function V(e,t,n){var i,r,o=new Array(y+1),a=0;for(i=1;i<=y;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=q(o[s]++,s))}}function G(e){var t;for(t=0;t<h;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<m;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Y(e){e.bi_valid>8?z(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function X(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function K(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&X(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!X(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function Z(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?W(e,r,t):(W(e,(o=I[r])+f+1,t),0!==(a=k[o])&&H(e,r-=M[o],a),W(e,o=U(--i),n),0!==(a=O[o])&&H(e,i-=F[o],a))}while(s<e.last_lit);W(e,w,t)}function $(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=v,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)K(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,K(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,h=t.stat_desc.max_length,g=0;for(o=0;o<=y;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<v;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>h&&(o=h,g++),l[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=f&&(a=p[i-f]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==g){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,g-=2}while(g>0);for(o=h;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),V(o,c,e.bl_count)}function Q(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*E]++):s<=10?e.bl_tree[2*x]++:e.bl_tree[2*S]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function J(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<l&&r===a)){if(s<c)do{W(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(W(e,r,e.bl_tree),s--),W(e,E,e.bl_tree),H(e,s-3,2)):s<=10?(W(e,x,e.bl_tree),H(e,s-3,3)):(W(e,S,e.bl_tree),H(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}l(F);var ee=!1;function te(e,t,n,r){H(e,(c<<1)+(r?1:0),3),function(e,t,n,r){Y(e),r&&(z(e,n),z(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,i,r,o=new Array(y+1);for(n=0,i=0;i<p-1;i++)for(M[i]=n,e=0;e<1<<k[i];e++)I[n++]=i;for(I[n-1]=i,r=0,i=0;i<16;i++)for(F[i]=r,e=0;e<1<<O[i];e++)L[r++]=i;for(r>>=7;i<g;i++)for(F[i]=r<<7,e=0;e<1<<O[i]-7;e++)L[256+r++]=i;for(t=0;t<=y;t++)o[t]=0;for(e=0;e<=143;)P[2*e+1]=8,e++,o[8]++;for(;e<=255;)P[2*e+1]=9,e++,o[9]++;for(;e<=279;)P[2*e+1]=7,e++,o[7]++;for(;e<=287;)P[2*e+1]=8,e++,o[8]++;for(V(P,h+1,o),e=0;e<g;e++)A[2*e+1]=5,A[2*e]=q(e,5);R=new N(P,k,f+1,h,y),j=new N(A,O,0,g,y),D=new N(new Array(0),T,0,m,b)}(),ee=!0),e.l_desc=new B(e.dyn_ltree,R),e.d_desc=new B(e.dyn_dtree,j),e.bl_desc=new B(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,G(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,i){var l,c,p=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return a;return o}(e)),$(e,e.l_desc),$(e,e.d_desc),p=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),$(e,e.bl_desc),t=m-1;t>=3&&0===e.bl_tree[2*C[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,i):e.strategy===r||c===l?(H(e,(u<<1)+(i?1:0),3),Z(e,P,A)):(H(e,(d<<1)+(i?1:0),3),function(e,t,n,i){var r;for(H(e,t-257,5),H(e,n-1,5),H(e,i-4,4),r=0;r<i;r++)H(e,e.bl_tree[2*C[r]+1],3);J(e,e.dyn_ltree,t-1),J(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,p+1),Z(e,e.dyn_ltree,e.dyn_dtree)),G(e),i&&Y(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(I[n]+f+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){H(e,u<<1,3),W(e,w,P),function(e){16===e.bi_valid?(z(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var i=n(174),r=n(56),o=n(132),a=n(134),s=n(117),l=n(133),c=n(177),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new c,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=i.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function p(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,c,d,p=this.strm,f=this.options.chunkSize,h=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(n=i.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),c=p.next_out-l,d=o.buf2string(p.output,l),p.next_out=c,p.avail_out=f-c,c&&r.arraySet(p.output,p.output,l,c,0),this.onData(d)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=p,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.ungzip=p},function(e,t,n){"use strict";var i=n(56),r=n(130),o=n(131),a=n(175),s=n(176),l=0,c=1,u=2,d=4,p=5,f=6,h=0,g=1,m=2,v=-2,y=-3,_=-4,b=-5,w=8,E=1,x=2,S=3,k=4,O=5,T=6,C=7,P=8,A=9,L=10,I=11,M=12,R=13,j=14,D=15,F=16,N=17,B=18,U=19,z=20,H=21,W=22,q=23,V=24,G=25,Y=26,X=27,K=28,Z=29,$=30,Q=31,J=32,ee=852,te=592,ne=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=E,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(ee),t.distcode=t.distdyn=new i.Buf32(te),t.sane=1,t.back=-1,h):v}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,re(e)):v}function ae(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,oe(e))):v}function se(e,t){var n,r;return e?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=r,r.window=null,(n=ae(e,t))!==h&&(e.state=null),n):v}var le,ce,ue=!0;function de(e){if(ue){var t;for(le=new i.Buf32(512),ce=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,ce,0,e.work,{bits:5}),ue=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function pe(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=oe,t.inflateReset2=ae,t.inflateResetKeep=re,t.inflateInit=function(e){return se(e,ne)},t.inflateInit2=se,t.inflate=function(e,t){var n,ee,te,ne,re,oe,ae,se,le,ce,ue,fe,he,ge,me,ve,ye,_e,be,we,Ee,xe,Se,ke,Oe=0,Te=new i.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(n=e.state).mode===M&&(n.mode=R),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,ce=oe,ue=ae,xe=h;e:for(;;)switch(n.mode){case E:if(0===n.wrap){n.mode=R;break}for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,Te[0]=255&se,Te[1]=se>>>8&255,n.check=o(n.check,Te,2,0),se=0,le=0,n.mode=x;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=$;break}if((15&se)!==w){e.msg="unknown compression method",n.mode=$;break}if(le-=4,Ee=8+(15&(se>>>=4)),0===n.wbits)n.wbits=Ee;else if(Ee>n.wbits){e.msg="invalid window size",n.mode=$;break}n.dmax=1<<Ee,e.adler=n.check=1,n.mode=512&se?L:M,se=0,le=0;break;case x:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==w){e.msg="unknown compression method",n.mode=$;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=$;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,n.check=o(n.check,Te,2,0)),se=0,le=0,n.mode=S;case S:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,Te[2]=se>>>16&255,Te[3]=se>>>24&255,n.check=o(n.check,Te,4,0)),se=0,le=0,n.mode=k;case k:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,n.check=o(n.check,Te,2,0)),se=0,le=0,n.mode=O;case O:if(1024&n.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,n.check=o(n.check,Te,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=T;case T:if(1024&n.flags&&((fe=n.length)>oe&&(fe=oe),fe&&(n.head&&(Ee=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,ee,ne,fe,Ee)),512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,n.length-=fe),n.length))break e;n.length=0,n.mode=C;case C:if(2048&n.flags){if(0===oe)break e;fe=0;do{Ee=ee[ne+fe++],n.head&&Ee&&n.length<65536&&(n.head.name+=String.fromCharCode(Ee))}while(Ee&&fe<oe);if(512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,Ee)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=P;case P:if(4096&n.flags){if(0===oe)break e;fe=0;do{Ee=ee[ne+fe++],n.head&&Ee&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ee))}while(Ee&&fe<oe);if(512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,Ee)break e}else n.head&&(n.head.comment=null);n.mode=A;case A:if(512&n.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=$;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=M;break;case L:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(se),se=0,le=0,n.mode=I;case I:if(0===n.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,m;e.adler=n.check=1,n.mode=M;case M:if(t===p||t===f)break e;case R:if(n.last){se>>>=7&le,le-=7&le,n.mode=X;break}for(;le<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,le-=1,3&(se>>>=1)){case 0:n.mode=j;break;case 1:if(de(n),n.mode=z,t===f){se>>>=2,le-=2;break e}break;case 2:n.mode=N;break;case 3:e.msg="invalid block type",n.mode=$}se>>>=2,le-=2;break;case j:for(se>>>=7&le,le-=7&le;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=$;break}if(n.length=65535&se,se=0,le=0,n.mode=D,t===f)break e;case D:n.mode=F;case F:if(fe=n.length){if(fe>oe&&(fe=oe),fe>ae&&(fe=ae),0===fe)break e;i.arraySet(te,ee,ne,fe,re),oe-=fe,ne+=fe,ae-=fe,re+=fe,n.length-=fe;break}n.mode=M;break;case N:for(;le<14;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=$;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;le<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.lens[Ce[n.have++]]=7&se,se>>>=3,le-=3}for(;n.have<19;)n.lens[Ce[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},xe=s(l,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,xe){e.msg="invalid code lengths set",n.mode=$;break}n.have=0,n.mode=U;case U:for(;n.have<n.nlen+n.ndist;){for(;ve=(Oe=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ye=65535&Oe,!((me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(ye<16)se>>>=me,le-=me,n.lens[n.have++]=ye;else{if(16===ye){for(ke=me+2;le<ke;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se>>>=me,le-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=$;break}Ee=n.lens[n.have-1],fe=3+(3&se),se>>>=2,le-=2}else if(17===ye){for(ke=me+3;le<ke;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}le-=me,Ee=0,fe=3+(7&(se>>>=me)),se>>>=3,le-=3}else{for(ke=me+7;le<ke;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}le-=me,Ee=0,fe=11+(127&(se>>>=me)),se>>>=7,le-=7}if(n.have+fe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=$;break}for(;fe--;)n.lens[n.have++]=Ee}}if(n.mode===$)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=$;break}if(n.lenbits=9,Se={bits:n.lenbits},xe=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,xe){e.msg="invalid literal/lengths set",n.mode=$;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},xe=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,xe){e.msg="invalid distances set",n.mode=$;break}if(n.mode=z,t===f)break e;case z:n.mode=H;case H:if(oe>=6&&ae>=258){e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,a(e,ue),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,n.mode===M&&(n.back=-1);break}for(n.back=0;ve=(Oe=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ye=65535&Oe,!((me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(ve&&0==(240&ve)){for(_e=me,be=ve,we=ye;ve=(Oe=n.lencode[we+((se&(1<<_e+be)-1)>>_e)])>>>16&255,ye=65535&Oe,!(_e+(me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=_e,le-=_e,n.back+=_e}if(se>>>=me,le-=me,n.back+=me,n.length=ye,0===ve){n.mode=Y;break}if(32&ve){n.back=-1,n.mode=M;break}if(64&ve){e.msg="invalid literal/length code",n.mode=$;break}n.extra=15&ve,n.mode=W;case W:if(n.extra){for(ke=n.extra;le<ke;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=q;case q:for(;ve=(Oe=n.distcode[se&(1<<n.distbits)-1])>>>16&255,ye=65535&Oe,!((me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(0==(240&ve)){for(_e=me,be=ve,we=ye;ve=(Oe=n.distcode[we+((se&(1<<_e+be)-1)>>_e)])>>>16&255,ye=65535&Oe,!(_e+(me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=_e,le-=_e,n.back+=_e}if(se>>>=me,le-=me,n.back+=me,64&ve){e.msg="invalid distance code",n.mode=$;break}n.offset=ye,n.extra=15&ve,n.mode=V;case V:if(n.extra){for(ke=n.extra;le<ke;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=$;break}n.mode=G;case G:if(0===ae)break e;if(fe=ue-ae,n.offset>fe){if((fe=n.offset-fe)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=$;break}fe>n.wnext?(fe-=n.wnext,he=n.wsize-fe):he=n.wnext-fe,fe>n.length&&(fe=n.length),ge=n.window}else ge=te,he=re-n.offset,fe=n.length;fe>ae&&(fe=ae),ae-=fe,n.length-=fe;do{te[re++]=ge[he++]}while(--fe);0===n.length&&(n.mode=H);break;case Y:if(0===ae)break e;te[re++]=n.length,ae--,n.mode=H;break;case X:if(n.wrap){for(;le<32;){if(0===oe)break e;oe--,se|=ee[ne++]<<le,le+=8}if(ue-=ae,e.total_out+=ue,n.total+=ue,ue&&(e.adler=n.check=n.flags?o(n.check,te,ue,re-ue):r(n.check,te,ue,re-ue)),ue=ae,(n.flags?se:ie(se))!==n.check){e.msg="incorrect data check",n.mode=$;break}se=0,le=0}n.mode=K;case K:if(n.wrap&&n.flags){for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=$;break}se=0,le=0}n.mode=Z;case Z:xe=g;break e;case $:xe=y;break e;case Q:return _;case J:default:return v}return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,(n.wsize||ue!==e.avail_out&&n.mode<$&&(n.mode<X||t!==d))&&pe(e,e.output,e.next_out,ue-e.avail_out)?(n.mode=Q,_):(ce-=e.avail_in,ue-=e.avail_out,e.total_in+=ce,e.total_out+=ue,n.total+=ue,n.wrap&&ue&&(e.adler=n.check=n.flags?o(n.check,te,ue,e.next_out-ue):r(n.check,te,ue,e.next_out-ue)),e.data_type=n.bits+(n.last?64:0)+(n.mode===M?128:0)+(n.mode===z||n.mode===D?256:0),(0===ce&&0===ue||t===d)&&xe===h&&(xe=b),xe)},t.inflateEnd=function(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,h},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?v:(n.head=t,t.done=!1,h):v},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==I?v:n.mode===I&&r(1,t,i,0)!==n.check?y:pe(e,t,i,i)?(n.mode=Q,_):(n.havedict=1,h):v},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,a,s,l,c,u,d,p,f,h,g,m,v,y,_,b,w,E,x,S,k,O;n=e.state,i=e.next_in,k=e.input,r=i+(e.avail_in-5),o=e.next_out,O=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,p=n.window,f=n.hold,h=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{h<15&&(f+=k[i++]<<h,h+=8,f+=k[i++]<<h,h+=8),_=g[f&v];t:for(;;){if(f>>>=b=_>>>24,h-=b,0===(b=_>>>16&255))O[o++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=g[(65535&_)+(f&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&_,(b&=15)&&(h<b&&(f+=k[i++]<<h,h+=8),w+=f&(1<<b)-1,f>>>=b,h-=b),h<15&&(f+=k[i++]<<h,h+=8,f+=k[i++]<<h,h+=8),_=m[f&y];n:for(;;){if(f>>>=b=_>>>24,h-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=m[(65535&_)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&_,h<(b&=15)&&(f+=k[i++]<<h,(h+=8)<b&&(f+=k[i++]<<h,h+=8)),(E+=f&(1<<b)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=b,h-=b,E>(b=o-a)){if((b=E-b)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,S=p,0===d){if(x+=c-b,b<w){w-=b;do{O[o++]=p[x++]}while(--b);x=o-E,S=O}}else if(d<b){if(x+=c+d-b,(b-=d)<w){w-=b;do{O[o++]=p[x++]}while(--b);if(x=0,d<w){w-=b=d;do{O[o++]=p[x++]}while(--b);x=o-E,S=O}}}else if(x+=d-b,b<w){w-=b;do{O[o++]=p[x++]}while(--b);x=o-E,S=O}for(;w>2;)O[o++]=S[x++],O[o++]=S[x++],O[o++]=S[x++],w-=3;w&&(O[o++]=S[x++],w>1&&(O[o++]=S[x++]))}else{x=o-E;do{O[o++]=O[x++],O[o++]=O[x++],O[o++]=O[x++],w-=3}while(w>2);w&&(O[o++]=O[x++],w>1&&(O[o++]=O[x++]))}break}}break}}while(i<r&&o<s);i-=w=h>>3,f&=(1<<(h-=w<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=h}},function(e,t,n){"use strict";var i=n(56),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,u,d,p){var f,h,g,m,v,y,_,b,w,E=p.bits,x=0,S=0,k=0,O=0,T=0,C=0,P=0,A=0,L=0,I=0,M=null,R=0,j=new i.Buf16(16),D=new i.Buf16(16),F=null,N=0;for(x=0;x<=15;x++)j[x]=0;for(S=0;S<l;S++)j[t[n+S]]++;for(T=E,O=15;O>=1&&0===j[O];O--);if(T>O&&(T=O),0===O)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(k=1;k<O&&0===j[k];k++);for(T<k&&(T=k),A=1,x=1;x<=15;x++)if(A<<=1,(A-=j[x])<0)return-1;if(A>0&&(0===e||1!==O))return-1;for(D[1]=0,x=1;x<15;x++)D[x+1]=D[x]+j[x];for(S=0;S<l;S++)0!==t[n+S]&&(d[D[t[n+S]]++]=S);if(0===e?(M=F=d,y=19):1===e?(M=r,R-=257,F=o,N-=257,y=256):(M=a,F=s,y=-1),I=0,S=0,x=k,v=u,C=T,P=0,g=-1,m=(L=1<<T)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){_=x-P,d[S]<y?(b=0,w=d[S]):d[S]>y?(b=F[N+d[S]],w=M[R+d[S]]):(b=96,w=0),f=1<<x-P,k=h=1<<C;do{c[v+(I>>P)+(h-=f)]=_<<24|b<<16|w|0}while(0!==h);for(f=1<<x-1;I&f;)f>>=1;if(0!==f?(I&=f-1,I+=f):I=0,S++,0==--j[x]){if(x===O)break;x=t[n+d[S]]}if(x>T&&(I&m)!==g){for(0===P&&(P=T),v+=k,A=1<<(C=x-P);C+P<O&&!((A-=j[C+P])<=0);)C++,A<<=1;if(L+=1<<C,1===e&&L>852||2===e&&L>592)return 1;c[g=I&m]=T<<24|C<<16|v-u|0}}return 0!==I&&(c[v+I]=x-P<<24|64<<16|0),p.bits=T,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorOptionsManager=void 0;var l=n(100),c=n(200),u=n(126),d=n(99),p=s(n(57)),f=n(13);n(88);var h=function(t){function i(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.page=1,i.space=20,i.pages=null,i.elements=[],i.currentFile=null,i.rendering=!1,i.gravity=null,i.processDisabledUploading=!1,i.changed=!1,i.textUploader=null,i.uploader=null,i.textImagesPending=[],n(241),i}return r(i,t),i.prototype.loadFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&p.lazyloadCss("/font/"+e+".css")},i.prototype.startPanels=function(){t.prototype.startPanels.call(this),this.loadingStart(),this.initViewer(),this.initOptions(),this.initEditToolbar(),this.checkElements()},i.prototype.initOptions=function(){},i.prototype.initViewManager=function(){t.prototype.initViewManager.call(this),this.viewManager.imageViewer.useLoadImageLib=!0},i.prototype.initViewer=function(){e("#editor").show()},i.prototype.initUploader=function(){this.uploader=new u.PluploadUpload({id:"pickwatermark",container:"pickwatermarkContainer",optionsManager:this,processManager:this.processManager,config:new d.Config({tool:"watermarkimage",subtool:"watermarkimage",config:this.config.config}),apiVersion:this.processManager.apiVersion,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.processManager.token,tool:this.tool,taskId:this.processManager.taskId,servers:[],haveDrop:!0,dropElement:"sidebar"}),window.watermarkUploader=this.uploader},i.prototype.initTextUpload=function(){this.textUploader=new u.PluploadUpload({id:"picktextwatermark",container:"picktextwatermark",optionsManager:this,processManager:this.processManager,config:new d.Config({tool:"watermarkimage",subtool:"watermarkimage",config:this.config.config}),apiVersion:this.processManager.apiVersion,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.processManager.token,tool:this.tool,taskId:this.processManager.taskId,servers:[],haveDrop:!1,dropElement:"picktextwatermark"}),window.textUploader=this.textUploader},i.prototype.initEditToolbar=function(){var t=this;c.Toolbar.init(),e(".next").on("click",function(){if(t.page<t.pages){if(1==t.limits.isIgnored(t.files.files[t.page].id))return t.page=t.page+1,void e(".next").trigger("click");t.saveGravityTemp(),t.page=t.page+1;var n=t.page-1;t.renderFileEditor(t.files.files[n]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})}}),e(".prev").on("click",function(){if(t.page>1){if(1==t.limits.isIgnored(t.files.files[t.page-1].id))return t.page=t.page-1,void e(".prev").trigger("click");t.saveGravityTemp(),t.page=t.page-1;var n=t.page-1;t.renderFileEditor(t.files.files[n]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})}}),e("#editor_file_select").on("change",function(){t.saveGravityTemp(),t.currentFile=t.files.getFile(this.value),t.page=e("#editor_file_select").prop("selectedIndex")+1,t.pages=t.files.files.length,t.renderFileEditor(t.files.getFile(this.value)).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})}),e("#editor_page").on("change",function(){var n=parseInt(e(this).val().toString());t.saveGravityTemp(),n<1&&(n=1),n>t.files.files.length+1&&(n=t.files.files.length+1,e(this).val(n)),t.page=n,t.renderFileEditor(t.files.files[t.page-1]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})}),this.checkProcessOnClick()},i.prototype.processTask=function(){this.validateTextElements()&&t.prototype.processTask.call(this)},i.prototype.checkElements=function(){var t=this;e("body").click(function(e){t.validateTextElements()||t.disableProcessBtn(f.Lang.t("No text or image found"))})},i.prototype.validateTextElements=function(){var t=e(".editor__content .text");if(0==t.length)return!0;var n={};try{t.each(function(t,i){if(""!==e(i).html())throw n})}catch(e){if(e!==n)throw e;return!0}return!1},i.prototype.renderFileEditor=function(t){var n=this;return this.rendering=!0,new Promise(function(i,r){e("#editor_page").val(n.page),e("#editor_pages").html(n.files.files.length.toString()),t||r(),e("#file").addClass("loading"),void 0!=t.url?n.viewManager.renderUrl(t.id,"file",!0).then(function(){n.renderFileElementArray(t),n.loadingEnd(),i({})}).catch(function(){r()}).finally(function(){n.rendering=!1,e("#file").removeClass("loading")}):n.viewManager.renderImage(t.id,"file",!0).then(function(){n.renderFileElementArray(t),n.loadingEnd(),i({})}).catch(function(){r()}).finally(function(){n.rendering=!1,e("#file").removeClass("loading")})})},i.prototype.renderFileElementArray=function(e){var t=e.elementArray||[];this.hideAllFileElementArray(),t.forEach(function(e){e.show()})},i.prototype.hideAllFileElementArray=function(){this.files.files.forEach(function(e){(e.elementArray||[]).forEach(function(e){return e.hide()})})},i.prototype.onRenderFile=function(){},i.prototype.fileReady=function(n){t.prototype.fileReady.call(this,n);var i=this;if(e(".page_status").hide(),0==this.limits.isIgnored(n.id)){this.currentFile=n,this.page=1,this.pages=0,e.each(this.files.files,function(e,t){0==i.limits.isIgnored(t.id)&&i.pages++});var r=Math.max(e(".editor__container").width(),e(".editor__container").height()),o=Math.max(n.width,n.height);i.files.updateFile(n.id,{scale:o/r}),this.renderFileEditor(n).then(function(){i.fileRendered(n)},function(){}),e(".file_count").html(this.pages.toString()),e("#editor_file_select").append('<option value="'+n.id+'" selected="selected">'+n.name+"</option>"),e("#cover-"+n.id).on("click",function(t){i.currentFile=n,i.saveGravityTemp();var r=e(this).attr("id").replace("cover-",""),o=i.files.getFileIndex(r);i.page=o+1,i.renderFileEditor(i.files.getFile(r)).then(function(){i.setGravityTemp()},function(){})})}},i.prototype.fileRendered=function(e){},i.prototype.fileRemoved=function(n){if(t.prototype.fileRemoved.call(this,n),e("#editor_file_select").html(""),e.each(this.files.files,function(t,n){e("#editor_file_select").append('<option value="'+n.id+'" selected="selected">'+n.name+"</option>")}),this.pages=this.files.files.length,this.page>this.pages&&this.page--,this.files.files.length>0){var i=this.files.files[this.page-1];this.currentFile=i,this.renderFileEditor(i)}},i.prototype.fileChanged=function(n){t.prototype.fileChanged.call(this,n),1!=this.processDisabledUploading&&(0==this.files.countNotIgnored()?e(".tool__workarea__rendered").hide():e(".tool__workarea__rendered").css("display","flex").hide().fadeIn(),e(".editor__content .editor__content__item").length>0?this.enableProcessBtn():this.disableProcessBtn(f.Lang.t("Add an element")))},i.prototype.getElement=function(t){var n=null;return e.each(this.elements,function(e,i){if(i.id==t)return n=i,!1}),n},i.prototype.setEditElement=function(){this.setEditElementContent()},i.prototype.setEditElementContent=function(){},i.prototype.getElementSizeFactorial=function(){return 1},i.prototype.beforeProcess=function(){var t=this;return new Promise(function(n,i){t.options.elements=[];var r=t.getElementSizeFactorial();t.setOption("factorial",r),e(".editor__content .editor__content__item").each(function(n,i){var o=t.getElement(e(i).attr("id"));if(0!=o){var a=null;try{a=o.getGravityData()}catch(i){return}if("fileId"in a){var s=t.files.getFile(a.fileId);a.server_filename=s.server_filename,t.options.elements.push(a)}if("text"==a.type){if(t.textUploader.uploader.start(),t.textUploader.uploader.addFile(o.getTextImage(r)),"transparent"!=a.background_color&&"transparent"!=o.backgroundColor){t.textUploader.uploader.addFile(o.getSquareImage(r));var l=o.getSquareData(a);t.textImagesPending.push(l.id),"NorthNorth"==a.gravity&&t.setOption("extra_north",a.extra_north),"SouthSouth"==a.gravity&&t.setOption("extra_south",a.extra_south),l.gravity=l.gravity.replace("NorthNorth","North").replace("SouthSouth","South"),t.options.elements.push(l)}if(""!=a.text){var c=o.getImageData(a);t.textImagesPending.push(c.id),c.gravity=c.gravity.replace("NorthNorth","North").replace("SouthSouth","South"),t.options.elements.push(c)}}else t.options.elements.push(a)}});var o=window.setInterval(function(){0==t.textImagesPending.length&&(window.clearTimeout(o),n({}))},500)})},i.prototype.saveGravityTemp=function(){var t=this;1!=window.editorChanged&&null!=this.gravity||(this.gravity=[],e.each(t.elements,function(n,i){t.gravity.push(i.getGravityData()),e("#"+i.id).hide()}),window.editorChanged=!1)},i.prototype.setGravityTemp=function(){var t=this;e.each(t.elements,function(n,i){t.gravity&&t.gravity[n]&&i.applyGravity(t.gravity[n]),e("#"+i.id).show()})},i.prototype.checkProcessOnClick=function(){var t=this;e("#editor").on("click",function(){e(".editor__content .editor__content__item").length>0?t.enableProcessBtn():t.disableProcessBtn(f.Lang.t("Add an element"))})},i.prototype.fileAdded=function(e,n,i){return void 0===i&&(i=!1),"picktextwatermark"==n?(this.limits.addIgnoredFile(e.id),this.processManager.addIgnoredFile(e.id),this.files.updateFile(e.id,{ignored:!0}),new Promise(function(e,t){e({})})):t.prototype.fileAdded.call(this,e,n,i)},i.prototype.fileUploaded=function(n,i){var r=this,o=this.files.updateFile(n,i);if(null!=o&&"upBy"in o&&"picktextwatermark"==o.upBy)for(var a=function(t){var n=r.textImagesPending[t]+"-w-"+r.textImagesPending[t]+".png",i=r.textImagesPending[t]+"-w-"+r.textImagesPending[t]+".png";if(n===o.name||i==o.name){var a=r.textImagesPending[t];return e.each(r.options.elements,function(e,t){if(t.id==a)return r.options.elements[e].server_filename=o.server_filename,!1}),r.textImagesPending.splice(t,1),"break"}},s=r.textImagesPending.length-1;s>=0;s--){if("break"===a(s))break}else t.prototype.fileUploaded.call(this,n,i)},i}(l.OptionsManager);t.EditorOptionsManager=h}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditElement=void 0;var s=n(30),l=n(200),c=n(93),u=n(13),d=a(n(24)),p=n(242);n(88);var f=function(){function t(t){var n=this;this.listenable=new p.Listenable,this.remove=function(){n.deleted||(e("#"+n.id+"Toolbar").hide(),document.querySelector("#"+n.id).remove(),n.deleted=!0,n.changed(),n.removeSuprEventListener(),n.dispatchEvent("remove"))},this.hide=function(){n.deleted||(e("#"+n.id+"Toolbar").hide(),e("#"+n.id).hide(),n.changed())},this.show=function(){n.deleted||(e("#"+n.id).show(),n.changed())},this.addSuprEventListener=function(){"blur"===n.type&&document.addEventListener("keydown",n.suprEventHandler)},this.removeSuprEventListener=function(){document.removeEventListener("keydown",n.suprEventHandler)},this.suprEventHandler=function(e){var t=null!==document.querySelector("#"+n.id+".editor__content__item.active");"Backspace"!==e.key&&"Delete"!==e.key||!t||n.remove()},this.getImageSize=function(){var t=e("#file").width(),i=e("#"+n.fileId);return[t,t/(i.data("width")/i.data("height"))]},this.id=s.Tools.randomId(),this.draggable=!1,this.rotable=!1,this.resizable=!1,this.resizableAspectRatio=!1,this.type=null,this.imgSrc="/img/iloveimg.png",this.fileId=null,this.toolbar=null,this.text=null,this.rotation=0,this.rotationRadians=0,this.width="auto",this.height="auto",this.width_container="auto",this.height_container="auto",this.top=20,this.left=20,this.right=null,this.bottom=null,this.zoom=null,this.xPos=0,this.yPos=0,this.xZone=0,this.yZone=0,this.fontFamily="Arial",this.opacity=100,this.fontSize=48,this.fontColor="white",this.fontColorShadow="black",this.backgroundColor="transparent",this.textAlign="center",this.bold=!1,this.underline=!1,this.italic=!1,this.svg=null,this.onRotateEnd=null,this.onResizeEnd=null,this.onResizeStart=null,this.onDragEnd=null,this.limitToPixelate=null,this.restrict=!0,this.autoAlignOnZone=!1,this.textEnabled=!0,this.starting_number=null,this.allowAutoWidth=!1,this.disableMultilineText=!1,Object.assign(this,t),0==e("#"+this.id).length&&this.makeView(),null!=this.text&&e("#"+this.id+" .text").html(this.text),this.deleted=!1}return t.prototype.changed=function(){window.editorChanged=!0},t.prototype.makeView=function(){var t=this;e("#"+this.type+"ToolbarTemplate").clone().attr("id",this.id+"Toolbar").appendTo(e(".editor__toolbar")),e("#"+this.type+"EditorTemplate").clone().attr("id",this.id).appendTo(e(".editor__content"));var n=e("#"+this.id);e("#"+this.id+"Toolbar").find('[id*="Template"]').each(function(n,i){e(i).attr("id",e(i).attr("id").replace("Template",t.id))}),n.find('[id*="Template"]').each(function(n,i){e(i).attr("id",e(i).attr("id").replace("Template",t.id))}),"image"==this.type&&(e("#"+this.id+" img").attr("src",this.imgSrc),n.data("file",this.fileId)),1==window.gifMode&&e(".opacity-option").hide(),this.changed()},t.prototype.getId=function(){return this.id},t.prototype.setId=function(t){e("#"+this.id).length>0&&e("#"+this.id).attr("id",t),this.id=t},t.prototype.initStyle=function(){var t=this,n={width:this.width,height:this.height,opacity:0};if(n.top=this.top,null==this.bottom?n.top=this.top||0:(n.bottom=this.bottom,n.top="auto"),null!=this.right&&(n.right=this.right),null!=this.left?n.left=this.left:null==this.right&&(n.left=0),"text"==this.type){n.width=this.width_container,n.height=this.height_container;var i={"font-family":this.fontFamily,"font-size":this.fontSize+"px","text-align":this.textAlign,width:this.width,height:this.height,color:this.fontColor,"text-shadow":this.fontColorShadow+" -1px 0px, "+this.fontColorShadow+" 0px 1px, "+this.fontColorShadow+" 1px 0px, "+this.fontColorShadow+" 0px -1px"};e("#"+this.id+" .text").css(i)}e("#"+this.id).css(n);var r=e("#"+this.id+"Toolbar"),o=e("#"+this.id);r.find('[name="font_size"]').val(this.fontSize),r.find('[name="font_size_number"]').val(this.fontSize);try{r.find('[name="font_family"]').val(this.fontFamily.toLowerCase()),r.find(".font-selected").html(this.fontFamily).css("font-family",this.fontFamily.toLowerCase())}catch(e){d.captureMessage("Error set font family"),d.configureScope(function(e){e.setExtra("fontFamily",t.fontFamily)})}r.find('[name="font_color"]').val(this.fontColor),r.find('[name="font_color_shadow"]').val(this.fontColorShadow),r.find('[name="background"]').val(this.backgroundColor),o.find(".editor__content__item__content").css({background:this.backgroundColor,opacity:this.opacity>1?parseInt(this.opacity.toString())/100:this.opacity}),o.css("opacity",1),"blur"===this.type&&(e("#"+this.id).css({width:this.width,height:this.height}),o.find(".editor__content__item__content").css({"backdrop-filter":"blur(12px)",width:"100%",height:"100%"}))},t.prototype.focusAndSelect=function(){if("text"==this.type&&this.textEnabled){var t=e("#"+this.id+" .text")[0];window.setTimeout(function(){var e,n;window.getSelection&&document.createRange?((n=document.createRange()).selectNodeContents(t),(e=window.getSelection()).removeAllRanges(),e.addRange(n)):document.body.createTextRange&&((n=document.body.createTextRange()).moveToElementText(t),n.select())},1)}},t.prototype.initElementActions=function(){e(".editor__content #"+this.id+".editor__content__item").show(),"image"==this.type&&e("#"+this.id+" img").height()>e(".editor__content").height()&&"auto"===this.height&&(e("#"+this.id+" img").css("height",e(".editor__content").height()+"px"),e("#"+this.id+" .editor__content__item__content").css("width",e("#"+this.id+" img").css("width"))),e("#"+this.id+" .editor__content__item__content").css("opacity",1),1==this.rotable&&!0!==window.gifMode&&this.makeRotable(),1==this.draggable&&(this.makeDraggable(),this.adddDraggableKeyControl()),1==this.resizable&&this.makeResizable(),this.focusAndSelect()},t.prototype.initActions=function(){if(1!=window.editElementInit){window.editElementInit=!0;var t=this;e("body").on("mousedown",function(n){if(e(n.target).hasClass("text"))e(n.target).attr("contenteditable",t.textEnabled.toString());else if(e('[data-value="outside"]').length>0&&1==e('[data-value="outside"]').hasClass("option--active")){e("#elementTop, #elementBottom").draggable({disabled:!0});try{var i=e(".editor__content .editor__content__item").not("#elementTop, #elementBottom");i.draggable({disabled:!1}),i.find(".editor__content__item__content").resizable({disabled:!0})}catch(n){}}else try{e(".editor__content .editor__content__item").draggable({disabled:!1}),e(".editor__content .editor__content__item__content").resizable({disabled:!1})}catch(n){}}),e("body").click(function(n){var i=e(n.target).closest(".editor__content__item"),r=e(n.target).closest(".editor__toolbar__options");if(e(".editor__content .editor__content__item").removeClass("active"),e(n.target).hasClass("text")||e(".text").removeClass("active"),1==i.length&&1==t.textEnabled){i.addClass("active");var o=i.attr("id");l.Toolbar.show(o+"Toolbar")}else 1==r.length||l.Toolbar.hide();var a=e(n.target).closest(".editor__toolbar__option");if(1==a.length)if(e(n.target).is(".editor__option__selector")||1==e(n.target).parents(".editor__option__selector").length){var s=a.children(".editor__option__content");s.toggle(),e(".editor__option__content").not(s).hide()}else e(n.target).is(".editor__option__content")||1==e(n.target).parents(".editor__option__content").length||e(".editor__option__content").hide();else e(".editor__option__content").hide()})}},t.prototype.select=function(){var t=this;e("#"+t.id+"Toolbar").show(),setTimeout(function(){e("#"+t.id).trigger("click")},300)},t.prototype.widthWrap=function(){var t=e("#"+this.id),n=e("#"+this.id+" .editor__content__item__content"),i=e("#"+this.id+" .text");i.outerWidth()>t.width()&&(n.css("width",i.width()+"px"),t.css("width",i.width()+"px"))},t.prototype.autoWidth=function(){if(!0===this.allowAutoWidth){var t=e("#"+this.id),n=e("#"+this.id+" .editor__content__item__content"),i=e("#"+this.id+" .text"),r=i.outerWidth()-i.width(),o=c.TextHelper.width(n.html())+r;n.width()<o&&(this.width=o,this.width_container=o,n.css("width",o+"px"),t.css("width",o+"px"))}},t.prototype.initToolbarActions=function(){var t=this,n=e("#"+this.id+"Toolbar"),i=this,r=n.find('[name="font_size"]');r.on("keyup mouseup",function(t){i.fontSize=parseInt(r.val().toString()),e("#"+i.id+" .text").css("font-size",r.val()+"px"),n.find('[name="font_size_number"]').val(i.fontSize),i.widthWrap(),i.autoWidth(),i.changed()});var o=n.find('[name="font_size_number"]').on("keyup mouseup",function(t){parseInt(o.val().toString())>100&&o.val(100),i.fontSize=parseInt(o.val().toString()),n.find('[name="font_size"]').val(i.fontSize),e("#"+i.id+" .text").css("font-size",o.val()+"px"),i.widthWrap(),i.autoWidth(),i.changed()}),a=n.find(".font-selector");a.on("click",function(t){if(!e(t.target).hasClass("disabled")){i.fontFamily=e(t.target).data("value");var n=e(t.target).html();e(".font-selector").removeClass("active"),e(t.target).addClass("active"),e("#"+i.id+" .text").css("font-family",i.fontFamily),e("#"+i.id+"Toolbar .font-selected").css("font-family",i.fontFamily).html(n);var r=e(t.target).data("country");e("#"+i.id+"Toolbar .font-selected").attr("data-country",r),e(t.target).parent().hide(),1==e(t.target).data("italic")?(e(".editor__option.italic").parent().show(),e("#"+i.id+" .text").css("font-style",1==i.italic?"italic":"normal")):(e(".editor__option.italic").parent().hide(),e("#"+i.id+" .text").css("font-style","normal")),1==e(t.target).data("bold")?(e(".editor__option.bold").parent().show(),e("#"+i.id+" .text").css("font-weight",1==i.bold?"700":"400")):(e(".editor__option.bold").parent().hide(),e("#"+i.id+" .text").css("font-weight","")),i.changed()}});var s=n.find('[name="font_color"]');s.on("change",function(){i.fontColor=s.val().toString(),e("#"+i.id+" .text").css("color",s.val().toString()),i.changed()});var l=n.find('[name="font_color_shadow"]');l.on("change",function(){var t=l.val();i.fontColorShadow=l.val().toString(),e("#"+i.id+" .text").css("text-shadow","-1px 0 "+t+", 0 1px "+t+", 1px 0 "+t+", 0 -1px "+t),i.changed()}),n.find(".tofront").on("click",function(){e(".editor__content").append(e("#"+i.id)),i.changed()});var c=n.find(".bold");c.on("click",function(t){i.bold=!i.bold,1==i.bold?c.parent().addClass("active"):c.parent().removeClass("active"),e("#"+i.id+" .text").css("font-weight",1==i.bold?"700":"400"),i.changed()});var u=n.find(".underline");u.on("click",function(t){i.underline=!i.underline,1==i.underline?u.parent().addClass("active"):u.parent().removeClass("active"),e("#"+i.id+" .text").css("text-decoration",1==i.underline?"underline":"none"),i.changed()});var d=n.find(".italic");d.on("click",function(t){i.italic=!i.italic,1==i.italic?d.parent().addClass("active"):d.parent().removeClass("active"),e("#"+i.id+" .text").css("font-style",1==i.italic?"italic":"normal"),i.changed()});var p=n.find('input[name="background"]');p.on("change",function(n){var r=p.spectrum("get");r=0===r._a?"transparent":r.toHexString(),p.val(r),t.backgroundColor=r,e("#"+i.id+" .editor__content__item__content").css("background",r),i.changed()});var f=n.find('input[name="opacity"]');f.on("change keyup mouseup",function(t){i.opacity=parseInt(f.val().toString()),n.find('[name="opacity_text"]').val(i.opacity),e("#"+i.id+" .editor__content__item__content").css("opacity",parseInt(i.opacity.toString())/100),i.changed()});var h=n.find('input[name="opacity_text"]');h.on("change keyup mouseup",function(t){i.opacity=parseInt(h.val().toString()),n.find('[name="opacity"]').val(i.opacity),e("#"+i.id+" .editor__content__item__content").css("opacity",parseInt(i.opacity.toString())/100),i.changed()}),n.find(".toolbar-remove").on("click",this.remove),n.find(".textAlign").on("click",function(t){var n=e(t.target).closest(".editor__toolbar__option");e("#"+i.id+"Toolbar .textAlign").removeClass("active"),n.addClass("active");var r=n.data("align");e("#"+i.id+" .text").css("text-align",r),e("#"+i.id+" .editor__content__item__content").css("text-align",r),i.textAlign=r,i.changed()})},t.prototype.init=function(){e("#"+this.id+"Toolbar input.color").not("no-picker").each(function(e,t){s.Tools.colorpicker(t)}),this.initActions(),this.initElementActions(),this.initToolbarActions()},t.prototype.makeResizable=function(){var t=this;e("#"+this.id+" .editor__content__item__content").resizable({handles:"all",minHeight:1==e("#"+t.id+" .text").length?e("#"+t.id+" .text").innerHeight():10,maxWidth:1==t.restrict&&e("#"+t.id+" .editor__content").width(),aspectRatio:t.resizableAspectRatio,containment:1==t.restrict&&e("#"+this.id+" .editor__content"),resize:function(e,t){t.element.parent().css({width:t.size.width,height:t.size.height}),t.element.find("img").css({width:t.size.width,height:t.size.height})},start:function(n,i){if(1==e("#"+t.id+" .text").length){var r=e("#"+t.id+" .text").innerHeight();e("#"+t.id+" .editor__content__item__content").resizable("option","minHeight",r)}t.resizeStart(n,i)},stop:function(n,i){var r=e("#"+t.id+" .editor__content__item__content"),o=e("#"+t.id+".editor__content__item");o.css({width:i.size.width,left:parseInt(o.css("left"))+parseInt(r.css("left"))+"px",top:parseInt(o.css("top"))+parseInt(r.css("top"))+"px"}),r.css({left:0,top:0}),t.resizeEnd(n,i)},create:function(n,i){1==t.restrict&&e("#"+t.id+" .ui-resizable-handle").on("mousedown",function(){e("#"+t.id+" .editor__content__item__content").css({left:e("#"+t.id).css("left"),top:e("#"+t.id).css("top")}),e("#"+t.id).css({top:0,left:0,width:"100%"})}),e("#"+t.id+" .editor__content__item__content").css("width",e("#"+t.id+" .editor__content__item__content").width()+"px")}})},t.prototype.makeRotable=function(){var t=this,n=e("#"+this.id+" .editor__content__item__content");n.addClass("ui-rotatable"),n.rotatable({stop:function(e,n){t.rotateEnd(e,n)}})},t.prototype.makeDraggable=function(){var t=this,n=this;e("#"+this.id+".editor__content__item").draggable({scroll:!1,cancel:".ui-rotatable-handle",containment:1==n.restrict&&e(".editor__content"),drag:function(){e("#"+this.id+" .text").addClass("drag").removeClass("active")},stop:function(t,i){n.dragEnd(t,i),e("#"+this.id).css("bottom",""),n.changed()},beforeStart:function(){}});var i=e("#"+this.id+" .text");i.length>0&&(i.on("mouseup",function(t){var r=e("#"+n.id+" .text");if(0!=n.textEnabled){r.attr("contenteditable","true");var o=i.parent().parent();r.hasClass("drag")?(r.removeClass("drag"),o.draggable({disabled:!1})):(r.addClass("active").trigger("click"),o.draggable({disabled:!0}))}else r.attr("contenteditable","false")}),i.on("keyup",function(r){if(0!=n.textEnabled){if(1==n.disableMultilineText){var o=i.html(),a=n.clearMultilineText(i.html());o!=a&&i.html(a)}n.widthWrap(),n.autoWidth();var s=e("#infoCharacters");u.Lang.hasChineseCharacters(i.html())||u.Lang.hasJapanCharacters(i.html())?(s.show(),n.haveFontSelected("CN")||(e("#"+n.id+'Toolbar .font-selector[data-country*="CN"]').first().trigger("click"),n.disableNotFont("CN"))):u.Lang.hasHindiCharacters(i.html())?(s.show(),n.haveFontSelected("IN")||(e("#"+n.id+'Toolbar .font-selector[data-country*="IN"]').first().trigger("click"),n.disableNotFont("IN"))):u.Lang.hasArabicCharacters(i.html())?(s.show(),n.haveFontSelected("AR")||(e("#"+n.id+'Toolbar .font-selector[data-country*="AR"]').first().trigger("click"),n.disableNotFont("AR"))):(s.hide(),n.enbaleFont(),e("#"+n.id+"Toolbar .font-selected").removeClass("disabled")),e("#"+n.id+" .editor__content").hasClass("fixed")?e("#"+n.id+" .editor__content__item").height("auto"):e("#"+n.id+" .editor__content__item").height(Math.max(e("#"+t.id+" .editor__content__item").height(),i.height())),n.changed()}else e("#"+n.id+" .text").attr("contenteditable","false")}),i.on("focusout",function(){var e=i.html().replace(/(<span[^>]+>([^<]+)<\/span>)/g,"$2").replace("<b>","").replace("</b>","").replace("&nbsp;<","<").replace(">&nbsp;",">");i.html(e)}),i[0].addEventListener("paste",function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t),n.changed()})),this.addSuprEventListener()},t.prototype.haveFontSelected=function(t){return 1==e("#"+this.id+'Toolbar .font-selected[data-country*="'+t+'"]').length},t.prototype.enbaleFont=function(t){void 0===t&&(t=null),null!=t?e("#"+this.id+'Toolbar .font-selector[data-country*="'+t+'"]').removeClass("disabled"):e("#"+this.id+"Toolbar .font-selector").removeClass("disabled")},t.prototype.disableNotFont=function(t){var n=e("#"+this.id+"Toolbar .font-selector");n.removeClass("disabled"),n.not('[data-country="ALL"],[data-country*="'+t+'"]').addClass("disabled")},t.prototype.rotateEnd=function(e,t){this.rotationRadians=t.angle.current,t.angle.current<0?this.rotation=360-t.angle.degrees:this.rotation=t.angle.degrees,null!=this.onRotateEnd&&this.onRotateEnd(e,t),this.changed()},t.prototype.resizeEnd=function(e,t){this.zoom=t.size.width*this.zoom/t.originalSize.width,this.setElementPosition(),null!=this.onResizeEnd&&this.onResizeEnd(e,t,this),this.changed()},t.prototype.resizeStart=function(e,t){null==this.zoom&&(this.zoom=1),null!=this.onResizeStart&&this.onResizeStart(e,t)},t.prototype.dragEnd=function(e,t){this.setElementPosition(),null!=this.onDragEnd&&this.onDragEnd(e,t,this),this.changed()},t.prototype.setElementPosition=function(){var t=e("#"+this.id+".editor__content__item");if(t){var n=t.width(),i=t.height(),r=parseInt(t.css("left")),o=parseInt(t.css("top"));if(t.position()){isNaN(r)&&(r=t.position().left),isNaN(o)&&(o=t.position().top),this.top=o,this.left=r;var a=e(".editor__content").width(),s=e(".editor__content").height(),l=(r+n/2)/(a/3),c=(o+i/2)/(s/3);l=l<1?0:l<2?1:2,c=c<1?0:c<2?1:2,this.xZone=l,this.yZone=c,1==this.autoAlignOnZone&&(0==this.xZone?(this.textAlign="left",e("#"+this.id+" .text").css("text-align","left")):1==this.xZone?(this.textAlign="center",e("#"+this.id+" .text").css("text-align","center")):2==this.xZone&&(this.textAlign="right",e("#"+this.id+" .text").css("text-align","right")));var u=e("#file"),d=100*r/u.width(),p=100*o/u.height();this.xPos=d,this.yPos=p}}},t.prototype.getData=function(){this.setElementPosition();var t=e("#file").width(),n=e(".editor__content").height();if(1==this.deleted)return null;this.width=e("#"+this.id+" .editor__content__item__content>*").width(),this.height=e("#"+this.id+" .editor__content__item__content>*").height();var r={id:this.id,width_percent:100*this.width/t,height_percent:100*this.height/n,width_px:this.width,height_px:this.height,y_pos_percent:this.yPos,x_pos_percent:this.xPos,opacity:this.opacity,transparency:this.opacity,top:this.top,left:this.left,type:this.type,rotation:!0===window.gifMode?0:this.rotation,image_w:t,image_h:n};if("image"==this.type){var o={zoom:null==this.zoom?1:this.zoom,fileId:this.fileId};Object.assign(r,o)}if("blur"===this.type&&(r=i(i({},r),{fileId:this.fileId})),"text"==this.type){parseInt(e("#"+this.id+" .text").css("font-size"));this.width_container=e("#"+this.id).width(),this.height_container=e("#"+this.id).height(),this.width=e("#"+this.id+" .editor__content__item__content .text").width(),this.height=e("#"+this.id+" .editor__content__item__content .text").height(),this.width_px=this.width,this.height_px=this.height;var a=(this.width_container-this.width)/2,s=(this.height_container-this.height)/2;isNaN(a)&&(a=0),isNaN(s)&&(s=0);var l=r.top+s,c=r.left+a,u=e("#"+this.id+" .text").html();u=this.clearMultilineText(u),e("#"+this.id+" .text").html(u),this.setLineBreak("#"+this.id+" .text"),u=(u=e("#"+this.id+" .text").html()).replace(/<br>/g,"\\n").replace(/\&nbsp;/g," ").replace(/<\/?[^>]+(>|$)/g,"");var d={top_container:r.top,left_container:r.left,top:l,left:c,text:u,font_family:this.fontFamily,font_color:this.fontColor,border_color:this.fontColorShadow,border:1,font_color_shadow:this.fontColorShadow,background_color:this.backgroundColor,font_size:this.fontSize,bold:this.bold,underline:this.underline,italic:this.italic,text_align:this.textAlign,width_container_px:this.width_container,height_container_px:this.height_container,width_container_percent:100*this.width_container/t,height_container_percent:100*this.height_container/n,y_pos_container_percent:r.y_pos_percent+0,x_pos_container_percent:r.x_pos_percent+0,y_pos_percent:100*l/e("#file").height(),x_pos_percent:100*c/e("#file").width()};Object.assign(r,d)}return r},t.prototype.clearMultilineText=function(e){return e=1==this.disableMultilineText?e.replace("<br>"," ").replace(/\n/g," ").replace(/<div>/g," ").replace(/<\/div>/g,"").replace(/\&nbsp;/g," "):e.replace(/<div>/g,"<br>").replace(/<\/div>/g,"").replace(/\&nbsp;/g," ")},t.prototype.getGravityData=function(){var t={gravity:"",vertical_adjustment:0,horizontal_adjustment:0};switch(this.getData(),Object.assign(t,this.getData()),t.gravity="",this.yZone){case 0:t.gravity+="North",t.vertical_adjustment=t.top;break;case 1:t.vertical_adjustment=t.top+t.height_px/2-t.image_h/2;break;case 2:t.gravity+="South",t.vertical_adjustment=t.image_h-(t.top+t.height_px)}switch(this.xZone){case 0:t.gravity+="West",t.horizontal_adjustment=t.left;break;case 1:t.horizontal_adjustment=t.left+t.width_px/2-t.image_w/2;break;case 2:t.gravity+="East",t.horizontal_adjustment=t.image_w-(t.left+t.width_px)}if(1==this.xZone&&1==this.yZone&&(t.gravity="Center"),"text"==t.type){switch(this.yZone){case 0:t.vertical_adjustment_container=t.top_container,t.vertical_adjustment=t.top;break;case 1:t.vertical_adjustment_container=t.top_container+t.height_container_px/2-t.image_h/2,t.vertical_adjustment=t.top+t.height_px/2-t.image_h/2;break;case 2:t.vertical_adjustment_container=t.image_h-(t.top_container+t.height_container_px),t.vertical_adjustment=t.image_h-(t.top+t.height_px)}switch(this.xZone){case 0:t.horizontal_adjustment_container=t.left_container,t.horizontal_adjustment=t.left;break;case 1:t.horizontal_adjustment_container=t.left_container+t.width_container_px/2-t.image_w/2,t.horizontal_adjustment=t.left+t.width_px/2-t.image_w/2;break;case 2:t.horizontal_adjustment_container=t.image_w-(t.left_container+t.width_container_px),t.horizontal_adjustment=t.image_w-(t.left+t.width_px)}t.vertical_adjustment_container_percent=100*t.vertical_adjustment_container/e("#file").height(),t.horizontal_adjustment_container_percent=100*t.horizontal_adjustment_container/e("#file").width()}return t.vertical_adjustment_percent=100*t.vertical_adjustment/e("#file").height(),t.horizontal_adjustment_percent=100*t.horizontal_adjustment/e("#file").width(),t.xZone=this.xZone,t.yZone=this.yZone,t.pixelMode=1,t=this.memeModGravity(t),null!=this.starting_number&&(t.starting_number=this.starting_number),t},t.prototype.memeModGravity=function(t){return"outside"==e(".option--active").data("value")&&("elementTop"==this.id?t.gravity="NorthNorth":"elementBottom"==this.id&&(t.gravity="SouthSouth"),"NorthNorth"!=t.gravity&&"SouthSouth"!=t.gravity||"transparent"==t.background_color&&(t.background_color="white",this.backgroundColor="white"),"NorthNorth"==t.gravity&&(t.extra_north=100*e("#"+this.id).height()/e("#file").height()),"SouthSouth"==t.gravity&&(t.extra_south=100*e("#"+this.id).height()/e("#file").height())),t},t.setPreviewZones=function(){e(".editor__content").append('<div class="zones"></div>');for(var t=0;t<3;t++)for(var n=0;n<3;n++)e(".editor__content .zones").append('<div class="zones__zone'+t+n+'"></div>')},t.prototype.adddDraggableKeyControl=function(){!0!==window.dragKeyAdded&&(window.dragKeyAdded=!0,e("body").on("keydown",function(t){if(e(".text.active").length>0)return!0;var n,i=e(".editor__content .editor__content__item.ui-draggable.active"),r=e(".editor__content .editor__content"),o=1;t.shiftKey&&(o=10);n=i.position();try{switch(t.keyCode){case 37:n.left-=o;break;case 38:n.top-=o;break;case 39:n.left+=o;break;case 40:n.top+=o;break;default:return!0}n.left>=0&&n.top>=0&&n.left+i.width()<=r.width()&&n.top+i.height()<=r.height()&&i.css(n)}catch(t){}t.target.isContentEditable||t.preventDefault()}))},t.prototype.getRotationAdjust=function(e,t){var n=Math.abs(e),i=t;return{w:i.w*Math.cos(n)+i.h*Math.sin(n),h:i.w*Math.sin(n)+i.h*Math.cos(n)}},t.setGifMode=function(){window.gifMode=!0,e(".opacity-option").hide(),e(".opacity-option input").val(100).change(),e(".editor__content__item__content").css("transform",""),e(".ui-rotatable-handle").hide()},t.prototype.applyGravity=function(t){this.opacity=t.opacity,this.rotation=t.rotation;var n=e("#file"),i=n.width(),r=n.height(),o=t.horizontal_adjustment,a=t.vertical_adjustment,s=t.width_px,l=t.height_px;switch("text"==t.type&&(o=t.horizontal_adjustment_container,a=t.vertical_adjustment_container,s=t.width_container_px,l=t.height_container_px),this.yZone){case 0:this.top=a;break;case 1:this.top=r/2+a-l/2;break;case 2:this.top=r-a-l}switch(this.xZone){case 0:this.left=o;break;case 1:this.left=i/2+o-s/2;break;case 2:this.left=i-o-s}this.initStyle()},t.prototype.setLineBreak=function(t){var n=e(t);return RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},n.each(function(){var t=e(this),n=t.html(),i=n.split(" ");t.html(i[0]);for(var r=t.height(),o=1;o<i.length;o++)t.height()>r?(r=t.height(),t.html(t.html().replace(new RegExp("\\s"+RegExp.escape(i[o-1])+"$"),"<br>"+i[o-1])+" "+i[o])):(t.html(t.html()+" "+i[o]),-1!=i[o].indexOf("<br>")&&(r=t.height()));t.height()>r&&t.html(t.html().replace(new RegExp("\\s"+RegExp.escape(i[i.length-1])+"$"),"<br>"+i[i.length-1])),n=t.html()}),""},t.prototype.cloneStyle=function(e){this.rotation=e.rotation,this.rotationRadians=e.rotationRadians,this.width=e.width,this.height=e.height,this.width_container=e.width_container,this.height_container=e.height_container,this.top=parseInt(e.top.toString())+100,this.left=parseInt(e.left.toString())+100,this.right=null,this.bottom=null,this.zoom=e.zoom,this.xPos=e.xPos,this.yPos=e.yPos,this.xZone=0,this.yZone=0,this.fontFamily=e.fontFamily,this.opacity=e.opacity,this.fontSize=e.fontSize,this.fontColor=e.fontColor,this.fontColorShadow=e.fontColorShadow,this.backgroundColor=e.backgroundColor,this.textAlign=e.textAlign,this.bold=e.bold,this.underline=e.underline,this.italic=e.italic},t.prototype.getImageData=function(e){var t={id:this.id,type:"image",gravity:e.gravity,height_percent:e.height_percent,height_px:e.height_px,horizontal_adjustment:e.horizontal_adjustment,horizontal_adjustment_percent:e.horizontal_adjustment_percent,left:e.left,top:e.top,opacity:e.opacity,rotation:e.rotation,vertical_adjustment:e.vertical_adjustment,vertical_adjustment_percent:e.vertical_adjustment_percent,width_percent:e.width_percent,width_px:e.width_px,x_pos_percent:e.x_pos_percent,y_pos_percent:e.y_pos_percent,pixel_mode:1,color_shadow:e.font_color_shadow,zoom:1};return this.adjustRotation(t)},t.prototype.getSquareData=function(e){var t={id:this.id+"f",type:"image",gravity:e.gravity,height_percent:e.height_container_percent,height_px:e.height_container_px,horizontal_adjustment:e.horizontal_adjustment_container,horizontal_adjustment_percent:e.horizontal_adjustment_container_percent,left:e.left_container,top:e.top_container,opacity:e.opacity,rotation:e.rotation,vertical_adjustment:e.vertical_adjustment_container,vertical_adjustment_percent:e.vertical_adjustment_container_percent,width_percent:e.width_container_percent,width_px:e.width_container_px,x_pos_percent:e.x_pos_container_percent,y_pos_percent:e.y_pos_container_percent,pixel_mode:1,zoom:1};return this.adjustRotation(t)},t.prototype.getTextImage=function(t){if(void 0===t&&(t=1),"text"!=this.type)return null;var n=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);var i=e("#"+this.id+" .text"),r=e("<p>"+i.html().replace(/\n/g,"").replace(/<br>/g,"\n").replace(/<div/g,"\n<div")+"</p>").text().replace(/\n/g," <br> "),o=i.width()*t,a=i.height()*t,s=(parseInt(i.css("font-size")),document.createElement("canvas"));s.width=o,s.height=a;var l=s.getContext("2d"),c=o,u=parseInt(i.css("line-height"))*t,d=this.fontSize*t;return l.font=(parseInt(i.css("font-size"))-1)*t+"px "+this.fontFamily,l.fillStyle=this.fontColor,l.strokeStyle=this.fontColorShadow,l.lineWidth=(n?3.5:3)*t,l.textAlign=this.textAlign,function(e,t,n,i,r,o,a){n=parseInt(n),i=parseInt(i),r=parseInt(r),o=parseInt(o);for(var s=t.split(" "),l="",c=0;c<s.length;c++)if("<br>"!=s[c]){var u=""==l?s[c]:l+" "+s[c];e.measureText(u).width>r&&c>0?("center"==a?e.fillText(l,r/2,i):"right"==a?e.fillText(l,r,i):e.fillText(l,n,i),l=s[c],i+=o):l=u}else"center"==a?e.fillText(l,r/2,i):"right"==a?e.fillText(l,r,i):e.fillText(l,n,i),l="",i+=o;"center"==a?e.fillText(l,r/2,i):"right"==a?e.fillText(l,r,i):e.fillText(l,n,i)}(l,r,2,d,c,u,this.textAlign),this.dataURLtoFile(s.toDataURL(),this.id+"-w-"+this.id+".png")},t.prototype.getSquareImage=function(t){if("transparent"==this.backgroundColor)throw"invalid background "+this.backgroundColor;var n=e("#"+this.id),i=n.width(),r=n.height(),o=document.createElement("canvas");o.width=i,o.height=r;var a=o.getContext("2d");return a.fillStyle=this.backgroundColor,a.fillRect(0,0,i,r),this.dataURLtoFile(o.toDataURL(),this.id+"f-w-"+this.id+"f.png")},t.prototype.dataURLtoFile=function(e,t){try{for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new File([a],t,{type:i})}catch(e){return null}},t.prototype.adjustRotation=function(t){if(0!=this.rotation){var n=this.getRotationAdjust(this.rotationRadians,{h:t.height_px,w:t.width_px});t.left=t.left-(n.w-t.width_px)/2,t.top=t.top-(n.h-t.height_px)/2,t.y_pos_percent=100*t.top/e("#file").height(),t.x_pos_percent=100*t.left/e("#file").width()}return t},t.prototype.addEventListener=function(e,t){this.listenable.addEventListener(e,t)},t.prototype.dispatchEvent=function(e){this.listenable.dispatchEvent(e)},t}();t.EditElement=f}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Url=void 0;var i=function(){function e(){}return e.validate=function(e){return new RegExp("^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$","g").test(e)},e.correct=function(e){return"http://"!==e.substr(0,"http://".length)&&"https://"!==e.substr(0,"https://".length)&&(e="http://"+e),e},e.getParam=function(e,t){void 0===t&&(t=null),null==t&&(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},e}();t.Url=i},function(e,t,n){},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chain=void 0;var i=n(71),r=function(){function e(e){this.parentId=null,this.tool=null,this.token=null,Object.assign(this,e)}return e.prototype.makeChild=function(){var e=this,t=this;return new Promise(function(n,r){null!=t.parentId?(e.api=new i.Api({taskId:null,tool:t.tool,workerServer:t.workerServer,token:t.token}),e.api.next(t.parentId,t.tool).then(function(e){n(e)},function(e){r(e)})):n()})},e.prototype.getFileUrl=function(e,t){return this.api.nextFile(e,t)},e}();t.Chain=r},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IloveTool=void 0;var a=n(77),s=n(220),l=n(223),c=n(99),u=o(n(24)),d=n(196),p=n(14),f=n(30),h=n(18),g=n(227),m=n(228),v=function(){function t(e){var t=this;void 0===e&&(e={}),this.initTool=function(){t.config=new c.Config({tool:t.tool,subtool:t.subtool,config:t.configData}),t.initProcessManager(),t.optionsManager=t.getOptionsManager(),t.initUploader(),t.beforeInit().then(function(){},function(){}),t.listenEventTaskIdChanged()},this.action=null,this.alias=null,this.tool=null,this.subtool=null,this.realTool=null,this.toolText=null,this.fileLimits=null,this.taskId=null,this.parentId=null,this.parentTool=null,this.covers_hidden=!1,this.token=null,this.userId=null,this.startServer=null,this.workerServer=null,this.level="user",this.levelTemp="user",this.userToken=null,this.servers=null,this.downloadUrl=null,this.error=null,this.site=null,this.country=null,this.isInitialized=!1,this.files=new a.FileStack,this.processManager=null,this.uploadManager=null,this.optionsManager=null,this.defaultOptions=null,this.configData=n(229),this.config=null,Object.assign(this,e),this.subtool||(this.subtool=this.tool),this.alias&&(this.subtool=this.alias),null!=this.userId&&u.configureScope(function(e){e.setUser({id:t.userId})}),null!=this.country&&u.configureScope(function(e){e.setTag("country",t.country)}),null!=this.taskId&&u.configureScope(function(e){e.setTag("taskId",t.taskId)}),null==this.workerServer&&this.servers&&(this.workerServer=this.servers[Math.floor(Math.random()*this.servers.length)]),window.Sentry=u,window.ilovetools={user:h.UserModel},m.Modal.init()}return t.prototype.variableUserLevel=function(){var e=document.URL.split("#");if("n"!==(e.length>1?e[1]:null)){for(var t=window.ilovepdfConfig.fp,n=!1,i=0;i<t;i++){var r=null;if(window.Cookies&&(r=window.Cookies.get("fp"+i)),null==r){n=!0;break}}!0===n&&"premium"!==this.level&&(window.ilovepdfConfig.fileLimits=this.fileLimits=this.allFileLimits.temp_limits,"user"==this.level?this.allFileLimits.limits=this.allFileLimits.temp_limits:this.allFileLimits.registered_limits=this.allFileLimits.temp_limits,window.ilovepdfConfig.levelTemp=this.levelTemp="premium")}},t.prototype.init=function(){if("tool"==this.action&&null!=this.tool){var e=this.tool==this.subtool?this.tool.replace("image",""):this.tool.replace("image",this.subtool);this.alias=e,window.Cookies&&window.Cookies.set("lastTool",e),this.variableUserLevel(),this.initTool(),g.Network.checkNetwork()}this.isInitialized=!0},t.prototype.beforeInit=function(){var t=this,n=this;return new Promise(function(i,r){if(null!=n.parentId){f.Tools.loadingFromPreviousStart(),window.ev("send","event","tool","chained",t.tool+"-"+t.parentTool);var o=new d.Chain({parentId:n.parentId,workerServer:n.workerServer,tool:n.tool,token:n.token});o.makeChild().then(function(t){n.uploadManager.taskId=n.uploadManager.plupload.taskId=n.processManager.api.taskId=n.processManager.taskId=n.taskId=t.task,n.uploadManager.plupload&&n.uploadManager.plupload.uploader&&n.uploadManager.plupload.uploader&&n.uploadManager.plupload.uploader.settings&&(n.uploadManager.plupload.uploader.settings.multipart_params.task=n.uploadManager.taskId);try{n.optionsManager.limits&&n.optionsManager.limits.checkFileLimits(0,Object.keys(t.files).length)}catch(t){return f.Tools.loadingFromPreviousFail(),void e("#closePrevious").on("click",function(){f.Tools.loadingFromPreviousEnd(),i()})}for(var r in t.files)if(t.files.hasOwnProperty(r)){var s=f.Tools.randomId(),l=new a.File({id:s,canvasId:s,filename:t.files[r],name:t.files[r],server_filename:r,url:o.getFileUrl(t.task,r),loaded:100,percent:100,origin:"chained",runtime:"html5"});n.files.addFile(l),n.optionsManager.fileAdded(l,n.uploadManager.id)}f.Tools.loadingFromPreviousEnd(),i()},function(t){""==t?(u.configureScope(function(e){e.setExtra("parent_id",n.parentId),e.setExtra("tool",n.tool)}),u.captureMessage("Error on child creation: Options fail",p.Severity.Error)):t.error&&t.error.type&&"TaskRestartError"==t.error.type?(u.configureScope(function(e){e.setExtra("parent_id",n.parentId),e.setExtra("tool",n.tool),e.setExtra("error",t)}),u.captureMessage("Error on child creation, parent removed",p.Severity.Error)):(u.configureScope(function(e){e.setExtra("parent_id",n.parentId),e.setExtra("tool",n.tool),e.setExtra("error",t)}),u.captureMessage("Error on child creation",p.Severity.Error)),f.Tools.loadingFromPreviousFail(),e("#closePrevious").on("click",function(){f.Tools.loadingFromPreviousEnd(),i()})})}else i()})},t.prototype.initProcessManager=function(){this.processManager=new s.Process({taskId:this.taskId,tool:this.tool,site:this.site,subtool:this.subtool,options:{},startServer:this.startServer,workerServer:this.workerServer,files:this.files,token:this.token,userId:this.userId,downloadUrl:this.downloadUrl})},t.prototype.initUploader=function(){this.uploadManager=new l.UploadManager({id:"pickfiles",files:this.files,startServer:this.startServer,workerServer:this.workerServer,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,token:this.token,taskId:this.taskId,tool:this.tool,servers:this.servers})},t.prototype.getOptionsManager=function(){return null},t.prototype.getToolOptions=function(){return{processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken}},t.prototype.changeServer=function(e){this.uploadManager.workerServer=e,this.uploadManager.plupload.workerServer=e,this.uploadManager.plupload.uploader.setOption("url",e+"/"+this.uploadManager.plupload.apiVersion+"/upload"),"changeServer"in this.optionsManager&&this.optionsManager.changeServer(e),this.uploadManager.workerServer=e},t.prototype.listenEventTaskIdChanged=function(){var e=this;window.addEventListener("taskIdChanged",function(t){var n=t.detail.taskId;e.processManager.taskId=n,e.uploadManager.plupload.changeTaskId(n),e.processManager.api.taskId=n,window.ilovepdfConfig.taskId=e.processManager.taskId=e.processManager.api.taskId=n})},t}();t.IloveTool=v}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsTemplate=void 0;var i=n(13),r=n(30),o=function(){function e(){}return e.process=function(e,t){var n=e;for(var i in t)t.hasOwnProperty(i)&&(n=(n=n.replace(new RegExp("\\$\\{"+i+"\\}","g"),t[i])).replace(new RegExp("\\$\\{ "+i+" \\}","g"),t[i]));return n},e.processButton=function(e){return'<div id="processTaskWrapper"></div><button id="processTask" class="btn btn--process btn--red '+e.tool+'"><span id="processTaskTextBtn">'+e.toolText+'</span> <span><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="#FFF" fill-rule="evenodd"><path d="M13 26C5.82 26 0 20.18 0 13S5.82 0 13 0s13 5.82 13 13-5.82 13-13 13zm0-2c6.075 0 11-4.925 11-11S19.075 2 13 2 2 6.925 2 13s4.925 11 11 11z" fill-rule="nonzero"/><path d="M18.684 13.105a.55.55 0 0 1-.148.378l-5.263 5.263a.55.55 0 0 1-.378.148.54.54 0 0 1-.526-.526V15.21H7.842a.54.54 0 0 1-.526-.526v-3.158A.54.54 0 0 1 7.842 11h4.526V7.842a.52.52 0 0 1 .526-.526c.148 0 .28.066.395.164l5.247 5.247a.55.55 0 0 1 .148.378z"/></svg></span></button></div>'},e.rangeBox=function(e){return'<div class="range" id="range-'+e.rangeId+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__title">'+i.Lang.t("Range")+" "+e.rangeId+'</div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="range-'+e.rangeId+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+e.rangeId+'-ini">'+e.pageIni+'</span></div></div><div class="range__to"></div><div class="range__element range__element--end"><div class="range__canvas range__canvas--end"><canvas id="range-'+e.rangeId+'-end" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+e.rangeId+'-end">'+e.pageEnd+"</span></div></div></div></div>"},e.rangeFixedBox=function(e){return'<div class="range" id="range-fix-'+e.rangeId+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__title">'+i.Lang.t("Range")+" "+e.rangeId+'</div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="range-fix-'+e.rangeId+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+e.rangeId+'-ini">'+e.pageIni+'</span></div></div><div class="range__to"></div><div class="range__element range__element--end"><div class="range__canvas range__canvas--end"><canvas id="range-fix-'+e.rangeId+'-end" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+e.rangeId+'-end">'+e.pageEnd+"</span></div></div></div></div>"},e.removeBox=function(e){return'<div class="range" id="remove-page-'+e.page+'" data-page="'+e.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="remove-page-'+e.page+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name">Page '+e.page+"</span></div></div></div></div>"},e.reorderBox=function(e){return'<div class="range" id="reorder-page-'+e.page+'" data-page="'+e.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="reorder-page-'+e.page+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name">Page '+e.page+"</span></div></div></div></div>"},e.pageBox=function(e){return'<div class="page '+e.class+'" id="'+e.file+e.page+'" data-page="'+e.page+'" data-pos="'+e.pos+'" data-file="'+e.file+'"><div class="page__add tooltip tooltip--top" data-title="'+i.Lang.t("addPage")+'"></div><div class="page__actions"><a class="page__btn rotate tooltip--top tooltip" data-rotate="0" title="'+i.Lang.t("Rotate")+'"><svg width="14px" height="17px" viewBox="0 0 14 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-434.000000, -182.000000)" fill="#383E45"><g transform="translate(265.000000, 172.000000)"><g transform="translate(164.000000, 8.000000)"><path d="M7.76002152,9.05407587 L6.54613936,7.83158461 C5.77132096,8.83023944 5.28921173,9.98385795 5.14285714,11.1805219 L6.881894,11.1805219 C7.00242131,10.4315308 7.30373957,9.69975787 7.76002152,9.05407587 L7.76002152,9.05407587 Z M6.881894,12.9023406 L5.14285714,12.9023406 C5.28921173,14.0990046 5.76271186,15.2526231 6.53753027,16.2512779 L7.75141243,15.0287867 C7.30373957,14.3831047 7.00242131,13.6599408 6.881894,12.9023406 L6.881894,12.9023406 Z M7.75141243,17.4823783 C8.75006726,18.2571967 9.91229486,18.7220877 11.1089588,18.8684423 L11.1089588,17.1207963 C10.3599677,16.9916599 9.63680387,16.6989508 8.99112187,16.2340597 L7.75141243,17.4823783 L7.75141243,17.4823783 Z M12.8307775,5.21442023 L12.8307775,2.57142857 L8.91364003,6.48856605 L12.8307775,10.3196126 L12.8307775,6.95345709 C15.27576,7.36669357 17.1353242,9.48453054 17.1353242,12.0414313 C17.1353242,14.598332 15.27576,16.716169 12.8307775,17.1294054 L12.8307775,18.8684423 C16.2313694,18.4465967 18.8571429,15.5539414 18.8571429,12.0414313 C18.8571429,8.52892117 16.2313694,5.63626581 12.8307775,5.21442023 L12.8307775,5.21442023 Z" transform="translate(12.000000, 10.719935) scale(-1, 1) translate(-12.000000, -10.719935) "></path></g></g></g></g></svg></a><a class="page__btn remove tooltip--top tooltip" title="'+i.Lang.t("Remove")+'"><svg width="12px" height="12px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-586.000000, -216.000000)" fill="#383E45"><g transform="translate(580.000000, 210.000000)"><polygon points="18 7.20857143 16.7914286 6 12 10.7914286 7.20857143 6 6 7.20857143 10.7914286 12 6 16.7914286 7.20857143 18 12 13.2085714 16.7914286 18 18 16.7914286 13.2085714 12"></polygon></g></g></g></svg></a></div><div class="page__container"><div class="page__element"><div class="page__canvas"><canvas id="page-'+e.file+"-"+e.page+'" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name"><span class="file__info__more"><strong>'+e.filename+"</strong><br>"+i.Lang.t("Page")+"&nbsp;</span>"+e.page+'</span></div></div></div><div class="page__add tooltip tooltip--top" data-title="'+i.Lang.t("addPage")+'"></div></div>'},e.page=function(e){return'<div class="page '+e.class+'" id="'+e.file+e.page+'" data-page="'+e.page+'" data-file="'+e.file+'"><div class="page__container"><div class="page__element"><div class="page__canvas"><canvas id="page-'+e.file+"-"+e.page+'" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div></div></div></div>'},e.extractBox=function(e){return'<div class="range" id="extract-page-'+e.page+'" data-page="'+e.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="extract-page-'+e.page+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas> </div><div class="file__info"><span class="file__info__name">'+e.page+"</span></div></div></div></div>"},e.askPassword=function(){return'<div id="passwordAsk"><h2 class="title2">'+i.Lang.t("Some files require password")+'</h2><div class="form__group"><div class="checkbox"><input type="checkbox" name="allPwd" id="allPwd" value="1"><label for="allPwd">'+i.Lang.t("Same password for all files")+'</label></div></div><div class="passwords"></div><div class="text-right"><button class="btn btn--red" id="pwdSend">'+i.Lang.t("Send")+'</button></div><br><br><div class="text-right"><p id="useUnlock">'+i.Lang.t("Did you forgot your password?")+' <a href="'+window.unlockPdfUrl+'">'+i.Lang.t("Unlock PDF")+'</a></p><p id="ignorePwdFiles">'+i.Lang.t("Or")+' <a class="link--cancel" id="pwdIgnore" href="#">'+i.Lang.t("Ignore these files")+"</a></p></div></div>"},e.askPasswordField=function(e){return'<div class="password" id="pwd-'+e.id+'"><label for="pwd'+e.id+'">'+e.server_filename+'</label><div class="form__group form__group--btn form__group--btn-lg"><div class="input--icon input--lock"><input class="input" type="password" name="pwd'+e.id+'" id="pwd'+e.id+'"></div><a class="btn showPassword" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.015 7c4.751 0 8.063 3.012 9.504 4.636-1.401 1.837-4.713 5.364-9.504 5.364-4.42 0-7.93-3.536-9.478-5.407 1.493-1.647 4.817-4.593 9.478-4.593zm0-2c-7.569 0-12.015 6.551-12.015 6.551s4.835 7.449 12.015 7.449c7.733 0 11.985-7.449 11.985-7.449s-4.291-6.551-11.985-6.551zm-.015 5c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2zm0-2c-2.209 0-4 1.792-4 4 0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.208-1.791-4-4-4z"/></svg></a></div></div>'},e.checkOk=function(){return'<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>'},e}();t.OptionsTemplate=o},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IloveError=void 0;var a=n(13),s=o(n(24)),l=n(14),c=function(){function t(){}return t.getError=function(e){if("string"==typeof e)return e;if("error"in e&&"string"==typeof e.error)return e.error;if("response"in e){var t=this.getJson(e.response);if(null!=t)return"error"in t&&"param"in t.error&&t.error.param&&t.error.param&&"type"in t.error.param&&t.error.param.type instanceof Array?t.error.param.type[0]:"error"in t&&"type"in t.error&&t.error.type&&"string"==typeof t.error.type?t.error.type:"ServerError"}return"param"in e&&"type"in e.param?e.param.type:"UnknownError"},t.isJson=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},t.getJson=function(e){var t=null;try{t=JSON.parse(e)}catch(e){return null}return t},t.fatalError=function(n,i,r,o,c){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===c&&(c=null),null==n&&(n="UnknownError"),"UnknownError"==(n=t.getError(n))&&(s.configureScope(function(e){e.setExtra("unknownError",n),e.setExtra("tool",i),e.setExtra("fileName",o),e.setExtra("workerServer",r),e.setExtra("extra",c)}),s.addBreadcrumb({category:"upload",level:l.Severity.Error,message:"Unknown Error"})),window.ev("sendOnce","event","upload-fatal",i,n),e(".tool").hide(),e("#uploading").hide(),e("#process").hide(),e("body").addClass("process-run");var u="";u="FileRemoved"==n||"FileTooLarge"==n?n:"errorRetry";var d='\n        <div class="tool-error">\n            <h2 class="title2">'+a.Lang.t("Upload error")+'</h2>\n            <div class="tool-error__content">'+a.Lang.t(u);null!=o&&"FileRemoved"!=n&&(d=d+"<p>"+o+"</p>"),d=d+'</div><div class="tool-error__action"><a class="btn btn-sm" href="javascript:location.reload()">'+a.Lang.t("Retry")+"</a></div>",e("#uploading").html(d).show()},t.error=function(e,t,n,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null)},t}();t.IloveError=c}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var n=function(){function t(){}return t.init=function(){var t=1==e("body").hasClass("rtl")?"left":"right";1!=window.toolbarStarted&&(window.toolbarStarted=!0,e(".editor__toolbar__options").hide(),e(".tool__workarea").on("scroll",function(){var n=e(this).scrollTop();n+e(this).innerHeight()>=e(this)[0].scrollHeight?e(".editor__toolbar").addClass("fixed").css("margin-"+t,e("#sidebar").width()+1+"px"):n<=16+e(".add").height()?e(".editor__toolbar").removeClass("fixed").css("margin-"+t,""):e(".editor__toolbar").addClass("fixed").css("margin-"+t,e("#sidebar").width()+1+"px")}),e(".editor__toolbar__options#fileSelectorToolbar").css("display","flex"))},t.refresh=function(){window.removeEventListener("resize",t.setToolbar),window.addEventListener("resize",t.setToolbar),t.setToolbar()},t.setToolbar=function(){var t=1==e("body").hasClass("rtl")?"left":"right";e(".editor__toolbar").addClass("fixed").css("margin-"+t,e("#sidebar").width()+1+"px")},t.show=function(t){e(".editor__toolbar__options").hide(),e(".editor__toolbar__options#"+t).css("display","flex")},t.hide=function(){e(".editor__toolbar__options").hide(),e(".editor__toolbar__options#fileSelectorToolbar").css("display","flex")},t}();t.Toolbar=n}).call(this,n(1))},,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditImageOptionsManager=void 0;var a=o(n(35)),s=o(n(57)),l=n(30),c=n(13),u=o(n(24)),d=n(196),p=n(77),f=n(14),h=function(){function t(e){void 0===e&&(e={}),this.base="",this.assets="",this.lang={},this.editorReady=!1,this.tool="editimage",Object.assign(this,e),this.pixie=null,this.eventSent=!1,this.init()}return t.prototype.init=function(){this.initUploader(),this.loadScriptAndCss(),this.dragDrop(),this.beforeInit(),e("#pickfiles").removeClass("tooltip"),e("#pickfiles")&&e("#pickfiles")[0]._tippy&&e("#pickfiles")[0]._tippy.disable()},t.prototype.beforeInit=function(){var t=this,n=this;return new Promise(function(i,r){if(null!=n.parentId){l.Tools.loadingFromPreviousStart(),window.ev("send","event","tool","chained",t.tool+"-"+t.parentTool);var o=new d.Chain({parentId:n.parentId,workerServer:n.workerServer,tool:n.tool,token:n.token});o.makeChild().then(function(e){for(var t in e.files)if(e.files.hasOwnProperty(t)){var i=l.Tools.randomId();new p.File({id:i,canvasId:i,filename:e.files[t],name:e.files[t],server_filename:t,url:o.getFileUrl(e.task,t),loaded:100,percent:100,runtime:"html5"});n.startEditor(o.getFileUrl(e.task,t))}},function(){u.configureScope(function(e){e.setExtra("parent_id",n.parentId),e.setExtra("tool",n.tool)}),u.captureMessage("Error on child creation",f.Severity.Error),l.Tools.loadingFromPreviousFail(),e("#closePrevious").on("click",function(){l.Tools.loadingFromPreviousEnd(),i()})})}else i()})},t.prototype.preventPageExit=function(){window.onbeforeunload=function(){return c.Lang.t("leaveAlert")}},t.prototype.fileAdded=function(e,t,n){void 0===n&&(n=!1);var i=this;return new Promise(function(t,n){i.startEditor(e.url),t()})},t.prototype.initUploader=function(){var t=this;function n(){var n,i=e("#fileUpload")[0];if(i.files&&i.files[0]){try{n=(window.URL||window.webkitURL).createObjectURL(i.files[0])}catch(e){return null}var r=new Image;r.onload=function(){window.fabric&&(r.width>2*window.fabric.textureSize||r.height>2*window.fabric.textureSize)?window.Toastr.error(c.Lang.t(c.Lang.t("FileTooLarge")),c.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"}):function(){var n=e("#fileUpload")[0];if(n.files&&n.files[0]){var i=new FileReader;i.onload=function(e){t.startEditor(e.target.result)},i.readAsDataURL(n.files[0])}}()},r.src=n}}e("#fileUpload").hide(),e("#pickfiles").addClass("active"),document.getElementById("pickfiles").onclick=function(){document.getElementById("fileUpload").click()},e("#fileUpload").change(function(){n()})},t.prototype.startEditor=function(t){e(".tool__workarea").hide();var n=this,i=setInterval(function(){null!=window.Pixie&&(n.pixie=new window.Pixie({image:t,languages:{active:"custom",custom:{custom:n.lang}},urls:{base:n.base,assets:n.assets},onLoad:function(){n.addFiletype()}}),window.fabric&&window.fabric.enableGLFiltering&&window.fabric.isWebglSupported&&window.fabric.isWebglSupported(4096)&&(window.fabric.textureSize=4096),clearInterval(i))},50)},t.prototype.addFiletype=function(){var t=this;e("toolbar").append(this.fileFormatView()),e("#saveJpg").hide(),e(".format").on("click",function(t){e(t.target).hasClass("format__item")||e(".format__select").show()}),e(".format__item").on("click",function(n){var i=e(n.target).html();e("#format").html(i),e(".format__select").hide(),t.pixie.setConfig("tools.export.defaultFormat",i),e(".export-button").hide(),e("#save"+i[0].toUpperCase()+i.substring(1)).show()}),e(".export-button").on("click",function(){0==t.eventSent&&(t.eventSent=!0,window.ev("send","event","user","process","editimage"))}),e("body").click(function(t){var n=e(t.target);n.hasClass("format__item")||n.hasClass("format")||n.hasClass("formatType")||e(".format__select").hide()})},t.prototype.loadScriptAndCss=function(){var e=this;return new Promise(function(t,n){if(null===window.Pixie||void 0!==window.Pixie)return t(!0);s.lazyloadCss("/editor/styles.css"),a.lazyload("/editor/runtime.js"),a.lazyload("/editor/polyfills.js"),a.lazyload("/editor/main.js");var i=window.setInterval(function(){if(null!==window.Pixie&&"function"==typeof window.Pixie)return clearInterval(i),e.editorReady=!0,window.fabric&&window.fabric.enableGLFiltering&&window.fabric.isWebglSupported&&window.fabric.isWebglSupported(4096)&&(window.fabric.textureSize=4096),t(!0)},100)})},t.prototype.fileFormatView=function(){return'<div class="format">'+c.Lang.t("Save")+' <span class="formatType" id="format">png</span><div class="format__select"><div class="format__item active">png</div><div class="format__item">jpg</div></div></div>'},t.prototype.dragDrop=function(){var t=document.getElementById("workArea"),n=(document.getElementById("dropArea"),this);t.addEventListener("dragenter",function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy";var n=t.dataTransfer;n.types&&(n.types.indexOf?-1!=n.types.indexOf("Files"):n.types.contains("Files"))&&(e("#dropArea").text(c.Lang.t("dropIt")),e("#dropArea").show())},!1),t.addEventListener("dragleave",function(t){t.stopPropagation(),t.preventDefault(),e(t.target).is("#dropArea")&&e("#dropArea").hide()},!1),t.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},!1),t.addEventListener("drop",function(t){t.stopPropagation(),t.preventDefault(),e("#dropArea").hide();var i=t.dataTransfer;if(i&&i.types&&(i.types.indexOf?-1!=i.types.indexOf("Files"):i.types.contains("Files"))){var r=t.dataTransfer.files;if(r[0].type.match(/image.*/)){var o=new FileReader;o.onload=function(e){n.startEditor(e.target.result)},o.readAsDataURL(r[0])}}return!1})},t}();t.EditImageOptionsManager=h}).call(this,n(1))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.IloveimgTool=void 0;var o=n(197),a=n(100),s=n(236),l=n(237),c=n(238),u=n(239),d=n(240),p=n(243),f=n(244),h=n(245),g=function(e){function t(t){void 0===t&&(t={});var i=e.call(this,t)||this;return i.configData=n(119),window.configData=i.configData,i.init(),i}return r(t,e),t.prototype.getOptionsManager=function(){var e={processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,screenSize:this.screenSize,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken};return"resizeimage"==this.tool?new s.ResizeImageOptionsManager(this.getToolOptions()):"cropimage"==this.tool?new l.CropImageOptionsManager(this.getToolOptions()):"rotateimage"==this.tool?new u.RotateImageOptionsManager(this.getToolOptions()):"fromjpg"==this.subtool||"jpgtogif"==this.subtool?new c.FromjpgOptionsManager(this.getToolOptions()):"tojpg"==this.subtool?new f.TojpgOptionsManager(this.getToolOptions()):"watermarkimage"==this.tool?new d.WatermarkImageOptionsManager(this.getToolOptions()):"memeimage"==this.tool?new p.MemeImageOptionsManager(this.getToolOptions()):"blurfaceimage"===this.tool?new h.BlurfaceImageOptionsManager(this.getToolOptions()):new a.OptionsManager(e)},t}(o.IloveTool);t.IloveimgTool=g},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.IloveimgTool=void 0;var o=n(246),a=n(197),s=n(247),l=function(e){function t(t){void 0===t&&(t={});var i=e.call(this,t)||this;return i.configData=n(119),window.configData=i.configData,i.init(),i}return r(t,e),t.prototype.getOptionsManager=function(){return new o.HtmlimageOptionsManager(this.getToolOptions())},t.prototype.getToolOptions=function(){return{processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,screenSize:this.screenSize,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken}},t.prototype.initUploader=function(){this.uploadPopupManager=new s.UploadPopupManager({id:"pickfiles",files:this.files,startServer:this.startServer,workerServer:this.workerServer,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,token:this.token,taskId:this.taskId,tool:this.tool,servers:this.servers})},t}(a.IloveTool);t.IloveimgTool=l},,,,function(e,t,n){"use strict";n.r(t),function(e){n(86);var t=n(101),i=n(213),r=n(61),o=n.n(r),a=n(102),s=n(137),l=(n(155),n(156),n(158),n(38)),c=n(103),u=n(214),d=n(215),p=n(15),f=n(7);n(95);n(145),n(151),n(153),n(89),n(154),e.Cookies=o.a,e.Toastr=a,e.Toastr.options.closeDuration=100,e.Sortable=s.a,l.Tooltip.compat(),e.tippy=c.a,n(94),n(181),window.site="iloveimg",p.e({dsn:"https://1f17b51631f34ac38782fb6823cf97cc@sentry.io/1200240",logger:"js-img",allowSecretKey:!0,maxBreadcrumbs:100,environment:"production",release:"64c31e2fa8b3f5e49da67b15381af647663e4011",ignoreErrors:["TagError","Permission denied","Error loading script",new RegExp("gpt/pubads_impl_"),"Failed to fetch","Illegal invocation",new RegExp("ReportingObserver"),"UnhandledRejection","PromiseRejectionEvent",new RegExp("FD126C42")],beforeBreadcrumb:function(e,t){return"category"===e.category?null:e},whitelistUrls:[new RegExp("https?://((dev|www).)?ilovepdf.com"),new RegExp("https?://((dev|www).)?iloveimg.com")]}),f.e(function(e){e.setTag("site",window.site)});new t.IlovepdfWeb;if(null!=window.editConfig&&(window.ilovepdf=new i.EditImageOptionsManager(window.editConfig)),null!=window.ilovepdfConfig){var h=null;h="htmlimage"==window.ilovepdfConfig.tool?new d.IloveimgTool(window.ilovepdfConfig):new u.IloveimgTool(window.ilovepdfConfig),window.ilovepdf=h,window.userModel=h.user}document.documentElement.setAttribute("data-useragent",navigator.userAgent),window.executeTool=function(e){e&&e.length>0&&window.ilovepdf.optionsManager.makeWorkarea();var t=500,n=setInterval(function(){0===--t&&window.clearInterval(n),window.pluploader&&window.pluploader.uploader.addFile&&(window.clearInterval(n),e.forEach(function(e){window.pluploader.uploader.addFile(function(e,t){try{for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new File([a],t,{type:i})}catch(e){return null}}(e.file,e.filename))}))},100)}}.call(this,n(23))},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Process=void 0;var l=n(13),c=o(n(24)),u=n(30),d=n(198),p=n(199),f=n(71),h=n(73),g=n(39),m=n(18),v=n(221),y=function(){function t(e){var t=this;this.beforeExecute=function(){return new Promise(function(e,n){if(m.UserModel.isRealPremium())e(!0);else if(!0!==t.limitsConfirmShown){var i=t.limits.checkFileLimits();if(null!==i){try{window.history.pushState({id:"workarea"},"workarea",null)}catch(e){}t.limitsConfirmShown=!0;var r=document.getElementById("process");r.style.display="none";var o=document.createElement("div");o.setAttribute("id","confirmOcr"),r.parentNode.insertBefore(o,r);m.UserModel.isPremium();t.contextConfirmFiles&&(t.contextConfirmFiles=null),t.contextConfirmFiles=new v.ConfirmFilesProcessContext({tool:t.limits.getTool(),limits:t.limits,triggerReason:i}),t.contextConfirmFiles.render(o),t.contextConfirmFiles.addEventListener("end",function(n){if(n.detail)return t.limitsConfirmShown=!1,e(!1),void o.remove();o.style.display="none",r.style.display="flex",m.UserModel.isRealPremium()?(t.files.resetLimitedFiles(),t.limits.sendEventLimitsChanged()):t.files.removeLimitedFiles(),e(!0)})}else e(!0)}else e(!0)})},this.stopGoDownload=!1,this.stopGoProblem=!1,this.taskId=null,this.tool=null,this.subtool=null,this.realTool=null,this.files=null,this.limits=null,this.ignoredFiles=[],this.filesUploaded={},this.options=null,this.optionFiles=[],this.workerServer=null,this.downloadUrl="",this.apiVersion="v1",this.appVersion=null,this.exceptions=null,this.userId=null,this.site=null,this.token=null,this.encrypted=!1,this.encryptKey=null,this.processStarted=!1,this.uploadInterval=null,this.processCheckCount=3,this.processWait=!1,this.outToPage=!1,this.hideProblemForm=!1,this.processForceEnd=!1,this.params=null,this.status="ok",this.toolEvent=null,this.askedPassword=!1,this.afterFilesLoaded=null,this.processCount=0,Object.assign(this,e),null!=this.tool&&(this.toolEvent=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool)),this.stopGoDownload="dev"==g.Settings.env()&&this.stopGoDownload,this.stopGoProblem="dev"==g.Settings.env()&&this.stopGoProblem,this.initApi()}return t.prototype.initApi=function(){this.api=new f.Api({tool:this.tool,taskId:this.taskId,workerServer:this.workerServer,downloadUrl:this.downloadUrl,token:this.token,encrypted:this.encrypted,encryptKey:this.encryptKey})},t.prototype.setOptions=function(e){Object.assign(this.options,e)},t.prototype.setUploadedFiles=function(){this.filesUploaded=this.files.getUploadedFiles()},t.prototype.process=function(){return a(this,void 0,void 0,function(){var t,n,i;return s(this,function(r){switch(r.label){case 0:return this.showProcess(),t=this,window.googletag&&window.googletag.pubads&&window.googletag.pubads().setTargeting&&window.googletag.pubads().setTargeting("pos","pro"),1==t.processForceEnd?[2]:[4,this.beforeExecute()];case 1:if(0==r.sent())return[2];if(1==this.files.checkFilesUploaded())this.showProcess(),n={},e.each(this.files.files,function(e,t){var i=/(?:\.([^.]+))?$/.exec(t.name)[1];void 0==n[i]?n[i]=1:n[i]=n[i]+1}),i=0,"",e.each(n,function(e,t){var n=Math.max(i,t);t>i&&(i=n,e)}),this.execute().then(function(e){t.processExecute=!1,t.actionProcess(e)},function(e){-100!=e.status&&(t.processExecute=!1,500==e.status?t.actionProcessError(e,"500 in process"):504==e.status?t.actionProcessError(e,"504 in process"):400==e.status&&e.error&&e.error.param&&e.error.param[0]&&e.error.param[0].error&&"WrongPassword"==e.error.param[0].error?t.askForPassword(e.error.param).then(function(){t.showProcess(),t.setUploadedFiles(),t.processCount=0,t.process()},function(e){t.options.ignore_errors=!0,t.showProcess(),t.setUploadedFiles(),t.processCount=0,t.process()}):400==e.status&&e.error&&e.error.param&&e.error.param.task&&e.error.param.task[0]&&1==e.error.param.task[0].includes("complete status")?(c.captureMessage("Process error repaired "+t.subtool+t.processCount),window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3)):400==e.status?t.actionProcessError(e,{params:t.options}):(window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3)))});else{if(1==this.processStarted)return 0==t.checkFatalError()&&window.setTimeout(function(){t.process()},1e3),[2];this.showUpload(),this.processStarted=!0}return[2]}})})},t.prototype.checkTaskProcess=function(){var e=this;this.processCheckCount--,this.api.getTask().then(function(t){"TaskWaiting"==t.status?(e.setUploadedFiles(),e.process()):"TaskProcessing"==t.status?(window.clearTimeout(e.checkTimeout),e.checkTimeout=window.setTimeout(function(){e.checkTaskProcess()},1e3)):"TaskSuccess"==t.status||"TaskSuccessWithWarnings"==t.status?e.actionProcess(t):e.actionProcessError(t,{info:"in check task",params:e.options})},function(t){e.processCheckCount<0?e.actionProcessError(t,{info:"in check task error",params:e.options}):(window.clearTimeout(e.checkTimeout),e.checkTimeout=window.setTimeout(function(){e.checkTaskProcess()},1e3))})},t.prototype.actionProcess=function(e){var t={filesize:e.filesize,server:this.workerServer,status_message:e.status_message,status:e.status,timer:e.timer,tool:this.tool,output_filenumber:e.output_filenumber,output_filesize:e.output_filesize,output_extensions:e.output_extensions,toolUrl:function(e,t){var n=e.split("?");if(n.length>=2){for(var i=encodeURIComponent(t)+"=",r=n[1].split(/[&;]/g),o=r.length;o-- >0;)-1!==r[o].lastIndexOf(i,0)&&r.splice(o,1);return n[0]+(r.length>0?"?"+r.join("&"):"")}return e}(window.location.href,"from"),download_filename:e.download_filename,process_start:(new Date).toUTCString()};1==this.hideProblemForm&&(t.hideProblemForm=!0),"warnings"in e&&(t.warnings=e.warnings),!0!==this.stopGoDownload&&Cookies.set(this.taskId,t,{expires:1/480}),this.goDownload(e)},t.prototype.actionProcessError=function(e,t){void 0===t&&(t=null);var n=this,i={error:e,server:n.api.getSubdomain(n.workerServer),taskId:n.taskId,tool:n.tool,subtool:n.subtool,toolUrl:window.location.href.split("?")[0]};if(!0!==this.stopGoProblem&&Cookies.set("error",i,{expires:1/480}),e&&e.error&&e.error.param&&e.error.param[0]&&e.error.param[0].error&&("NoText"==e.error.param[0].error||"NoImages"==e.error.param[0].error||"noTablesToExtract"==e.error.param[0].error)||(c.configureScope(function(i){i.setExtra("processError",e),i.setExtra("params",n.options),i.setExtra("extra",t)}),c.captureMessage("Process error "+n.subtool)),e.error){if(e.error.param&&e.error.param[0]&&e.error.param[0].error)return void n.goProblem(e.error.param[0].error);if(e.error.type)return void n.goProblem(e.error.type)}n.goProblem("ServerError")},t.prototype.execute=function(){var e=this,t=this;if(!0===this.processExecute)return new Promise(function(e,t){t({status:-100})});if(this.processExecute=!0,t.showProcess(),t.setUploadedFiles(),null!=this.afterFilesLoaded&&(this.options=this.afterFilesLoaded(this.files,this.options)),t.params=h.FormDataHelper.jsonToFormData(this.options),t.params.append("task",this.taskId),t.params.append("tool",this.tool),!t.options.packaged_filename){var n=this.tool.replace("image","")+"ed";"croped"==n&&(n="crop"),"resizeed"==n&&(n="resized"),"splited"==n&&(n="split"),t.params.append("packaged_filename",this.site+"-"+l.Lang.t(n))}var i=m.UserModel.get();i&&(t.params.append("custom_int",i.id),t.params.append("custom_string",i.loginkey));var r=0;for(var o in t.filesUploaded)if(!t.isIgnored(o)){var a=this.filesUploaded[o];t.params.append("files["+r+"][server_filename]",a.server_filename),t.params.append("files["+r+"][filename]",a.filename),a.rotate&&t.params.append("files["+r+"][rotate]",a.rotate),a.password&&t.params.append("files["+r+"][password]",a.password),a.pages&&t.params.append("files["+r+"][pages]",a.pages),a.elementArray&&h.FormDataHelper.buildFormData(t.params,a.elementArray,"files["+r+"][elementArray]"),a.processed&&t.params.append("files["+r+"][processed]",a.processed),r++}return this.processCount++,0==t.filesUploaded.length?(c.configureScope(function(n){n.setExtra("files",t.filesUploaded),n.setExtra("tool",t.subtool),n.setExtra("count",e.processCount)}),c.captureMessage("Process without files"),new Promise(function(e,t){t({status:400,error:{type:"DamagedFile"}})})):this.api.process(t.params)},t.prototype.showProcess=function(){"error"!=this.status&&(e("body").addClass("process-run"),e(".uploading").hide(),e(".process").css("display","flex").show(),setTimeout(function(){e("#waitnotify").html(l.Lang.t("waitnotify")),e("#waitnotify").show()},1e4))},t.prototype.showUpload=function(){if(1!=this.processStarted){if("error"==this.status)return this.stop(),!0;var t=this;e("body").addClass("process-run"),e(".process").hide(),e(".uploading").css("display","flex").hide().fadeIn();var n=l.Lang.t("Uploading...");!0!==this.uploadShowStarted&&(e(".uploading__status__title.drive").hide(),e(".uploading__status__title.dropbox").hide(),e(".uploading__status__title.user").hide(),e(".uploading__bar").hide(),e(".uploading__status__percent").hide(),this.uploadShowStarted=!0),t.uploadInterval=setInterval(function(){var i=0,r=0,o=0,a=0,s=0,c=0,d=0,p=0,f=0,h=!0;if("error"==t.status&&t.stop(),t.checkFatalError(),e.each(t.files.files,function(t,l){!(l.percent<100)&&"server_filename"in l||!0===l.error||(h=!1,"drive"==l.service&&!1,"dropbox"==l.service?!1:!1),100==l.percent&&r++,c++,"drive"==l.service?(p++,100==l.percent&&a++):"dropbox"==l.service?(f++,100==l.percent&&s++):(d++,100==l.percent?o++:l.percent>0&&l.percent<100&&"html5"==l.runtime?(n=l.name+" ("+u.Tools.bytesToSize(l.size)+")",e("#upload_"+l.id).addClass("uploading__files__item--active")):e("#upload_"+l.id).removeClass("uploading__files__item--active"),l.loaded,l.size,i+=l.percent)}),e(".uploading__status__percent__value").html(parseInt((i/d).toString())+"%"),e(".uploading__bar__completed").css("width",i/d+"%"),e(".uploading__status__file").html(n),e(".uploading__status__total").html(d.toString()),d>0?(e(".uploading__status__title.user").show(),e(".uploading__bar").show(),e(".uploading__bar--small").hide(),e(".uploading__status__percent").show()):(e(".uploading__status__file").hide(),e(".uploading__status__info").hide()),p>0&&e(".uploading__status__title.drive").show(),f>0&&e(".uploading__status__title.dropbox").show(),o==d&&(e(".uploading__status__file").html(l.Lang.t("uploadComplete")),e(".uploading__bar").hide(),e(".uploading__status__percent").hide()),a==p&&p>0&&e(".uploading__status__title.drive").addClass("done").html("<strong>Google Drive:</strong> "+l.Lang.t("uploadComplete")),s==f&&p>0&&e(".uploading__status__title.dropbox").addClass("done").html("<strong>Dropbox:</strong> "+l.Lang.t("uploadComplete")),e(".uploading__status__title").removeClass("last"),e(".uploading__status__title:visible:last").addClass("last"),r==c&&h&&"error"!=t.status)clearInterval(t.uploadInterval),window.setTimeout(function(){t.process()},200);else{var g=Math.min(o+1,d);e(".uploading__status__current").html(g.toString())}},100)}},t.prototype.goDownload=function(e){1!=this.stopGoDownload&&(window.location.href=this.downloadUrl+"/"+this.taskId+"/"+this.getWorkerNumber())},t.prototype.getWorkerNumber=function(){return this.workerServer.split(".")[0].replace(/^\D+/g,"")},t.prototype.goProblem=function(e){void 0===e&&(e=null);var t="/problem/"+this.tool+"/"+this.taskId+"/"+this.getWorkerNumber();"en-US"!=window.lang&&(t="/"+window.lang+t),null!==e&&("string"==typeof e?t=t+"/"+e:e.error&&"string"==typeof e.error?t=t+"/"+e.error:t+="/ServerError"),1!=this.stopGoProblem&&(window.location.href=t)},t.prototype.askForPassword=function(t){var n=this,i=[];return e.each(t,function(e,t){"WrongPassword"==t.error&&i.push(n.files.getFileByServerFilename(t.server_filename))}),new Promise(function(t,r){e("#process").hide(),0==e("#passwordAsk").length&&(e(d.OptionsTemplate.askPassword()).insertAfter(e("#process")),n.files.files.length>1?e("#ignorePwdFiles").show():e("#ignorePwdFiles").hide(),"unlock"==n.tool&&e("#useUnlock").hide(),e(".passwords").append(e(d.OptionsTemplate.askPasswordField({id:"all",server_filename:""}))),e("#pwd-all").hide(),e("#allPwd").on("change",function(){1==e("#allPwd").is(":checked")?(e(".password").hide(),e("#pwd-all").show()):(e(".password").show(),e("#pwd-all").hide())})),e("#pwdSend").unbind("click").on("click",function(){var i=null;1==e("#allPwd").is(":checked")&&(i=e("#pwd-all input").val());var r=!0;e.each(n.files.files,function(t,o){var a=null==i?e("#pwd-"+o.id+" input").val():i;if(""==a)return r=!1,e("#pwd-"+o.id+" input").focus(),window.Toastr.error(l.Lang.t("passwordRequiredFor",{filename:o.name}),l.Lang.t("paswordRequired"),{timeOut:5e3,positionClass:"toast-top-left"}),!1;n.files.updateFile(o.id,{password:a})}),!0===r&&(e("#passwordAsk").hide(),t({}))}),e("#pwdCancel").unbind("click").on("click",function(){e.each(i,function(t,i){n.files.removeFile(i.id),e("#pwd-"+i.id).remove()}),e("#passwordAsk").hide(),r()}),e("#pwdIgnore").unbind("click").on("click",function(){e("#passwordAsk").hide(),r()}),e("#passwordAsk .passwordInput").hide(),e(".password").hide(),e.each(i,function(t,n){0==e("#pwd-"+n.id).length&&(e(".passwords").append(e(d.OptionsTemplate.askPasswordField({id:n.id,server_filename:n.name}))),e("#pwd-"+n.id+" .showPassword").on("click",function(t){t.preventDefault(),e(".password input").attr("type","text"==e(".password input").attr("type")?"password":"text")})),e("#pwd-"+n.id).show()}),i.length<2&&e("#allPwd").parent().parent().hide(),e("#passwordAsk").show(),setTimeout(function(){e("#passwordAsk input:visible:first").focus()},1e3),0==n.askedPassword&&(n.askedPassword=!0,window.ev("send","event","password","ask",n.subtool))})},t.prototype.fatalError=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),"ConnectionError"!=e&&p.IloveError.fatalError(e,this.tool,this.workerServer,t,n)},t.prototype.removeFile=function(e){var t=this.files.getFile(e);if(null==t)return new Promise(function(e,t){e({})});var n=t.server_filename,i=t.status;return this.files.removeFile(t.id),5!=i?new Promise(function(e,t){e({})}):this.api.removeFile(n)},t.prototype.addIgnoredFile=function(e){this.ignoredFiles.push(e)},t.prototype.getIgnoredFiles=function(){return this.ignoredFiles},t.prototype.isIgnored=function(e){return-1!=this.ignoredFiles.indexOf(e)},t.prototype.deleteIgnored=function(e){var t=this.ignoredFiles.indexOf(e);-1!==t&&this.ignoredFiles.splice(t,1)},t.prototype.stop=function(){clearInterval(this.uploadInterval)},t.prototype.checkFatalError=function(){if("error"==this.status)return this.stop(),!0;var t=this;if(0==this.files.files.length)return this.fatalError({error:"NoFiles"}),this.status="error",this.stop(),!0;try{e.each(t.files.files,function(e,n){if("errorData"in n)throw t.fatalError(n.errorData,n.name,"error data on task"),n.errorData})}catch(e){return t.status="error",t.stop(),!0}if(1==t.files.files.length&&!0===t.files.files[0].error)return t.status="error",t.fatalError(t.files.files[0].errorData,t.files.files[0].name,"error field on task"),t.stop(),!0;try{e.each(t.files.files,function(e,n){if("FileRemoved"==n.errorData)throw t.fatalError(n.errorData,n.name,"file removed on task"),n.errorData})}catch(e){return t.stop(),t.status="error",!0}if("merge"==this.tool)try{e.each(t.files.files,function(e,n){if("errorData"in n)throw t.fatalError(n.errorData,n.name,"error data on task, merge tool"),n.errorData})}catch(e){return t.status="error",t.stop(),!0}return!1},t}();t.Process=y}).call(this,n(1))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmFilesProcessContext=void 0;var o=n(55),a=n(222),s=n(9),l=function(e){function t(t){var n=e.call(this,t)||this;return n.contentName="ConfirmFilesProcessContext",n.triggerReason="triggerReason"in t?t.triggerReason:void 0,n.limits="limits"in t?t.limits:void 0,n.premiumFeatureName="premiumFeatureName"in t?t.premiumFeatureName:void 0,n.tool=t.tool,n}return r(t,e),t.prototype.getInitialState=function(){return new a.DefaultState},t.prototype.remove=function(){var e=this.getState();e._cleanup(),e.dispatchEvent(new s.IloveEvent("end",{unload:!0}))},t}(o.ContextBase);t.ConfirmFilesProcessContext=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultState=void 0;var a=n(19),s=n(9),l=o(n(59)),c=n(79),u=n(18),d=n(38),p=n(13),f=n(72),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="DefaultState",t.LAYOUT_TEMPLATE_NAME="confirm-files",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.getInitialScreen()),t.clearLoadingScreen(),t.init()},t._onYesButtonClick=function(e){if(e.preventDefault(),u.UserModel.isRealPremium())t.dispatchEvent(new s.IloveEvent("end"));else{var n=new l.default({dialogName:"becomePremium"});n.setContentBuilder(function(){return new c.PremiumContext({tool:t.ctx.tool,triggerReason:t.ctx.triggerReason,limits:t.ctx.limits})}),n.show(),n.addEventListener("closed",function(){u.UserModel.isPremium()&&(window.ev("sendOnce","event","limits","premium",t.ctx.tool+"-"+t.ctx.triggerReason),t._cleanup(),t.dispatchEvent(new s.IloveEvent("end")))})}},t._onNoButtonClick=function(e){if(e.preventDefault(),!1===t.ctx.limits.canContinueWithoutPremium())return window.ev("sendOnce","event","limits","cancel",t.ctx.tool+"-"+t.ctx.triggerReason),void window.location.reload();window.ev("sendOnce","event","limits","free",t.ctx.tool+"-"+t.ctx.triggerReason),t._cleanup(),t.dispatchEvent(new s.IloveEvent("end"))},t}return r(t,e),t.prototype.getInitialScreen=function(){return this.INITIAL_SCREEN},t.prototype.init=function(){this.setTexts(),this.showCorrectImage(),window.ev("sendOnce","event","limits","show",this.ctx.limits.getTool());var e=this.actionAllFilesYesBtn;if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("click",this._onYesButtonClick);var n=this.actionAllFilesNoBtn;if(n&&n.length>0)for(var i=0;i<n.length;i++)n[i].addEventListener("click",this._onNoButtonClick);this.initActions()},t.prototype.showFilesToRemove=function(){var e=this.ctx.limits.getLimitedFilenames();this.domRoot.querySelector("#confirmFiles").innerHTML=e.join("<br>")},t.prototype.showCorrectImage=function(){var e=this.domRoot.querySelector(".ocr__icon img"),t="limit";switch(this.ctx.triggerReason){case f.REASON.ERROR_FILES:t="files";break;case f.REASON.ERROR_SIZE:t="size";break;case f.REASON.ERROR_PAGES:t="pages"}e.src=e.src.replace("limit.svg",t+".svg")},Object.defineProperty(t.prototype,"actionAllFilesYesBtn",{get:function(){return this.domStateRoot.querySelectorAll("[next-from-confirm-files-yes]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionAllFilesNoBtn",{get:function(){return this.domStateRoot.querySelectorAll("[next-from-confirm-files-no]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskLimits",{get:function(){var e;return this.currentLimits&&this.premiumLimits||(e=[this.ctx.limits.fileLimits[this.ctx.tool],this.ctx.limits.allFileLimits.premium_limits[this.ctx.tool]],this.currentLimits=e[0],this.premiumLimits=e[1]),[this.currentLimits,this.premiumLimits]},enumerable:!1,configurable:!0}),t.prototype.setTexts=function(){var e,t,n,i,r,o,a,s,l,c,u=this.domRoot.querySelector("#confirmTitle"),d=this.domRoot.querySelector("#confirmCurrent"),h=this.domRoot.querySelector("#confirmPremium"),g=this.domRoot.querySelector(".limit-slide__slide__current"),m=this.domRoot.querySelector("#confirmRemove"),v=this.domRoot.querySelector("#confirmLimit"),y=this.domRoot.querySelector("#confirmUse"),_=this.domRoot.querySelector("[next-from-confirm-files-no]"),b=this.domRoot.querySelector("[next-from-confirm-files-yes]"),w=this.ctx.limits.canContinueWithoutPremium();switch(t=(e=this.taskLimits)[0],n=e[1],this.ctx.triggerReason){case f.REASON.ERROR_FILES:if(!this.ctx.limits)throw"Limits object is needed to translate text";i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_title"]').innerHTML,u.innerHTML=p.Lang.tr(i,{n:t.files}),c=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_added"]').innerHTML,g.setAttribute("data-title",p.Lang.tr(c,{n:this.ctx.limits.files.countNotIgnored()})),o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_premium"]').innerHTML,h.innerHTML=p.Lang.tr(o,{n:n.files}),r=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_premium"]').innerHTML,d.innerHTML=p.Lang.tr(r,{n:t.files}),0==w&&(a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_cancel"]').innerHTML,m.innerHTML=p.Lang.tr(a,{n:n.files}));break;case f.REASON.ERROR_SIZE:if(!this.ctx.limits)throw"Limits object is needed to translate text";var E=t.mb,x=Math.round(100*E/1e3)/100,S=n.mb,k=Math.round(100*S/1e3)/100,O=Math.round(100*this.ctx.limits.files.getFileSizeNotIgnored()/1024/1024)/100,T=Math.round(100*O/1e3)/100;E<1e3?(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_title"]').innerHTML,u.innerHTML=p.Lang.tr(i,{n:E})):(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_title"]').innerHTML,u.innerHTML=p.Lang.tr(i,{n:x})),O<1e3?(c=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_added"]').innerHTML,g.setAttribute("data-title",p.Lang.tr(c,{n:O}))):(c=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_added"]').innerHTML,g.setAttribute("data-title",p.Lang.tr(c,{n:T}))),S<1e3?(o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_premium"]').innerHTML,h.innerHTML=p.Lang.tr(o,{n:S})):(o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_premium"]').innerHTML,h.innerHTML=p.Lang.tr(o,{n:k})),E<1e3?(r=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_current"]').innerHTML,d.innerHTML=p.Lang.tr(r,{n:E})):(r=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_current"]').innerHTML,d.innerHTML=p.Lang.tr(r,{n:x})),0==w&&(S<1e3?(a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_cancel"]').innerHTML,m.innerHTML=p.Lang.tr(a,{n:S})):(a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_cancel"]').innerHTML,m.innerHTML=p.Lang.tr(a,{n:k})));break;case f.REASON.ERROR_PAGES:if(!this.ctx.limits)throw"Limits object is needed to translate text";i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_title"]').innerHTML,u.innerHTML=p.Lang.tr(i,{n:t.pages}),c=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_added"]').innerHTML,g.setAttribute("data-title",p.Lang.tr(c,{n:this.ctx.limits.files.getFilePagesNotIgnored()})),o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_premium"]').innerHTML,h.innerHTML=p.Lang.tr(o,{n:n.pages}),r=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_current"]').innerHTML,d.innerHTML=p.Lang.tr(r,{n:t.pages}),0==w&&(a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_cancel"]').innerHTML,m.innerHTML=p.Lang.tr(a,{n:n.pages}))}if(s=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_limit"]').innerHTML,v.innerHTML=p.Lang.tr(s,{n:this.ctx.limits.files.countNotLimited()}),l=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_use"]').innerHTML,y.innerHTML=p.Lang.tr(l,{n:this.ctx.limits.files.countNotIgnored()}),0==w)_.innerHTML=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_cancel"]').innerHTML,b.querySelector("#confirmUse").remove(),this.initAllFeaturesTooltip(this.domRoot);else{a=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_remove"]').innerHTML,m.innerHTML=p.Lang.tr(a,{n:this.ctx.limits.getLimitedFiles().length});var C=m.querySelector("span");C&&C.setAttribute("title",this.getFilesToRemove())}},Object.defineProperty(t.prototype,"limitSilder",{get:function(){return this.domRoot.querySelector(".limit-slide__slide__free")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addedSilder",{get:function(){return this.domRoot.querySelector(".limit-slide__slide__current")},enumerable:!1,configurable:!0}),t.prototype.initActions=function(){var e,t,n,i,r,o,a=this;switch(t=(e=this.taskLimits)[0],n=e[1],this.ctx.triggerReason){case f.REASON.ERROR_FILES:i=t.files,r=this.ctx.limits.files.countNotIgnored(),o=n.files;break;case f.REASON.ERROR_SIZE:i=t.mb,r=this.ctx.limits.files.getFileSizeNotIgnored(),o=1024*n.mb*1024;break;case f.REASON.ERROR_PAGES:i=t.pages,r=this.ctx.limits.files.getFilePagesNotIgnored(),o=n.pages}var s=100*i/o,l=100*r/o;s<3&&(s=3),l<4&&(l=4),this.sliderTimeout=window.setTimeout(function(){a.limitSilder.style.width=s+"%";var e=a.addedSilder;document.body.classList.contains("rtl")?e.style.right=l+"%":e.style.left=l+"%",e.classList.add("tooltip"),a.sliderTooltipTimeout=window.setTimeout(function(){d.Tooltip.init()},1e3)},200)},t.prototype._cleanup=function(){var e,t,n=this.addedSilder;window.clearTimeout(this.sliderTimeout),window.clearTimeout(this.sliderTooltipTimeout),n&&(null===(t=null===(e=n)||void 0===e?void 0:e._tippy)||void 0===t||t.destroy(),n.classList.remove("tooltip"))},t.prototype.getFilesToRemove=function(){var e=this.ctx.limits.getLimitedFilenames();return e.slice(0,5).join("<br>")+(e.length>5?"<br>...":"")},t.prototype.initAllFeaturesTooltip=function(e){var t=this;if(!this.tooltipRoot&&(this.tooltipRoot=e.querySelector(".new-premium__all-features-tooltip"),this.tooltipRoot)){var n=e.querySelector(".new-premium__all-features-tooltip__html-template");n&&(this.tooltipRoot.classList.add("tooltip"),window.setTimeout(function(){window.tippy(t.tooltipRoot,{allowHTML:!0,theme:"light new-premium-all-features-tooltip",content:n.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0,zIndex:99999})},1e3))}},t}(a.StateBase);t.DefaultState=h},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.UploadManager=void 0;var i=n(224),r=n(225),o=n(126),a=n(38),s=n(226),l=function(){function t(e){this.id="pickfiles",this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.servers=null,Object.assign(this,e),this.plupload=null,this.drive=null,this.dropbox=null,this.firstFile=!1,this.init()}return t.prototype.init=function(){this.plupload=new o.PluploadUpload({id:this.id,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.token,tool:this.tool,taskId:this.taskId,servers:this.servers,haveDrop:!0,dropElement:"workArea"}),window.pluploader=this.plupload,this.drive=new i.DriveUpload({id:"gdrive_file_selector",optionsManager:this.optionsManager,processManager:this.processManager,config:this.config}),this.dropbox=new r.DropboxUpload({id:"dropbox_file_selector",optionsManager:this.optionsManager,processManager:this.processManager,config:this.config}),this.ws=new s.WsUpload({optionsManager:this.optionsManager});var t=this;e("#pickfiles").on("click",function(){t.firstClick()}),a.Tooltip.disable("#pickfiles"),e("#gdrive_file_selector").on("click",function(){t.firstClick()}),e("#dropbox_file_selector").on("click",function(){t.firstClick()})},t.prototype.firstClick=function(){if("pickfiles"==this.id){0==this.firstFile&&(this.firstFile=!0)}},t}();t.UploadManager=l}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DriveUpload=void 0;var l=n(159),c=s(n(24)),u=150,d=function(t){function n(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.optionsManager=null,n.processManager=null,n.pickerApiLoaded=!1,n.oauthToken=null,n.userEmail=null,n.id=null,n.config=null,Object.assign(n,e),n.src="//apis.google.com/js/client.js",n.start(),n}return r(n,t),n.prototype.getUploadParams=function(e){return{task:this.processManager.taskId,google_email:this.userEmail,cloud_source:"drive",cloud_file:e.id,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0}},n.prototype.drive=function(){var t=this,n=this.config.getConfig("mimeTypes");function i(){window.gapi.auth2.authorize({client_id:t.clientId,scope:t.scope,fetch_basic_profile:!1,immediate:!1},a)}function r(){1==t.preloadSrc?document.getElementById(t.id).addEventListener("click",i):(document.getElementById(t.id).removeEventListener("click",t.init),document.getElementById(t.id).addEventListener("click",i),i())}function o(){t.pickerApiLoaded=!0,s()}function a(e){e&&!e.error&&(t.oauthToken=e.access_token,window.gapi.client.load("oauth2","v2",function(){window.gapi.client.oauth2.userinfo.get().execute(function(e){t.userEmail=e.email})}),s())}function s(){if(t.pickerApiLoaded&&t.oauthToken){var e=window.google.picker.ViewId.DOCS;if("Pdf files"==n[0].title)e=window.google.picker.ViewId.PDFS;else if("Word files"==n[0].title)e=window.google.picker.ViewId.DOCUMENTS;else if("Excel files"==n[0].title)e=window.google.picker.ViewId.SPREADSHEETS;else if("Powerpoint files"==n[0].title)e=window.google.picker.ViewId.PRESENTATIONS;else if("Image files"==n[0].title)e=window.google.picker.ViewId.DOCS_IMAGES;else if(void 0!=n[0].mime){new window.google.picker.View(window.google.picker.ViewId.DOCS).setMimeTypes(n[0].mime)}(new window.google.picker.PickerBuilder).enableFeature(window.google.picker.Feature.NAV_HIDDEN).enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED).addView(e).setOAuthToken(t.oauthToken).setDeveloperKey(t.developerKey).setCallback(l).build().setVisible(!0)}}function l(n){if(n[window.google.picker.Response.ACTION]==window.google.picker.Action.PICKED)for(var i=n[window.google.picker.Response.DOCUMENTS],r=!1,o=function(i){n[window.google.picker.Response.DOCUMENTS].length;var o,a=n[window.google.picker.Response.DOCUMENTS][i];a[window.google.picker.Document.URL],a[window.google.picker.Document.NAME],o=a[window.google.picker.Document.ID],window.setTimeout(function(){if(!r){var n=window.gapi.client.newBatch(),i=function(e){return window.gapi.client.request({path:"/drive/v2/files/"+e,method:"GET"})}(o);n.add(i),n.then(function(n,i){(n.status=200)&&e.each(n.result,function(e,n){200==n.status&&t.fileAdded(n.result).then(function(){t.uploadFile(n.result,0)},function(e){t.optionsManager.removeFile(n.result.id),r=!0})})},function(e){})}},u*i)},a=0;a<i.length;a++)o(a)}window.gapi.load("auth2",r),window.gapi.load("picker",o)},n.prototype.fileAdded=function(e){e.runtime="html5",e.percent=0,e.service="drive",e.origin="drive",e.name=e.title,e.filename=e.title,e.uri=this.URL_API+"files/"+e.id+"?alt=media",e.uri=e.uri,e.url=e.thumbnailLink,e.size=e.fileSize,e.token=this.oauthToken,e.canvasId=e.id;try{e.width=e.imageMediaMetadata.width,e.height=e.imageMediaMetadata.height}catch(e){}if(e.mimeType)switch(e.mimeType){case"application/vnd.google-apps.document":e.extension="docx";break;case"application/vnd.google-apps.presentation":e.extension="pptx";break;case"application/vnd.google-apps.spreadsheet":e.extension="xlsx"}this.optionsManager.files.addFile(e);var t=this.optionsManager.checkLimits([e],"drive");return t.length>0?this.optionsManager.fileAdded(t[0],"drive"):Promise.reject()},n.prototype.uploadFile=function(e,t){var n=this;void 0===t&&(t=0);var i=this,r=500*t;window.setTimeout(function(){n.processManager.api.request("POST","upload",i.getUploadParams(e)).then(function(t){i.processManager.files.updateFile(e.id,{process:100,percent:100,server_filename:t.server_filename}),i.optionsManager.fileUploaded(e.id,t)},function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}t.email=i.userEmail,t.file=e.id,e.error=!0,i.processManager.files.updateFile(e.id,{process:0,percent:0,error:!0}),i.optionsManager.invalidUpload({error:"CloudError",file:{id:e.id}}),c.configureScope(function(e){e.setExtra("error",t)}),c.captureMessage("Upload from drive error"),i.optionsManager.invalidUpload(t)})},r)},n.prototype.downloadFile=function(e){var t=this;return new Promise(function(n,i){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onload=function(){if(200===r.status){var e=r.response;n(e)}},r.onprogress=function(e){e.loaded,e.total},r.open("GET",t.URL_API+"files/"+e.id+"?alt=media"),r.setRequestHeader("Authorization","Bearer "+t.oauthToken),r.send()})},n}(l.DriveService);t.DriveUpload=d}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DropboxUpload=void 0;var l=n(160),c=s(n(24)),u=function(t){function n(n){void 0===n&&(n={});var i=t.call(this,n)||this;return i.dropbox=function(){var t=i,n=i.config.getConfig("mimeTypes")[0].extensions.split(","),r=[];e.each(n,function(e,t){r.push("."+t)}),window.Dropbox.choose({success:function(n){e.each(n,function(e,n){t.fileAdded(n),t.uploadFile(n)})},cancel:function(){},error:function(e){c.configureScope(function(t){t.setExtra("error",e)}),c.captureMessage("Dropbox upload error")},linkType:"direct",multiselect:!0,extensions:r})},i.optionsManager=null,i.processManager=null,i.id=null,i.config=null,Object.assign(i,n),i.start(),i}return r(n,t),n.prototype.fileAdded=function(e){e.id=e.id.replace(":",""),e.runtime="html5",e.percent=0,e.service="dropbox",e.url=e.link,e.size=e.bytes,e.canvasId=e.id,e.filename=e.name,e.origin="dropbox",this.optionsManager.files.addFile(e),this.optionsManager.checkLimits([],""),this.optionsManager.fileAdded(e,"dropbox")},n.prototype.getUploadParams=function(e){return{task:this.processManager.taskId,cloud_source:"dropbox",cloud_file:e.link,dropbox_link:e.link,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0}},n.prototype.uploadFile=function(e){var t=this;this.processManager.api.request("POST","upload",this.getUploadParams(e)).then(function(n){t.processManager.files.updateFile(e.id,{process:100,percent:100,server_filename:n.server_filename}),t.optionsManager.fileUploaded(e.id,n)},function(n){e.error=!0,t.processManager.files.updateFile(e.id,{process:0,percent:0,error:!0}),t.optionsManager.invalidUpload({error:"CloudError",file:{id:e.id}}),c.configureScope(function(e){e.setExtra("error",JSON.parse(n))}),c.captureMessage("Upload from dropbox error")})},n}(l.DropboxService);t.DropboxUpload=u}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WsUpload=void 0;var i=function(){function e(e){var t=e.optionsManager;this.optionsManager=t}return e.prototype.fileArrayAdded=function(e){var t=this;e.forEach(function(e){e.id=t.escape(e.id),e.canvasId=e.id,t.optionsManager.files.getFile(e.id)||(t.optionsManager.files.addFile(e),t.optionsManager.fileAdded(e,"WebSocket"))})},e.prototype.fileRemoved=function(e){e=this.escape(e),this.optionsManager.removeFile(e),this.optionsManager.fileRemoved(e)},e.prototype.fileUploaded=function(e,t){e=this.escape(e),this.optionsManager.files.updateFile(e,{server_filename:t,percent:100}),this.optionsManager.fileChanged(e)},e.prototype.fileProgressUpdated=function(e,t){e=this.escape(e),this.optionsManager.files.updateFile(e,{percent:t}),this.optionsManager.fileChanged(e)},e.prototype.escape=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n];t+=Number(i.charCodeAt(0)).toString(36)}return"str"+t},e}();t.WsUpload=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Network=void 0;var n=function(){function t(){}return t.checkNetwork=function(){var n=navigator.onLine;window.setInterval(function(){navigator.onLine?0==n&&(n=!0,t.hideNetworkAlert()):1==n&&(n=!1,t.showNetworkAlert(),e("#uploadSpeed").html("0 KB/s"),e("#timeLeft").html("&infin;"))},1e3)},t.showNetworkAlert=function(){e("#network").css("display","flex").hide().fadeIn()},t.hideNetworkAlert=function(){e("#network").fadeOut()},t.waitForConnection=function(e){void 0===e&&(e=null);var t=0;return new Promise(function(n,i){var r=window.setInterval(function(){navigator.onLine&&(window.clearInterval(r),n()),null!=e&&(t+=1e3)>=e&&(window.clearInterval(r),i())},1e3)})},t}();t.Network=n}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var n=function(){function t(){}return t.init=function(){e(document).on({"show.bs.modal":function(){var t=1050;e(".modal:visible, .dialog:visible").each(function(n,i){t=Math.max(t,parseInt(e(i).css("z-index"))+10)}),e(this).css("z-index",t),setTimeout(function(){e(".modal-backdrop").not(".modal-stack").css("z-index",t-1).addClass("modal-stack")},0)},"hidden.bs.modal":function(){e(".modal:visible, .dialog:visible").length>0&&setTimeout(function(){e(document.body).addClass("modal-open")},0)}},".modal")},t}();t.Modal=n}).call(this,n(1))},function(e){e.exports=JSON.parse('{"default":{"mimeTypes":[{"title":"All files"}],"multiSelection":true}}')},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsManager=void 0;var s=n(198),l=n(72),c=n(13),u=n(38),d=o(n(24)),p=n(14),f=n(30),h=n(18),g=n(199),m=n(81),v=n(93),y=n(231),_=n(79),b=n(118),w=a(n(59)),E=a(n(61)),x=function(){function t(t){var n;void 0===t&&(t={}),this.backCount=0,this.forwardCount=0,this.backRefreshInterval=null,this._BACKREFRESH_TIME=3e5,this.limitDialogOpen=null,this.config={},this.processManager=null,this.tool=null,this.subtool=null,this.toolText="Process",this.template=null,this.defaultOptions={},this.fileLimits=null,this.allFileLimits=null,this.level="user",this.userToken=null,this.workerServer=null,this.startServer=null,this.hideRotation=!1,this.levelTemp="user",this.options={},this.values={},this.files=null,this.started=!1,this.workareaStarted=!1,this.viewManager=null,this.limits=null,this.ignoreLimits=!1,this.damagedRemove=!1,this.hideProblemForm=!1,this.premiumTask=!1,this.processBtnPulseTimeout=7e3,this.showFileGroups=!0,this.processBlock=!1,this.checkServerStatusOnStart=!1,Object.assign(this,t),null==this.subtool&&(this.subtool=this.tool),null==this.toolText&&(this.toolText=this.tool),this.limits=new l.Limits({files:this.files,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,tool:this.tool,subtool:this.subtool}),this.removedFiles=0,window.processStart=!1,window.iuser=h.UserModel,m.LinkTitle.disable(e("#pickfiles")),this.tryInitByParent(),this.removeFilesOnLimitReatched="b"==((null===(n=window.ab)||void 0===n?void 0:n.limits)?window.ab.limits:"a"),this.checkBackRefresh()}return t.prototype.tryInitByParent=function(){var t=this;this.files.files.length>0&&(this.init(),e.each(this.files.files,function(e,n){t.fileAdded(n,"parent").then(function(){},function(){})}))},t.prototype.init=function(){!0!==this.started&&(this.processManager.hideProblemForm=this.hideProblemForm,e("#sidebar").prepend(this.getInnactiveView()),this.startPanels(),this.started=!0),this.initViewManager()},t.prototype.initViewManager=function(){},t.prototype.checkLimits=function(e,t){var n=this.getLimit();return this.actionLimitReatched(n),null===n||1!=this.limits.hasSurpasedLimits(n)&&1!=this.removeFilesOnLimitReatched||(e=this.removeLimitFiles(e,!0)),e},t.prototype.getLimit=function(){return this.limits.checkFileLimits(this.files.getFileSizeNotIgnored(),this.files.countNotIgnored(),this.files.getFilePagesNotIgnored())},t.prototype.actionLimitReatched=function(e,t){var n=this;if(void 0===t&&(t=!1),null!==e){this.setLimitedFiles();var i=this.limits.hasSurpasedLimits(e);t||!this.alertElement||i||!0===this.removeFilesOnLimitReatched?null!=this.limitDialogOpen&&!0!==this.removeFilesOnLimitReatched?this.displayLimitsAlert():(this.limitDialogOpen=this.displayLimitsDialog(e),this.limitDialogOpen&&this.limitDialogOpen.addEventListener("closed",function(e){if(h.UserModel.isRealPremium())n.files.resetLimitedFiles(),n.hideLimitsAlert(),n.limits.sendEventLimitsChanged();else{var t=n.getLimit();null==t||n.limits.hasSurpasedLimits(t)?(n.limits.sendEventLimitsChanged(),n.hideLimitsAlert()):n.displayLimitsAlert()}n.limitDialogOpen=null})):this.displayLimitsAlert()}else this.files.resetLimitedFiles(),this.hideLimitsAlert()},Object.defineProperty(t.prototype,"alertElementId",{get:function(){return"limitAlert"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alertElement",{get:function(){return document.getElementById(this.alertElementId)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alertElementHeader",{get:function(){return document.querySelector("#"+this.alertElementId+" .limit-alert__header")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alertElementContent",{get:function(){return document.querySelector("#"+this.alertElementId+" .limit-alert__content")},enumerable:!1,configurable:!0}),t.prototype.displayLimitsAlert=function(){var e=this,t=this.alertElement,n=this.alertElementHeader,i=this.alertElementContent;t||((t=document.createElement("div")).id=this.alertElementId,t.classList.add("limit-alert"),(n=document.createElement("div")).classList.add("limit-alert__header"),(i=document.createElement("div")).classList.add("limit-alert__content"),i.innerHTML=n.innerHTML=c.Lang.t("upgradePremium"),t.appendChild(n),t.appendChild(i),t.addEventListener("click",function(){e.actionLimitReatched(e.getLimit(),!0)}),document.getElementById("workArea").appendChild(t));var r=this.limits.getLimitTexts();i.innerHTML="<div>"+r.current+"</div><div>"+r.premium+"</div>",t.style.display="block",t.classList.add("limit-alert--"+r.limit)},t.prototype.hideLimitsAlert=function(){this.alertElement&&(this.alertElement.style.display="none",this.limits.resetEventSent())},t.prototype.displayLimitsDialog=function(t,n){var i=this;void 0===n&&(n=!1);var r=this.limits.getNextLimit(t),o=n||!1===r.nextValue,a=null,s=b.Dialog.getVisibleDialogs().find(function(e){return"PremiumContext"===e.getContent().contentName||"NoMoreLimitsContext"===e.getContent().contentName});if(t===l.REASON.ERROR_FEATURE){if(s)return;a=function(){return new _.PremiumContext({tool:i.limits.getTool(),limits:i.limits,triggerReason:t})}}else if(o)a=function(){return new y.NoMoreLimitsContext({tool:i.limits.getTool(),limits:i.limits,triggerReason:t})};else{if(s)return;a=function(){return new _.PremiumContext({tool:i.limits.getTool(),limits:i.limits,triggerReason:t})}}var c=new w.default({dialogName:"Limits"});return c.setContentBuilder(a),c.show(),e("#pickfiles").addClass("limitsShow"),c},t.prototype.removeLimitFiles=function(e,t){void 0===t&&(t=!1);var n=this.limits.checkFileLimits(this.files.getFileSizeNotIgnored(),this.files.countNotIgnored()),i=this.limits.hasSurpasedLimits(n);if(null!==n&&(1==t&&1==i||1==this.removeFilesOnLimitReatched)){var r=e.pop();try{r&&([].push(r.id),this.files.removeFile(r.id,!0))}catch(e){}if(e.length>0)try{e=this.removeLimitFiles(e,t)}catch(e){}}return e},t.prototype.setLimitedFiles=function(){this.limits.setFileLimits()},t.prototype.fileAdded=function(t,n,i){var r=this;void 0===i&&(i=!1);var o=this;return t.name&&(t.name=v.TextHelper.stripTags(t.name).replace('"',"")),t.filename&&(t.filename=v.TextHelper.stripTags(t.filename).replace('"',"")),new Promise(function(n,a){1==i&&(o.limits.addIgnoredFile(t.id),o.processManager.addIgnoredFile(t.id),o.files.updateFile(t.id,{ignored:!0}));var s=o.limits.checkFileLimits(o.files.getFileSizeNotIgnored(),o.files.countNotIgnored(),o.files.getFilePagesNotIgnored());null!==s&&(o.limits.setFileLimits(),r.alertElement&&0==r.limits.hasSurpasedLimits(s)?r.displayLimitsAlert():r.displayLimitsDialog(s),o.setFilecount()),o.makeWorkarea().then(function(){var r=null;"function"==typeof t.getSource&&(r=t.getSource().getSource());var s={name:t.name,id:t.id,canvasId:t.canvasId,tool:o.tool,subtool:o.subtool,size:t.size,source:r,url:t.url,uri:t.uri,token:t.token,runtime:t.runtime,service:t.service,thumbnail:t.thumbnail};t.extension&&(s.name+="."+t.extension),0==o.config.getConfig("multiSelection")&&e("#uploader").hide(),o.viewManager.addFileDOM(s).then(function(e){o.setValue("numPages",e.numPages),o.printValues("numPages",e.numPages),o.setValue("width",e.width),o.printValues("height",e.height),o.fileReady(t),1!=i&&o.setFilecount(),o.initFileNameEditable(t.id),u.Tooltip.init(),n()},function(i){"PasswordException"==i.name?(e("#"+t.id).attr("title",c.Lang.t("paswordRequired")).attr("data-title",c.Lang.t("paswordRequired")),u.Tooltip.setContent(e("#"+t.id),c.Lang.t("paswordRequired"))):(e("#"+t.id).attr("title",c.Lang.t("damaged file?")).attr("data-title",c.Lang.t("damaged file?")),u.Tooltip.setContent(e("#"+t.id),c.Lang.t("damaged file?"))),e("#"+t.id+" .file__info__size").hide(),u.Tooltip.init();try{if("removeFile"==i.name)return void a()}catch(i){}if("function"==typeof o.damagedAction&&o.damagedAction(),1==o.damagedRemove)return o.fileAddError(t.id),void a();o.setFilecount(),u.Tooltip.init(e("#"+t.id+" .remove")),"noRenderMode"!=i&&e("#cover-"+t.canvasId).addClass("error"),n()}),0==o.config.getConfig("multiSelection")&&e("#uploader").hide()},function(e){d.captureMessage("Fail: createworkarea"),a()})})},t.prototype.initFileNameEditable=function(t){var n=this;if(!1!==this.nameEditable){var i=e("#"+t+" .file__info__name");if(0==i.length)return;var r=i.text().split(".").pop();i.attr("contenteditable","true"),i.attr("data-ext","true"),i.attr("data-orig",i.text()),i.on("change keyup mouseup",function(){n.files.updateFile(t,{rename:v.TextHelper.stripTags(i.text().replace(/"/g,""))})}),i.on("blur",function(){i.html(v.TextHelper.stripTags(i.text().replace(/"/g,""))),""!=i.text()&&i.text()!="."+r||i.html(i.attr("data-orig")),i.text()==r&&i.html(r+"."+r),i.text().split(".").pop()!=r&&(i.html(i.text()+"."+r),n.files.updateFile(t,{rename:i.text()}))})}},t.prototype.setFilecount=function(){var t=this.files.countNotIgnored(),n=e("#filecount");0!=n.length?n.html(t.toString()):e("#uploader").prepend('<div id="filecount">'+t+"</div>")},t.prototype.fileUploaded=function(e,t){this.files.updateFile(e,t);if(null!==this.viewManager){var n=this.files.getFile(e);null!=n&&"thumbnail"in n&&void 0!=n.thumbnail&&(n.thumbnail=this.workerServer+"/thumbnails/"+n.thumbnail),this.viewManager.fileUploaded(e,t)}},t.prototype.changeServer=function(e){this.processManager.workerServer=e,this.processManager.api.workerServer=e,this.workerServer=e},t.prototype.fileReady=function(t){var n=t.canvasId,i=t.canvasId;if(this.limits.checkHasLimits("pages")&&0==this.checkLimits([t],null).length)return this.viewManager.removeFile(n),void this.fileRemoved(i);this.fileChanged(t);var r=e("#"+t.id),o=f.Tools.bytesToSize(t.size);r.length>0&&"width"in t&&"height"in t?(o=o+" - "+t.width+"x"+t.height,r.attr("data-width",t.width).attr("data-height",t.height)):"file"in t&&t.file&&"numPages"in t.file&&(o=o+" - "+c.Lang.t("numPages",{numPages:t.file.numPages})),this.checkRotation(t),r.attr("title",o).attr("data-title",o).addClass("tooltip"),u.Tooltip.init(),this.setFilecount()},t.prototype.checkRotation=function(t){var n=t.name.substr(t.name.lastIndexOf(".")+1).toUpperCase();-1==["JPG","JPEG","PNG","GIF","PDF","DOC","DOCX","XLS","XLSX","PPT","PPTX"].indexOf(n)&&e("#"+t.canvasId+" .rotate").hide(),!0===this.hideRotation&&e(".rotate").hide()},t.prototype.makeWorkarea=function(){var t=this;return new Promise(function(n,i){1!=t.workareaStarted&&(t.workareaStarted=!0,e("#contentArea").hide(),e(".tool__workarea__rendered").css("display","flex").hide().fadeIn(),0==t.showFileGroups&&e("#fileGroups").hide(),t.moveUploader(),t.workareaActions()),n()})},t.prototype.workareaActions=function(){},t.prototype.moveUploader=function(){var t=e("#uploader");u.Tooltip.init(),e("#uploadDisk").on("click",function(){e("#uploader input").trigger("click")});var n=t.attr("data-title");if(void 0===n||"false"===n){var i=t.attr("title");t.attr("data-title",i)}t.attr("title",""),t.hide(),e("body").addClass("sidebar-active"),e("body").addClass("tool-"+this.tool),e(".uploader__extra a").removeClass("tooltip--right").addClass("tooltip--left"),this.init(),t.detach(),t.addClass("box"),e("#settingsToogle").on("click",function(){e(".tool").toggleClass("tool--toggle")}),e("#orderByName").on("click",function(){e(this).toggleClass("order--desc");var t=e(this).data("order");"asc"==t?e(this).data("order","desc"):e(this).data("order","asc"),e("#fileGroups > div").tsort({order:t,natural:!0})});try{t.insertAfter("#settingsToogle")}catch(e){}this.onUploaderMoved(t)},t.prototype.onUploaderMoved=function(e){var t=this;window.googletag&&window.googletag.pubads&&window.googletag.pubads().setTargeting&&window.googletag.pubads().setTargeting("pos","wrk"),t.config.getConfig("multiSelection")&&e.fadeIn("slow",function(){t.onUploaderMovedAndShow()})},t.prototype.onUploaderMovedAndShow=function(){e("#pickfiles").addClass("tooltip"),u.Tooltip.enable(e("#pickfiles")),e(".modal.show").length>0||e("#pickfiles").hasClass("limitsShow")||(u.Tooltip.show(e("#pickfiles"),5e3),window.tooltip=u.Tooltip)},t.prototype.checkProcessBtn=function(){"no"==e(".option__panel--active").data("process")?e("#processTask").fadeOut():(e("#processTask").fadeIn(),this.checkProcessPulse())},t.prototype.checkProcessPulse=function(){if(window.Cookies&&1!=e("#processTask").is(":disabled")){var t=parseInt(E.default.get("pulse"))||0;t++,window.Cookies.set("pulse",""+t),t<3&&setTimeout(function(){e("#processTask").addClass("pulse")},this.processBtnPulseTimeout)}},t.prototype.startPanels=function(){1!=this.panelsStarted&&(this.panelsStarted=!0,this.initDefaultOptions(),this.initDefaultValues(),this.initActions(),this.initFromUrl(),this.addButtonTask(),this.checkProcessBtn(),this.premiumActions())},t.prototype.premiumActions=function(){h.UserModel.isRealPremium()&&e("#ocr-options").show()},t.prototype.initDefaultOptions=function(){var t=this;e.each(t.defaultOptions,function(e,n){t.setOption(e,n)})},t.prototype.initDefaultValues=function(){var t=this;e.each(t.defaultOptions,function(e,n){t.setValue(e,n)}),t.setValue("numPages",0)},t.prototype.initFromUrl=function(){var t=location.hash.substr(1).split(",");if("process"!=t[0]){var n="",i="";t[0]&&(n=t[0]),t[1]&&(i=t[1]);try{""!=n&&0==e("#"+n).length&&(n="")}catch(e){n=""}if(""==n||"undefined"==n?(n=e(".option__panel--active").attr("id"),this.callPanelActions(n)):e(".option__panel").first().attr("id")!=n&&(e(".option__panel").first().removeClass("option__panel--active").addClass("option__panel--inactive"),e("#"+n).addClass("option__panel--active"),this.callPanelActions(n)),e("#"+n+" .option__tab__select__item").removeClass("option--active"),e("#"+n+" .option__tab__content").removeClass("option__tab__content--active"),void 0!==i&&""!=i)try{e("#tab-"+i).addClass("option--active"),e("#tab-content-"+i).addClass("option__tab__content--active"),this.callTabActions(i)}catch(e){}else{var r=e("#"+n+" .option__tab__select__item");r.length>0&&(i=r.first().attr("data-target"),r.first().trigger("click"))}}},t.prototype.initActions=function(){var t=this;window.addEventListener("fileRemoved",function(e){t.fileRemoved(e.detail)},!1),this.initBackFromProcessListenEvent(),e(".option__panel").length>1&&window.addEventListener("popstate",function(n){var i=n.state,r=null;r=null===i?e(".option__panel").first().attr("id"):i.id,e("#"+r).addClass("option__panel--inactive"),e(".option__panel").removeClass("option__panel--active"),e("#"+r).removeClass("option__panel--inactive").addClass("option__panel--active"),t.checkProcessBtn(),t.callPanelActions(r)}),e(".option__description__more__toggle").each(function(){e(this).on("click",function(t){t.stopPropagation(),e(this).parent().toggleClass("option__description__more--extend")})}),e(".option__select__item").on("click",function(){if(e(this).hasClass("option--disabled"))return!0;e(this).siblings().removeClass("option--active"),e(this).siblings().find(".option").removeClass("option--active"),"panel"!=e(this).data("action")&&e(this).addClass("option--active"),t.options[e(this).data("name")]=e(this).data("value")}),e(".option__tab__select__item").on("click",function(){if(e(this).hasClass("option--disabled"))return!0;var n=e(this).data("name"),i=e(this).data("value");e(this).siblings().removeClass("option--active"),e(this).addClass("option--active"),"undefined"!=n&&t.setOption(n,i);var r=e(this).data("target");e(this).parent().parent().find(".option__tab__content").removeClass("option__tab__content--active"),e("#tab-content-"+r).addClass("option__tab__content--active");var o=e(this).parent().parent().parent().attr("id"),a=e(this).data("target"),s=e(this).attr("id"),l={id:s};history.pushState(l,s,"#"+o+","+a),t.checkProcessBtn(),t.callTabActions(a)}),e(".option__image__item").on("click",function(n){if(e(this).hasClass("option--disabled"))return!0;var i=e(this).data("name"),r=e(this).data("value");e(this).siblings().removeClass("option--active"),e(this).addClass("option--active"),void 0!=i&&t.setOption(i,r)}),e(".option__panel .back").each(function(){e(this).on("click",function(){if(e(this).hasClass("option--disabled"))return!0;var n=e(this).data("target"),i=e(".option__panel--active").attr("id"),r={id:i};history.pushState(r,i,"#"),e("#"+n).addClass("option__panel--active"),e(".option__panel--active").removeClass("option__panel--active"),e("#"+n).removeClass("option__panel--inactive").addClass("option__panel--active"),t.checkProcessBtn(),t.callPanelActions(n)})}),e("[data-action]").each(function(){e(this).hasClass("option--disabled")||e(this).on("click",function(){t.callFormAction(e(this).data("action"),e(this),"click")})}),e(".option__panel .option").on("click",function(n){if(e(this).hasClass("option--disabled"))return!0;var i=e(this).data("name"),r=e(this).data("value");i&&r&&(t.options[i]=r,e('*[data-show="'+i+'"]').html(r))});var n=null;e("input.option").on("keyup mouseup",function(){clearTimeout(n);var i=e(this);n=setTimeout(function(){var e=i.attr("name"),n=i.val();t.setOption(e,n),null!=i.data("action")&&t.callFormAction(i.data("action"),i,"keyup")},1e3)}),e(".option:checkbox").change(function(){var n=e(this).attr("name"),i=e(this).is(":checked"),r=null;1==i&&e(this)[0].hasAttribute("data-checked")?r=e(this).attr("data-checked"):0==i&&e(this)[0].hasAttribute("data-unchecked")&&(r=e(this).attr("data-unchecked")),null!=r?t.setOption(n,r):t.setOption(n,i)}),e(".option:radio").change(function(){var n=e(this).attr("name"),i=e('[name="'+n+'"]:checked').val();null!=i&&t.setOption(n,i)}),e("select.option").on("change",function(){var n=e(this).attr("name"),i=e(this).val();t.setOption(n,i)}),e("textarea.option").on("keyup change",function(){var n=e(this).attr("name"),i=e(this).val();t.setOption(n,i)}),e(".option--radio").on("click",function(){if(e(this).hasClass("option--disabled"))return!0;e(this).hasClass("option--active")?(t.setValue(e(this).data("name"),e(this).data("inactive")),t.options[e(this).data("name")]=e(this).data("inactive")):(t.setValue(e(this).data("name"),e(this).data("active")),t.options[e(this).data("name")]=e(this).data("active"))});var i=function(t){var n=(e(t).val()-parseInt(e(t).attr("min")))/(parseInt(e(t).attr("max"))-parseInt(e(t).attr("min")));e(t).attr("data-value",n),e(t).css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+n+", #E5322D), color-stop("+n+", #7A9FAB))")};e('input[type="range"]').each(function(){i(this)});var r=null;e('input[type="range"]').change(function(){null!==r&&clearTimeout(r);var e=this;r=setTimeout(function(){i(e)},1e3)})},t.prototype.initSidetoolsActions=function(){},t.prototype.fileRemoved=function(e){this.removedFiles++,this.fileChanged(e),this.setFilecount(),this.checkLimits(null,null)},t.prototype.fileChanged=function(t){this.updateOrderStatus(),this.files.countNotIgnored()>0?("string"!=typeof t&&(null!=t&&"upBy"in t&&"pickwatermark"==t.upBy?this.checkProcessBtn():this.enableProcessBtn()),e(".tool__sidebar__inactive").fadeOut(),e(".tool__sidebar").css("overflow-y","auto")):(this.disableProcessBtn(c.Lang.t("No file selected.")),e(".tool__sidebar").css("overflow-y","hidden"),e(".tool__sidebar__inactive").css("display","flex").hide().fadeIn(),this.showUploaderTooltip())},t.prototype.showUploaderTooltip=function(){u.Tooltip.show(e("#pickfiles"),8e3)},t.prototype.updateOrderStatus=function(){this.files.countNotIgnored()>1?e("#orderByName").css("display","flex"):e("#orderByName").hide()},t.prototype.addButtonTask=function(){var t=this;0==e("#processTask").length&&(e(".main .tool").append(s.OptionsTemplate.processButton({tool:t.tool,toolText:t.toolText})),e("#processTask").on("click",function(){if(1!=t.premiumTask||h.UserModel.isPremium()||"premium"==window.ilovepdfConfig.levelTemp){e("#processTask").attr("disabled","true");Math.floor(((new Date).getTime()-window.startTime)/1e3);t.processTask()}else e('#highres-options [data-value="0"]').trigger("click"),t.displayLimitsDialog(l.REASON.ERROR_FEATURE),window.ev("send","event","limits","feature-exceeded","pdfa")}))},t.prototype.setOption=function(e,t){if("undefined"==e)throw"InvalidOption "+e+":"+t;this.options[e]=t,this.values[e]=t,this.printOption(e,t)},t.prototype.setValue=function(e,t){this.values[e]=t,this.printValues(e,t)},t.prototype.printOption=function(t,n){if(null!=n&&""!=n.toString()){try{e('*[data-name="'+t+'"]').removeClass("option--active"),e('*[data-name="'+t+'"][data-value="'+n+'"]').addClass("option--active")}catch(e){d.configureScope(function(e){e.setExtra("dataKey",t),e.setExtra("dataValue",n)}),d.captureMessage("setting option error")}e('input[type="text"][name="'+t+'"]').val(n),e('input[type="number"][name="'+t+'"]').val(n),e('input[type="color"][name="'+t+'"]').val(n),e('input[type="checkbox"][name="'+t+'"]').attr("checked",n);try{e('input[type="radio"][name="'+t+'"][value="'+n.toString()+'"]').attr("checked","true")}catch(e){}e('select[name="'+t+'"]').val(n),e('.option--radio[data-name="'+t+'"]').each(function(){e(this).attr("data-active")==n?e(this).addClass("option--active"):e(this).removeClass("option--active")}),e('input[type="checkbox"][name="'+t+'"]').attr("checked",n),e('*[data-show="'+t+'"]').attr("data-value",n).html(n),e(".option__value--color").each(function(){e(this).css("background-color",e(this).attr("data-value"))}),e('*[data-show="'+t+'"]').html(this.printTransform(t,n)),e('*[data-show="'+t+'"]').attr("data-value",n),e('*[data-show="'+t+'"][data-type="color"]').css("background-color",n),e('*[data-if="'+t+'"]').each(function(){e(this).attr("data-value")==n?e(this).show():e(this).hide()})}},t.prototype.applyAllOptions=function(){for(var e in this.options)this.options.hasOwnProperty(e)&&this.printOption(e,this.options[e])},t.prototype.printTransform=function(e,t){return t},t.prototype.printValues=function(t,n){e("."+t).html(n),e("input."+t).val(n)},t.prototype.getValue=function(e){return this.values[e]},t.prototype.processTask=function(){var e=this;if(1!=this.processBlock){this.processBlock=!0,this.disableProcessBtn();var t=this;t.getPanelActiveOptions(),t.beforeProcess().then(function(){t.savePremium().then(function(){e.hideLimitsAlert(),t.processManager.setOptions(t.options),t.processManager.limits=e.limits,e.checkBackForward(),e.clearBackRefreshDetection(),t.processManager.process()},function(e){d.configureScope(function(t){t.setExtra("error",e)}),d.captureMessage("Error on save premium task data")})},function(t){e.onBeforeProcessReject(t)})}},t.prototype.onBeforeProcessReject=function(e){e instanceof Error&&(d.configureScope(function(t){t.setExtra("error",e)}),d.captureMessage("onBeforeProcessReject error")),this.enableProcessBtn()},t.prototype.beforeProcess=function(){return new Promise(function(e,t){var n=!!window.MSInputMethodContext&&!!document.documentMode;if(window.processStart=!0,n)document.createEvent("Event").initEvent("goProcess",!0,!0);else try{var i=new Event("goProcess");window.dispatchEvent(i)}catch(e){}e()})},t.prototype.getOption=function(e){return this.options[e]},t.prototype.getOptions=function(){return this.options},t.prototype.getPanelActiveOptions=function(){var t=this,n=e(".option__panel--active");n.find(".option--active").each(function(n,i){var r=e(i).attr("data-name");void 0!=r&&(r.indexOf("[]")>0?(t.options[r]instanceof Array||(t.options[r]=[]),t.options[r].push(e(i).attr("data-value"))):t.options[r]=e(i).attr("data-value"))}),n.find('input[type="text"], input[type="number"], input[type="color"], select, input[type="hidden"]').each(function(n,i){var r=e(i).attr("data-name");void 0==r&&void 0==(r=e(i).attr("name"))||(r.indexOf("[]")>0?(t.options[r]instanceof Array||(t.options[r]=[]),t.options[r].push(e(i).val())):t.options[r]=e(i).val())}),n.find('input[type="checkbox"]').each(function(n,i){var r=e(i).attr("name");t.options[r]=e(i).is(":checked")}),t.unsetUndefinedOptions()},t.prototype.unsetUndefinedOptions=function(){"undefined"in this.options&&delete this.options.undefined},t.prototype.callPanelActions=function(e){if(void 0!==e&&null!==e){var t="action"+e.camelCase().ucFirst();t in this&&this[t]()}},t.prototype.callTabActions=function(e){if(void 0!==e&&null!==e&&""!=e){var t="action"+e.camelCase().ucFirst();t in this&&this[t]()}},t.prototype.callOptionAction=function(t,n,i){if(void 0===i&&(i="click"),void 0!==t&&null!==t){var r=t.split(" "),o=this;e.each(r,function(e,t){if(void 0!==t&&null!==t){var r="actionOption"+t.camelCase().ucFirst();r in o&&o[r](n,i)}})}},t.prototype.callFormAction=function(t,n,i){if(void 0===i&&(i="click"),void 0!==t&&null!==t&&void 0!=t){var r=t.split(" "),o=this;e.each(r,function(e,t){if(void 0!==t&&null!==t){var r="actionForm"+t.camelCase().ucFirst();r in o&&o[r](n,i)}})}},t.prototype.actionFormPanel=function(t,n){var i=t.data("target"),r=e(".option__panel--active").attr("id"),o={id:r};if(history.pushState(o,r,"#"+i),e(".option__panel--active").removeClass("option__panel--active").addClass("option__panel--inactive"),e("#"+i).addClass("option__panel--active"),this.checkProcessBtn(),this.callPanelActions(i),e("#"+i).find(".option__tab").length>0){var a=e(".option__tab__select__item.option--active").data("target");this.callTabActions(a)}history.pushState(o,r,"#"+i)},t.prototype.actionFormShowOptions=function(t,n){var i=e(t).val();e(".option--if").hide(),e('*[data-if="'+name+'"]').each(function(){t.data("value")==i?t.show():t.hide()})},t.prototype.actionFormDecimal=function(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=e(t).val();e(t).val(i.replace(",","."))},t.prototype.getInnactiveView=function(){return'<div class="tool__sidebar__inactive"><p>'+c.Lang.t("No file selected.")+'</p><svg xmlns="http://www.w3.org/2000/svg" width="75" height="66" viewBox="0 0 150 132"><path fill="#FFF" d="M0,0 C0,18.75 28.125,56.25 93.75,56.25 L93.75,18.75 L150,75 L93.75,131.25 L93.75,93.75 C42.0594727,93.75 0,51.6905273 0,0 Z" transform="rotate(-180 75 66)"/></svg><p>'+c.Lang.t("Please add a file to activate options")+"</p></div>"},t.prototype.initPremium=function(){if(h.UserModel.isPremium()){e(this.getPremiumView()).insertBefore(e(".gobutton")),e("#save_options").change(function(){e(this).is(":checked")})}},t.prototype.savePremium=function(){var t=this,n=this;return new Promise(function(i,r){if(e("#save_options").length&&e("#save_options").is(":checked")){var o=n.getOptions();o.tool=t.tool,o=n.beforeSavePremiumOptions(o),n.processManager.api.saveToolConfig(n.tool,o,h.UserModel.get().token).then(function(){i()},function(){r()})}else i()})},t.prototype.invalidUpload=function(t,n){var i=this;void 0===n&&(n=null);var r=g.IloveError.getError(t),o=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool);if(e("body").hasClass("process-run"))try{"object"==typeof t&&"file"in t&&"id"in t.file&&this.files.updateFile(t.file.id,{error:!0,percent:100,errorData:r})}catch(e){}else{["FileSizeExceeded","FileTooLarge","FileRemoved"].indexOf(r)>=0?window.ev("sendOnce","event","upload-info",r,o):(window.ev("send","event","upload-invalid",o,r),d.configureScope(function(e){e.setExtra("error",t)}),null!=n&&d.configureScope(function(e){e.setExtra("error_extra",n),e.setExtra("task_id",i.processManager.taskId)}),d.captureMessage("upload-invalid."+r,p.Severity.Error));try{"object"==typeof t&&"file"in t?(this.viewManager.removeFile(t.file.canvasId),window.Toastr.error(c.Lang.t(r)+"<br>"+t.file.name,c.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"})):this.fatalError(r)}catch(e){this.fatalError(r)}}},t.prototype.beforeSavePremiumOptions=function(e){return e},t.prototype.getPremiumView=function(){return""},t.prototype.disableProcessBtn=function(t){void 0===t&&(t=null);var n=e("#processTask"),i=e("#processTaskWrapper");n.attr("disabled","true"),n.removeClass("pulse"),i.addClass("tooltip tooltip--top").removeAttr("title").show(),null!=t&&"undefined"!=t?(i.attr("data-title",t),i.attr("title",t),u.Tooltip.setContent(i,t),u.Tooltip.enable(i)):u.Tooltip.disable(i)},t.prototype.enableProcessBtn=function(){e("#processTask").removeClass("tooltip tooltip--top").removeAttr("title").removeAttr("disabled"),u.Tooltip.hide("#processTaskWrapper"),e("#processTaskWrapper").hide(),this.processBlock=!1},t.prototype.fatalError=function(e){g.IloveError.fatalError(e,this.tool,this.workerServer)},t.prototype.timeout=function(){window.location.reload()},t.prototype.timeoutPopup=function(){var t=this,n=[],i=[];e.each(this.files.files,function(e,t){"canvasId"in t?n.push(t.canvasId):"id"in t&&i.push(t.id)}),e.each(n,function(e,n){t.viewManager.removeFile(n)}),e.each(i,function(e,n){t.files.removeFile(n)});var r=f.Tools.modalViewOk({id:"timelimit",title:c.Lang.t("Wops"),content:"<p>"+c.Lang.t("Welcome back after upload")+"</p>"});e(r).modal()},t.prototype.removeFile=function(e){try{this.viewManager.removeFile(e)}catch(e){}this.files.removeFile(e),this.checkLimits(null,null)},t.prototype.loadingStart=function(){0===e(".item-loading").length&&0==e(".loading").length&&e("body").append('<div class="item-loading"></div>'),e(".item-loading").show()},t.prototype.loadingEnd=function(){e(".item-loading").hide()},t.prototype.fileAddError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n="DamagedFile"),1==t?window.Toastr.error(c.Lang.t(n),c.Lang.t("Error"),{timeOut:0,closeButton:!0,preventDuplicates:!0,positionClass:"toast-top-left"}):window.Toastr.error(c.Lang.t(n),c.Lang.t("Error"),{timeOut:5e3,positionClass:"toast-top-left"}),this.removeFile(e),this.loadingEnd()},t.prototype.initBackFromProcessListenEvent=function(){var t=this;window.addEventListener("popstate",function(n){n.state;if(t.processManager.contextConfirmFiles){t.backCount++,e(".process").hide(),e(".uploading").hide(),t.processManager.contextConfirmFiles.remove(),document.body.classList.remove("process-run"),t.checkLimits([],null),t.enableProcessBtn(),t.checkProcessBtn();var i=t.getLimit();window.ev("sendOnce","event","limits","back",t.tool+"-"+i),t.processManager.contextConfirmFiles=null,t.initBackRefreshDetection()}})},t.prototype.checkBackForward=function(){if(this.backCount>0){this.forwardCount++;var e=this.getLimit()||"solved";window.ev("sendOnce","event","limits","forward",e)}},t.prototype.initBackRefreshDetection=function(){var e=new Date((new Date).getTime()+this._BACKREFRESH_TIME);E.default.set("br",this.tool,{expires:e})},t.prototype.refreshBackDetection=function(){E.default.get("br")==this.tool&&E.default.set("brt",(new Date).getTime().toString(),{expires:1})},t.prototype.clearBackRefreshDetection=function(){E.default.remove("br")},t.prototype.checkBackRefresh=function(){var e=E.default.get("br");e&&(this.clearBackRefreshDetection(),window.ev("sendOnce","event","limits","back-"+(e==this.tool?"refresh":"change"),this.tool))},t}();t.OptionsManager=x}).call(this,n(1))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoMoreLimitsContext=void 0;var o=n(55),a=n(232),s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.contentName="NoMoreLimitsContext",n.triggerReason="triggerReason"in t?t.triggerReason:void 0,n.limits="limits"in t?t.limits:void 0,n.tool="tool"in t?t.tool:void 0,n}return r(t,e),t.prototype.getInitialState=function(){return new a.DefaultState},t}(o.ContextBase);t.NoMoreLimitsContext=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultState=void 0;var o=n(19),a=n(9),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="DefaultState",t.LAYOUT_TEMPLATE_NAME="no-more-limits",t.INITIAL_SCREEN="default",t.onDomReady=function(){"sign"==t.ctx.tool?t.changeScreen("sign"):t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen(),t.init()},t._onDoneButtonClick=function(e){e.preventDefault(),t.dispatchEvent(new a.IloveEvent("end"))},t}return r(t,e),t.prototype.init=function(){var e=this.getUserOperativeSystem();this.showPlatform(e);var t=this.actionBtn;t&&t.addEventListener("click",this._onDoneButtonClick)},t.prototype.showPlatform=function(e){for(var t=this.domRoot.querySelectorAll("[platform-mac], [platform-win]"),n=0;n<t.length;n++)t[n].style.display="none";var i=this.domRoot.querySelectorAll("[platform-"+e+"]");for(n=0;n<i.length;n++)i[n].style.display="block"},t.prototype.getUserOperativeSystem=function(){return-1!=window.navigator.platform.indexOf("Mac")?"mac":(-1!=navigator.userAgent.indexOf("WOW64")||navigator.userAgent.indexOf("Win64"),"win")},Object.defineProperty(t.prototype,"actionBtn",{get:function(){return this.domStateRoot.querySelector("[next-from-no-more-limits]")},enumerable:!1,configurable:!0}),t}(o.StateBase);t.DefaultState=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ViewManager=void 0;var o=n(234),a=n(139),s=n(235),l=n(13),c=n(30),u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.imageViewer=new a.ImageView({screenSize:this.screenSize,files:this.files}),this.previewViewer=new s.PreviewView({screenSize:this.screenSize,files:this.files})},t.prototype.getFileboxTemplate=function(e){var t=/(?:\.([^.]+))?$/.exec(e.fileName)[1].toUpperCase();return'<div class="file file--img file--'+e.tool+" file--"+e.subtool+' tooltip--top" id="'+e.fileID+'" rel="'+e.service+'"  data-size="'+e.filesize+'" data-extension="'+t+'"><div class="file__actions"><a  class="file__btn rotate  tooltip tooltip--top" title="'+l.Lang.t("Rotate")+'" data-rotate="0">'+c.Tools.svgRotate()+'</a><a  class="file__btn remove tooltip tooltip--top" title="'+l.Lang.t("Remove this file")+'">'+c.Tools.svgRemove()+'</a></div><div class="file__canvas"><div id="cover-'+e.fileID+'"></div></div><div class="file__info"><span class="file__info__name">'+e.fileName+'</span><div class="file__info__size"><span class="file__info__size__from tooltip tooltip--bottom" title="'+l.Lang.t("Original size (in pixels) for this image")+'"></span> '+c.Tools.svgArrowRight(8,12)+'<span class="file__info__size__to tooltip tooltip--bottom" title="'+l.Lang.t("This image will be resized to this size (in pixels)")+'"></span></div></div></div>'},t}(o.ViewManager);t.ViewManager=u},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewManager=void 0;var a=o(n(24)),s=n(14),l=n(30),c=n(13),u=function(){function t(e){void 0===e&&(e={}),this.files=null,this.tool=null,this.subtool=null,this.pdfViewer=null,this.imageViewer=null,this.officeViewer=null,this.previewViewer=null,this.fileBox="",this.covers_hidden=!1,this.processManager=null,this.onBeforeRemoveFile=null,this.onRemoveFile=null,this.resizeTimeout=!1,this.screenSizes={sm:{w:70,h:100},md:{w:99,h:140},lg:{w:127,h:180}},this.screenSize=this.screenSizes.md,this.currentSize="md",window.innerWidth>1281?(this.screenSize=this.screenSizes.lg,this.currentSize="lg"):window.innerWidth<640&&(this.screenSize=this.screenSizes.sm,this.currentSize="sm"),Object.assign(this,e),this.init()}return t.prototype.init=function(){var e=this;window.addEventListener("resize",function(t){e.resize()})},t.prototype.resize=function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){window.innerWidth>1280&&"lg"!=e.currentSize?(e.screenSize=e.screenSizes.lg,e.currentSize="lg",e.reRender()):window.innerWidth<640&&"sm"!=e.currentSize?(e.screenSize=e.screenSizes.sm,e.currentSize="sm",e.reRender()):window.innerWidth>640&&window.innerWidth<1280&&"md"!=e.currentSize&&(e.screenSize=e.screenSizes.md,e.currentSize="md",e.reRender()),"object"==typeof e.pdfViewer&&null!=e.pdfViewer&&(e.pdfViewer.screenSize=e.screenSize),"object"==typeof e.imageViewer&&null!=e.imageViewer&&(e.imageViewer.screenSize=e.screenSize),"object"==typeof e.officeViewer&&e.officeViewer,"object"==typeof e.previewViewer&&e.previewViewer},500)},t.prototype.reRender=function(){var t=this;e(".file canvas, .range__element canvas").each(function(n,i){var r=e(i).attr("data-file"),o=e(i).attr("data-page");if(r&&o){var a=parseInt(e(i).attr("data-page").toString()),s=e(i).attr("id");t.renderPDF(r,a,s)}})},t.prototype.addFileDOM=function(t,n){var i=this;void 0===n&&(n=null);return new Promise(function(n,r){var o=i;i.totalFilesSelectedHistory++,i.boxfiles++;var l=t.name.substr(t.name.lastIndexOf(".")+1).toUpperCase();t.extension&&(l=t.extension.toUpperCase()),t.service||(t.service="user");var c=i.getFileboxTemplate({tool:o.tool,subtool:o.subtool,screenSize:o.screenSize,fileName:t.name,fileID:t.canvasId,filesize:t.size,service:t.service});if(e("#fileGroups").append(c),o.initRotate(t),e("#"+t.canvasId+" .remove").on("click",function(){o.removeFile(t.canvasId)}),"html5"==t.runtime){var u="cover-"+t.canvasId,d=document.getElementById(u);if("user"==t.service)d.className=d.className+" "+l.toLowerCase()+" ",void 0!=t.thumbnail?(d.className="image "+d.className,i.renderPreview(t.id,u,null).then(function(){n(t)},function(e){a.configureScope(function(t){t.setExtra("error",e)}),a.captureMessage("render preview thumbnail error",s.Severity.Info),r(e)})):"url"in t&&void 0!=t.url?"PDF"==l&&0==i.covers_hidden?o.pdfViewer.loadUrlPDF(t.url,null).then(function(e){o.files.updateFile(t.id,{file:e}),"size"in e&&o.files.updateFile(t.id,{size:e.size}),o.renderPDF(t.id,1,u),n(e)},function(e){"removeFile"==e.name?o.removeFile(t.canvasId):"PasswordException"==e.name?d.className=d.className+" password ":"UnexpectedResponseException"==e.name?o.removeFile(t.id):("InvalidPDFException"==e.name||e.name,d.className=d.className+" error "),r(e)}):i.renderUrl(t.id,u,null).then(function(e){"size"in e&&o.files.updateFile(t.id,{size:e.size}),n(t)},function(e){a.configureScope(function(t){t.setExtra("error",e)}),a.captureMessage("render url error",s.Severity.Info),r(e)}):"PDF"==l&&0==i.covers_hidden?o.pdfViewer.loadSourcePDF(t.id,t.source).then(function(e){o.files.updateFile(t.id,{file:e}),o.renderPDF(t.id,1,u),n(e)},function(e){"removeFile"==e.name?o.removeFile(t.canvasId):"PasswordException"==e.name&&(d.className=d.className+" password "),"UnexpectedResponseException"==e.name?o.removeFile(t.canvasId):(e.name,d.className=d.className+" error "),r(e)}):"JPG"==l||"JPEG"==l?i.renderImageJpg(t.id,u,null).then(function(){n(t)},function(e){r(e)}):"HEIC"===l?i.renderHeic(t.id,u).then(function(){n(t)}).catch(r):"PNG"==l||"GIF"==l||"WEBP"==l?i.renderImage(t.id,u,null).then(function(){n(t)},function(e){r(e)}):"SVG"==l?(d.className="image "+d.className,i.renderSvg(t.id,u,!1).then(function(){n(t)},function(e){r(e)})):"TIF"==l||"TIFF"==l?(d.className=d.className+" image tif",i.renderTif(t.id,u).then(function(){n(t)},function(e){})):"DOC"==l||"DOCX"==l?(i.renderDoc(t.id,u),d.className=d.className+" word "+l.toLowerCase(),n(t)):"XLS"==l||"XLSX"==l?(i.renderDoc(t.id,u),d.className=d.className+" excel "+l.toLowerCase(),n(t)):"PPT"==l||"PPTX"==l?(i.renderDoc(t.id,u),d.className=d.className+" powerpoint "+l.toLowerCase(),n(t)):(d.className=d.className+l.toLowerCase(),r("noRenderMode"));else if("drive"==t.service)d.className=d.className+" "+l.toLowerCase(),"PDF"==l&&0==i.covers_hidden?t.size<2e8&&o.pdfViewer.loadUrlPDF(t.uri,t.token).then(function(e){o.files.updateFile(t.id,{file:e}),o.renderPDF(t.id,1,u),n(e)},function(e){a.configureScope(function(t){t.setExtra("error",e)}),a.captureMessage("drive url pdf error"),r(e)}):void 0!=t.url?i.renderUrl(t.id,u,null).then(function(e){n(t)},function(e){a.configureScope(function(t){t.setExtra("error",e)}),a.configureScope(function(e){e.setExtra("url",t.url)}),a.captureMessage("drive with url error"),r(e)}):(a.configureScope(function(e){e.setExtra("file",t)}),a.captureMessage("drive viewer not set"),r("drive viewer not exists"));else if("dropbox"==t.service)if("PDF"==l&&0==i.covers_hidden)t.size<2e8&&o.pdfViewer.loadUrlPDF(t.url,t.token).then(function(e){o.files.updateFile(t.id,{file:e}),o.renderPDF(t.id,1,u),n(e)},function(e){a.configureScope(function(t){t.setExtra("error",e)}),a.captureMessage("dropbox load error"),r(e)});else if(void 0!=t.url){var p=document.getElementById(u);p.className=p.className+" image "+l.toLowerCase(),i.renderUrl(t.id,u,null).then(function(e){n(t)},function(e){a.configureScope(function(t){t.setExtra("error",e)}),a.captureMessage("dropbox with url error"),r(e)})}else a.captureMessage("dropbox preview not set"),r("uooops, dropbox viewer not set here!");else a.captureMessage("unknow method/origin to render file"),r("unknow method/origin to render file")}})},t.prototype.initRotate=function(t){var n=this;e("#"+t.canvasId+" .rotate").on("click",function(){var i=parseInt(e(this).attr("data-rotate"));280==(i+=90)&&(i=0),e(this).attr("data-rotate",i);var r=e("#"+t.canvasId+" .file__canvas");r.css({WebkitTransform:"rotate("+i+"deg)"}),r.css({"-moz-transform":"rotate("+i+"deg)"}),r.css({transform:"rotate("+i+"deg)"}),n.files.updateFile(t.id,{rotate:i})})},t.prototype.removeFile=function(t){var n=this;"function"==typeof n.onBeforeRemoveFile&&n.onBeforeRemoveFile(t),e("#"+t).remove(),n.processManager.removeFile(t).then(function(){"function"==typeof n.onRemoveFile&&n.onRemoveFile(t),e(".uploader.box").show()},function(e){})},t.prototype.renderPDF=function(e,t,n,i){void 0===i&&(i=null);var r=this;"object"==typeof r.pdfViewer&&null!=r.pdfViewer&&r.pdfViewer.onFileReady().then(function(){r.pdfViewer.renderPage(e,t,n).then(function(){},function(){})},function(e){a.configureScope(function(t){t.setExtra("error",e)}),a.captureMessage("Error pdf file not ready")})},t.prototype.renderImage=function(e,t,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(e),o=r.getSource().getSource();return new Promise(function(e,a){i.imageViewer.renderImage(o,t,n).then(function(t){return r.width=t.width,r.height=t.height,e(t)},function(e){a(e)})})},t.prototype.renderImageJpg=function(e,t,n){return void 0===n&&(n=!1),this.renderImage(e,t,n)},t.prototype.renderUrl=function(e,t,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(e),o=r.url;return new Promise(function(e,a){i.imageViewer.renderUrl(o,t,n).then(function(t){if("size"in t&&(r.size=t.size),"width"in r)e({width:r.width,height:r.height});else{var n=new Image;n.addEventListener("load",function(){r.width=this.naturalWidth,r.height=this.naturalHeight,e({width:this.naturalWidth,height:this.naturalHeight})}),n.src=r.url}},function(e){a()})})},t.prototype.renderPreview=function(e,t,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(e).thumbnail;return new Promise(function(e,o){i.previewViewer.renderPreview(r,t,n),e({})})},t.prototype.renderSvg=function(e,t,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(e),o=r.getSource().getSource();return new Promise(function(e,a){i.imageViewer.renderSvg(o,t,n).then(function(t){return r.width=t.width,r.height=t.height,e(t)},function(e){a(e)})})},t.prototype.renderTif=function(e,t){var n=this,i=n.files.getFile(e).getSource().getSource();return new Promise(function(e,r){n.imageViewer.renderTif(i,t).then(function(){e()},function(){r()})})},t.prototype.renderHeic=function(e,t){var n=this.files.getFile(e).getSource().getSource();return this.imageViewer.renderHeic(n,t)},t.prototype.renderDoc=function(e,t){var n=this.files.getFile(e).getSource().getSource();return this.officeViewer.renderDocument(n,t)},t.prototype.getFileboxTemplate=function(e){var t=/(?:\.([^.]+))?$/.exec(e.fileName)[1];return'<div class="file file--'+e.tool+' tooltip--top" id="'+e.fileID+'" rel="'+e.service+'" data-size="'+e.filesize+'" data-extension="'+t.toUpperCase()+'"  title="image size..."><div class="file__actions"><a class="file__btn rotate tooltip--top tooltip" data-rotate="0" title="'+c.Lang.t("Rotate")+'">'+l.Tools.svgRotate()+'</a><a class="file__btn remove tooltip--top tooltip" title="'+c.Lang.t("Remove this file")+'">'+l.Tools.svgRemove()+'</a></div><div class="file__canvas"><canvas id="cover-'+e.fileID+'" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'" class="'+t+'"></canvas></div><div class="file__info"><span class="file__info__name">'+e.fileName+"</span></div></div>\n        "},t.prototype.fileUploaded=function(e,t){var n=document.getElementById(e),i="cover-"+e;"object"==typeof t&&"thumbnail"in t&&t.thumbnail&&null!=n&&(n.className=n.className+" image",this.renderPreview(e,i,null).then(function(e){},function(e){a.configureScope(function(t){t.setExtra("error",e)}),a.captureMessage("Render preview on file upload",s.Severity.Info)}))},t}();t.ViewManager=u}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewView=void 0;var n=function(){function t(e){void 0===e&&(e={}),this.coversShow=!0,Object.assign(this,e),this.init()}return t.prototype.init=function(){},t.prototype.renderPreview=function(t,n,i){void 0===i&&(i=!1);var r=document.getElementById(n);i?e(r).attr("src",t):e(r).attr("style","background-color: transparent; background-image: url("+t+");background-size:contain; width: 100%;background-repeat: no-repeat;background-position: center;");var o=e("#"+n+" canvas");o.length>0&&o.remove()},t}();t.PreviewView=n}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeImageOptionsManager=void 0;var o=n(100),a=n(13),s=function(t){function n(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.selectedBefore=!1,n.processBtnPulseTimeout=1e4,n.hideRotation=!0,n.damagedRemove=!0,n.width=0,n.height=0,n}return r(n,t),n.prototype.init=function(){t.prototype.init.call(this)},n.prototype.initActions=function(){var n=this;t.prototype.initActions.call(this),e(".option__tab__select__item.option--active").trigger("click"),e(".option__tab__select__item").on("click",function(){n.selectedBefore=!0,n.updateForm()})},n.prototype.fileReady=function(n){t.prototype.fileReady.call(this,n),e("#"+n.id+" .file__info__size__from").html(n.width+" x "+n.height),e("#"+n.id+" .file__info__size__to").html(n.width+" x "+n.height),1==this.files.files.length&&(e("#pixels_width").val(n.width),e("#pixels_height").val(n.height)),this.files.files.length>1&&0==this.selectedBefore&&e('.option__tab__select__item[data-value="percentage"]').trigger("click"),this.updateForm()},n.prototype.updateForm=function(){"pixels"==e(".option__tab__select__item.option--active").data("value")?this.actionFormResize():this.actionFormPercent()},n.prototype.actionFormResize=function(t,n){var i=this;void 0===t&&(t=null),void 0===n&&(n=null),null==t&&(this.width=0,t=e("#pixels_width"));var r=!0,o=parseInt(e("#pixels_width").val().toString()),s=parseInt(e("#pixels_height").val().toString()),l=this,c=0;isNaN(o)?(e("#pixels_width").val(""),c++):(e("#pixels_width").val(o),0==o&&c++),isNaN(s)?(e("#pixels_height").val(""),c++):(e("#pixels_height").val(s),0==s&&c++);var u=e("#maintain_ratio").is(":checked"),d=e("#no_enlarge_if_smaller").is(":checked"),p=t.attr("name");if(!("pixels_width"==p&&o==this.width||"pixels_height"==p&&s==this.height)){if(1==u&&this.files.files.length>1?(e("#maxSize").show(),e("#exactSize").hide()):(e("#maxSize").hide(),e("#exactSize").show()),1==u){if("pixels_width"==p){if((isNaN(o)||0==o)&&(isNaN(s)||0==s||1==this.files.files.length))return e("#pixels_height").val("0"),e("#pixels_width").val(""),e(".file__info__size__to").hide(),e(".file__info__size svg").hide(),e("#pixels_width").attr("placeholder","0").addClass("error"),r=!1,void this.disableProcessBtn(a.Lang.t("Please set resize width or height"));if((isNaN(o)||0==o)&&this.files.files.length>1)return;this.files.files.length}else if("pixels_height"==p){if((isNaN(s)||0==s)&&(isNaN(o)||0==o||1==this.files.files.length))return e("#pixels_width").val("0"),e("#pixels_height").val(""),e(".file__info__size__to").hide(),e(".file__info__size svg").hide(),e("#pixels_height").attr("placeholder","0").addClass("error"),r=!1,void this.disableProcessBtn(a.Lang.t("Please set resize width or height"));if(isNaN(s)||0==s)return;this.files.files.length}}else if(0==u&&!this.validateByPixels(o,s))return void(r=!1);e(".file__info__size__to").show(),e(".file__info__size svg").show();var f=parseInt(e("#pixels_width").val().toString()),h=parseInt(e("#pixels_height").val().toString()),g=null,m=null,v=null,y=null;e(".file--img").each(function(t,n){v=e(n).attr("data-width"),y=e(n).attr("data-height");e(n).find(".file__info__size__to").html().split(" x ");1==u?"pixels_height"==p?(g=Math.round(h*v/y),m=h,0!=f&&g>f&&l.files.files.length>1&&(g=f,m=Math.round(f*y/v))):(g=f,m=Math.round(f*y/v),0!=h&&m>h&&l.files.files.length>1&&(g=Math.round(h*v/y),m=h)):(g=f,m=h),g=isNaN(g)?v:g,m=isNaN(m)?y:m,d&&(g>v||m>y)?e(n).find(".file__info__size__to").html(v+" x "+y):e(n).find(".file__info__size__to").html(g+" x "+m),r=r&&i.validateByPixels(g,m)}),1!=u||"pixels_height"!=p&&"pixels_width"!=p||(1==this.files.files.length?(e("#pixels_width").val(g),e("#pixels_height").val(m)):"pixels_width"!=p||!isNaN(s)&&0!=s?"pixels_height"!=p||!isNaN(o)&&0!=o||e("#pixels_width").val("").attr("placeholder","Auto"):e("#pixels_height").val("").attr("placeholder","Auto")),this.width=g,this.height=m,e("#pixels_width, #pixels_height").removeClass("error").attr("placeholder","Auto"),2!=c&&r?this.enableProcessBtn():this.disableProcessBtn(a.Lang.t("Please set resize width or height"))}},n.prototype.validateByPixels=function(t,n){var i=!0,r=this.files.files.length;return 1==r&&((isNaN(t)||0==t)&&(i=!1,e("#pixels_width").addClass("error")),(isNaN(n)||0==n)&&(i=!1,e("#pixels_height").addClass("error"))),r>1&&(isNaN(t)&&isNaN(n)?i=!1:0==n&&0==t?(i=!1,e("#pixels_width").addClass("error"),e("#pixels_height").val("").attr("placeholder","Auto")):(0==n&&(e("#pixels_height").val("").attr("placeholder","Auto"),this.setOption("pixels_height","")),0==t&&(e("#pixels_width").val("").attr("placeholder","Auto"),this.setOption("pixels_width","")))),i?this.enableProcessBtn():this.disableProcessBtn(a.Lang.t("Please set resize width or height")),i},n.prototype.actionFormPercent=function(){this.selectedBefore=!0;var t=e('[data-name="percentage"].option--active');0==t.length&&(t=e('[data-name="percentage"]').first()).addClass("option--active");var n=t.data("value");e(".file--img").each(function(t){var i=parseInt(e(this).attr("data-width")),r=parseInt(e(this).attr("data-height")),o=Math.round(n*i/100),a=Math.round(n*r/100);e(this).find(".file__info__size svg").show(),e(this).find(".file__info__size__to").html(o+" x "+a).show()}),this.enableProcessBtn()},n.prototype.addSizeTo=function(t){0==e("#"+t.id+" .file__info__size__to").length&&e("#"+t.id+" .file__info__size__to").html(t.width+" x "+t.height)},n.prototype.validate=function(){if("pixels"==this.getOption("resize_mode")){if(!this.validateByPixels(parseInt(e("#pixels_width").val().toString()),parseInt(e("#pixels_height").val().toString())))return!1;if(!this.validateByPixels(parseInt(this.getOption("pixels_width")),parseInt(this.getOption("pixels_height"))))return!1}return!0},n.prototype.beforeProcess=function(){var e=this;return new Promise(function(n,i){e.updateForm(),e.validate()?t.prototype.beforeProcess.call(e).then(function(){setTimeout(function(){n()},500)},function(){i()}):i()})},n}(o.OptionsManager);t.ResizeImageOptionsManager=s}).call(this,n(1))},function(e,t,n){"use strict";(function(e,i){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CropImageOptionsManager=void 0;var c=n(100),u=l(n(35)),d=l(n(24)),p=n(24),f=function(t){function n(n){void 0===n&&(n={});var i=t.call(this,n)||this;return i.processBtnPulseTimeout=1e4,e("#fileGroups").hide(),i}return o(n,t),n.prototype.startPanels=function(){t.prototype.startPanels.call(this),this.disableProcessBtn(),this.initViewer()},n.prototype.initViewManager=function(){t.prototype.initViewManager.call(this),this.viewManager.imageViewer.useLoadImageLib=!0},n.prototype.makeWorkarea=function(){var n=this;return new Promise(function(i,r){t.prototype.makeWorkarea.call(n).then(function(){e("#fileGroups").hide(),i()})})},n.prototype.fileRemoved=function(n){t.prototype.fileRemoved.call(this,n),e(".tool__workarea__rendered").hide()},n.prototype.initViewer=function(){var t=this;e("#editor").show(function(){t.resizeCropper()})},n.prototype.initCropper=function(){return new Promise(function(e,t){if(null===window.jQuery.fn.cropper||void 0!==window.jQuery.fn.cropper)return e(!0);u.lazyload("/js/cropper/cropper.min.js");var n=window.setInterval(function(){if(null!==window.jQuery.fn.cropper&&"function"==typeof window.jQuery.fn.cropper)return clearInterval(n),e(!0)},100)})},n.prototype.resizeCropper=function(){!window.MSInputMethodContext||!document.documentMode?window.dispatchEvent(new Event("resize")):document.createEvent("Event").initEvent("resize",!0,!0)},n.prototype.crop=function(){window.jQuery("#file").cropper()},n.prototype.startCroppper=function(){var t=this,n=window.jQuery("#file"),i=(e("#download"),e("#dataX")),r=e("#dataY"),o=e("#dataHeight"),a=e("#dataWidth"),s=(e("#dataScaleX"),e("#dataScaleY"),{aspectRatio:NaN,preview:".img-preview",viewMode:1,zoomOnWheel:!1,crop:function(e){i.val(Math.round(e.x)),r.val(Math.round(e.y)),o.val(Math.round(e.height)),a.val(Math.round(e.width))},ready:function(){t.enableProcessBtn()}}),l=window.setInterval(function(){null!==n.cropper&&"function"==typeof n.cropper&&(clearInterval(l),n.cropper(s))},100);e(".docs-data input").on("keyup blur change",function(){var e={x:parseInt(i.val().toString()),y:parseInt(r.val().toString()),width:parseInt(a.val().toString()),height:parseInt(o.val().toString())};window.jQuery("#file").cropper("setData",e)})},n.prototype.fileReady=function(n){this.disableProcessBtn(),t.prototype.fileReady.call(this,n),e("#fileGroups").hide(),this.renderFileEditor(n)},n.prototype.renderFileEditor=function(t){var n=this;if(e("#fileGroups").hide(),t.url){var i=t.url;t.imageMediaMetadata&&(i=t.url.replace("=s220","=s"+t.imageMediaMetadata.width)),n.viewManager.imageViewer.renderUrl(i,"file",!0).then(function(){setTimeout(function(){n.initCropper().then(function(){n.startCroppper()},function(){})},500)},function(e){})}else try{var r=t.getSource().getSource();n.viewManager.imageViewer.renderImage(r,"file",!0).then(function(){setTimeout(function(){n.initCropper().then(function(){n.startCroppper()},function(){})},500)},function(e){})}catch(e){d.configureScope(function(t){t.setExtra("cropError",e)}),d.captureMessage("Failed to get source for image crop",p.Severity.Error)}},n.prototype.actionFormCrop=function(e){},n}(c.OptionsManager);t.CropImageOptionsManager=f}).call(this,n(1),n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.FromjpgOptionsManager=void 0;var o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.startPanels=function(){t.prototype.startPanels.call(this),this.initDraggable()},n.prototype.initDraggable=function(){var e=this,t=document.getElementById("fileGroups");new window.Sortable(t,{draggable:".file",onUpdate:function(t){e.files.files.move(t.oldIndex,t.newIndex)}})},n.prototype.fileChanged=function(n){t.prototype.fileChanged.call(this,n);var i=e('.option[data-value="gif_animation"]');this.files.files.length>1?i.removeClass("tooltip option--disabled"):(i.addClass("tooltip option--disabled"),e('[data-value="png"]').trigger("click"))},n.prototype.actionFormBack=function(){this.printOption("convert_to","png")},n.prototype.beforeProcess=function(){return this.setGifLoop(),t.prototype.beforeProcess.call(this)},n.prototype.setGifLoop=function(){this.options.gif_time=Math.floor(100*this.options.gif_time),isNaN(this.options.gif_time)&&(this.options.gif_time=100)},n}(n(100).OptionsManager);t.FromjpgOptionsManager=o}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RotateImageOptionsManager=void 0;var o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.initActions=function(){t.prototype.initActions.call(this),e(".option__image__item").on("click",function(){})},n.prototype.actionFormSelect=function(t){var n=e(t).data("value");"all"==n?e(".file").removeClass("unselected").addClass("selected"):"portrait"==n?(e(".file").removeClass("unselected selected"),e(".file").each(function(){var t=e(this).data("width"),n=e(this).data("height"),i=parseInt(e(this).find(".rotate").data("rotate"));90!=i&&180!=i||(t+=n,t-=n=t-n),n>t?e(this).addClass("selected"):e(this).addClass("unselected")})):"landscape"==n&&(e(".file").removeClass("selected unselected"),e(".file").each(function(){var t=e(this).data("width"),n=e(this).data("height"),i=parseInt(e(this).find(".rotate").data("rotate"));90!=i&&180!=i||(t+=n,t-=n=t-n),n<t?e(this).addClass("selected"):e(this).addClass("unselected")}))},n.prototype.actionOptionRotateRight=function(){var t=this;e(".file:not(.unselected)").each(function(){t.rotate(e(this).attr("id"),90)})},n.prototype.actionOptionRotateLeft=function(){var t=this;e(".file:not(.unselected)").each(function(){t.rotate(e(this).attr("id"),-90)})},n.prototype.actionFormRotateRight=function(){this.actionOptionRotateRight()},n.prototype.actionFormRotateLeft=function(){this.actionOptionRotateLeft()},n.prototype.rotate=function(t,n){var i=e("#"+t),r=i.find(".rotate"),o=parseInt(r.data("rotate"));360!=(o+=n)&&-360!=o||(o=0),o<0&&(o=360+o),r.data("rotate",o);var a=i.find(".file__canvas");a.css({WebkitTransform:"rotate("+o+"deg)"}),a.css({"-moz-transform":"rotate("+o+"deg)"}),a.css({transform:"rotate("+o+"deg)"}),this.files.updateFile(t,{rotate:o})},n.prototype.actionFormReset=function(){var t=this;e('.option__image__item[data-value="all"]').trigger("click"),e(".file:not(.unselected)").each(function(){var n=e(this).attr("id");e(this).find(".rotate").attr("data-rotate",0);var i=e(this).find(".file__canvas");i.css({WebkitTransform:"rotate(0deg)"}),i.css({"-moz-transform":"rotate(0deg)"}),i.css({transform:"rotate(0deg)"}),t.files.updateFile(n,{rotation:0})})},n}(n(100).OptionsManager);t.RotateImageOptionsManager=o}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WatermarkImageOptionsManager=void 0;var o=n(178),a=n(179),s=function(t){function n(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.minWidth=50,n.loadFonts(),n}return r(n,t),n.prototype.startPanels=function(){t.prototype.startPanels.call(this),e(".alert,.info").hide(),a.EditElement.setPreviewZones(),this.initUploader(),this.initTextUpload(),this.uploader=window.watermarkUploader,this.textUploader=window.textUploader,e("#pickwatermark").show()},n.prototype.actionFormAddText=function(){var t=Math.max(0,parseInt(e("#workArea").scrollTop().toString())-parseInt(e("#editor").css("padding-top"))+60),n=new a.EditElement({draggable:!0,resizable:!0,rotable:!0,fontColorShadow:"transparent",type:"text",resizableAspectRatio:!1,restrict:!1,top:t+"px"});this.elements.length>0&&n.cloneStyle(this.elements[this.elements.length-1]),n.initStyle(),n.init(),n.select(),this.elements.push(n),this.enableProcessBtn()},n.prototype.actionFormAddImage=function(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=Math.max(0,parseInt(e("#workArea").scrollTop().toString())-parseInt(e("#editor").css("padding-top"))+60),r=new a.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"image",imgSrc:n,fileId:t,top:i+"px",resizableAspectRatio:!0,restrict:!1});this.checkImageSize(t,r),r.onResizeEnd=function(t,n,i){n.size.width>i.limitToPixelate?(e("#infoPixelatedImage").show(),e("#infoReducedImage").hide()):e("#infoPixelatedImage").hide()},r.initStyle(),r.init(),r.select(),this.elements.push(r)},n.prototype.checkImageSize=function(t,n){var i=this.files.getFile(t);if(i.width<this.minWidth)return e("#infoSmallFile").show(),void(n.limitToPixelate=i.width);var r=document.getElementById("file").naturalWidth,o=document.getElementById("file").width;if(r>o){var a=100*o/r;n.width=Math.max(i.width*a/100,this.minWidth),e("#infoReducedImage").show(),n.limitToPixelate=n.width,n.width=Math.min(o,n.width)}else n.limitToPixelate=i.width},n.prototype.fileAdded=function(e,n,i){var r=this;void 0===i&&(i=!1);var o=this;return"pickwatermark"==n?(this.processDisabledUploading=!0,this.disableProcessBtn(),t.prototype.fileAdded.call(this,e,n,!0)):"picktextwatermark"==n?t.prototype.fileAdded.call(this,e,n,!0):(this.elements&&this.elements.length>0&&this.saveGravityTemp(),new Promise(function(i,s){t.prototype.fileAdded.call(r,e,n).then(function(){"gif"==/(?:\.([^.]+))?$/.exec(e.name)[1]&&a.EditElement.setGifMode(),o.elements&&o.elements.length>0&&setTimeout(function(){o.setGravityTemp()},500),i()},function(e){s(e)})}))},n.prototype.fileReady=function(n){n&&"upBy"in n&&"pickwatermark"==n.upBy&&(e("#"+n.id).hide(),this.actionFormAddImage(n.id,this.viewManager.imageViewer.imageSrc["cover-"+n.id]));try{this.initWatermarkPremium()}catch(e){}t.prototype.fileReady.call(this,n)},n.prototype.initWatermarkPremium=function(){},n.prototype.fileUploaded=function(e,n){var i=this.files.getFile(e);null!=i&&"upBy"in i&&"pickwatermark"==i.upBy&&(this.processDisabledUploading=!1,this.enableProcessBtn()),t.prototype.fileUploaded.call(this,e,n)},n.prototype.updateOrderStatus=function(){},n.prototype.getElementSizeFactorial=function(){var t=800;e(".file").each(function(n,i){t=Math.max(t,parseInt(e(i).attr("data-width")))});var n=Math.ceil(t/800);return isNaN(n)?1:n},n}(o.EditorOptionsManager);t.WatermarkImageOptionsManager=s}).call(this,n(1))},function(e,t,n){(function(e){!function(e){if(e.support.touch="ontouchend"in document,e.support.touch){var t,n=e.ui.mouse.prototype,i=n._mouseInit,r=n._mouseDestroy;n._touchStart=function(e){!t&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(t=!0,this._touchMoved=!1,o(e,"mouseover"),o(e,"mousemove"),o(e,"mousedown"))},n._touchMove=function(e){t&&(this._touchMoved=!0,o(e,"mousemove"))},n._touchEnd=function(e){t&&(o(e,"mouseup"),o(e,"mouseout"),this._touchMoved||o(e,"click"),t=!1)},n._mouseInit=function(){this.element.bind({touchstart:e.proxy(this,"_touchStart"),touchmove:e.proxy(this,"_touchMove"),touchend:e.proxy(this,"_touchEnd")}),i.call(this)},n._mouseDestroy=function(){this.element.unbind({touchstart:e.proxy(this,"_touchStart"),touchmove:e.proxy(this,"_touchMove"),touchend:e.proxy(this,"_touchEnd")}),r.call(this)}}function o(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}}(e)}).call(this,n(1))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Listenable=void 0;var o=function(){function e(){this.callbackArray={}}return e.prototype.addEventListener=function(e,t){this.callbackArray.hasOwnProperty(e)||(this.callbackArray[e]=[]),this.callbackArray[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this.callbackArray.hasOwnProperty(e))throw new Error("Callback was not added");var n=this.callbackArray[e].indexOf(t);if(-1===n)throw new Error("Callback was not added");this.callbackArray[e].splice(n,1)},e.prototype.dispatchEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i(this,void 0,void 0,function(){var n,i,o;return r(this,function(r){switch(r.label){case 0:if(n=t[0],!this.callbackArray.hasOwnProperty(e))return[3,4];i=0,o=this.callbackArray[e],r.label=1;case 1:return i<o.length?[4,(0,o[i])(n)]:[3,4];case 2:r.sent(),r.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e}();t.Listenable=o},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MemeImageOptionsManager=void 0;var l=n(178),c=n(179),u=s(n(57)),d=n(77),p=n(39),f=function(t){function n(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.topElement=null,n.bottomElement=null,n.elementTopStyle="",n.elementBottomStyle="",n.elementTopStyleSub="",n.elementBottomStyleSub="",n.serviceUrl=p.Settings.get("service")+"/meme",n.search=null,n.searchLocal=null,n.searchResults=null,n.searchLocalResults=null,n.elementStyles={},n.elementStylesSub={},n.nameEditable=!1,n.start(),n}return r(n,t),n.prototype.startPanels=function(){t.prototype.startPanels.call(this),c.EditElement.setPreviewZones(),this.initUploader(),this.initTextUpload(),this.disableProcessBtn(),e("#pickwatermark").show()},n.prototype.workareaActions=function(){e(".tool__workarea__rendered").hide(),t.prototype.workareaActions.call(this)},n.prototype.start=function(){var t=this;this.processManager.tool="watermarkimage",e("#loadImages").on("click",function(){e("#memeSearch").modal(),t.search=t.searchImages(e("#search").val().toString()),t.searchLocal=t.searchLocalImages(e("#search").val().toString())}),e(".meme-nav__prev").on("click",function(){t.page--,t.search=t.searchImages(e("#search").val().toString(),t.page),t.searchLocal=t.searchLocalImages(e("#search").val().toString(),t.page)}),e(".meme-nav__next").on("click",function(){t.page++,t.search=t.searchImages(e("#search").val().toString(),t.page),t.searchLocal=t.searchLocalImages(e("#search").val().toString(),t.page)}),e("#search").on("change",function(){t.page=1,t.search=t.searchImages(e("#search").val().toString()),t.searchLocal=t.searchLocalImages(e("#search").val().toString())})},n.prototype.searchImages=function(t,n){void 0===t&&(t=""),void 0===n&&(n=1);var i=this;return null!=this.search&&this.search.abort(),e(".meme__list").hide().empty(),e(".meme__list").hide().empty(),e(".meme__loading").show(),e(".meme-nav__page").html(n.toString()),n>1?e(".meme-nav__prev").show():(e(".meme-nav").hide(),e(".meme-nav__prev").hide()),this.searchResults=null,e.get(this.serviceUrl,{q:t,p:n},function(t){i.searchResults=t.length,i.cancelNextPage()?e(".meme-nav__next").hide():(e(".meme-nav__next").show(),e(".meme__list").show(),e(".meme__loading").hide(),e(".meme-nav").show(),e.each(t,function(e,t){i.search=null,i.showMeme(t)}))})},n.prototype.cancelNextPage=function(){return 0==this.searchResults&&0==this.searchLocalResults},n.prototype.searchLocalImages=function(t,n){void 0===t&&(t=""),void 0===n&&(n=1);var i=this;return null!=this.searchLocal&&this.searchLocal.abort(),e.get(this.serviceUrl+"/local",{q:t,p:n},function(t){i.searchLocalResults=t.length,i.cancelNextPage()?e(".meme-nav__next").hide():(e(".meme-nav__next").show(),e(".meme__list").show(),e(".meme__loading").hide(),e(".meme-nav").show(),e.each(t,function(e,t){i.search=null,i.showMeme(t)}))})},n.prototype.showMeme=function(t){var n=this,i=t.name.replace(/[^a-zA-Z0-9]+/g,"_");if(0==e("#"+i).length){var r=e(".meme__list__item.template").clone().appendTo(e(".meme__list"));r.attr("id",i),r.find("img").attr("src",t.url),r.find(".meme__list__item__title").html(t.name),r.find("button, img, meme__list__item__title").on("click",function(){n.setImage(t.url,t.name),e("#memeSearch").modal("toggle")}),r.removeClass("template")}},n.prototype.setImage=function(t,n){var i=this,r=new d.File({canvasId:"memeUrl",runtime:"html5",percent:0,name:t,filename:n,type:"image",service:"user",id:"fromUrl",url:t});i.files.addFile(r),i.fileAdded(r,"urlInput"),this.processManager.api.uploadFromUrl(t).then(function(e){e.percent=100,i.files.updateFile("fromUrl",e),i.renderFileEditor(r)},function(){}),e("#loadImages").hide(),this.loadFonts()},n.prototype.loadFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&u.lazyloadCss("/font/"+e+".css")},n.prototype.initViewer=function(){t.prototype.initViewer.call(this),e("#fileGroups").hide(),e("#loadImages").hide()},n.prototype.fileRendered=function(e){t.prototype.fileRendered.call(this,e),this.enableProcessBtn();var n=this;setTimeout(function(){n.initFistElements()},500)},n.prototype.initFistElements=function(){e("#fileGroups").hide();var t=e(".editor__content").width()+"px",n=48*e(".editor__content").width()/800;this.topElement=new c.EditElement({id:"elementTop",draggable:!0,resizable:!0,rotable:!0,restrict:!1,width:t,width_container:t,fontSize:n,left:0,top:0,type:"text",fontFamily:"Impact"}),this.bottomElement=new c.EditElement({id:"elementBottom",draggable:!0,resizable:!0,rotable:!0,restrict:!1,width:t,width_container:t,fontSize:n,bottom:0,left:0,type:"text",fontFamily:"Impact"}),this.topElement.initStyle(),this.bottomElement.initStyle(),this.topElement.init(),this.bottomElement.init(),this.elements.push(this.topElement),this.elements.push(this.bottomElement)},n.prototype.actionFormMode=function(t){var n=this;if(null!=t){var i=this.getOption("mode"),r=e("#elementTop,#elementBottom"),o=r.find(".editor__content__item__content");if("outside"==i)this.elementStyles={},r.each(function(t,i){var r=e(i).attr("id");n.elementStyles[r]=e(i).attr("style"),n.elementStylesSub[r]=e(i).find(".editor__content__item__content").attr("style")}),r.attr("style","").css({position:"relative",background:"white",display:"block",width:"100%"}),o.attr("style","").css({position:"relative",background:"white",display:"block",width:"100%",padding:"24px"}),r.find(".text").css("display","inline-block"),r.each(function(t,n){try{e(n).draggable({disabled:!0}),e(n).resizable({disabled:!0})}catch(n){}}),r.addClass("fixed");else{for(var a in this.elementStyles)e("#"+a).attr("style",this.elementStyles[a]),e("#"+a+" .editor__content__item__content").attr("style",this.elementStylesSub[a]);try{r.draggable("enable"),o.resizable("enable"),r.find(".text").css("display","block"),r.removeClass("fixed")}catch(e){}}}},n.prototype.actionFormAddText=function(){var e=new c.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"text",resizableAspectRatio:!1,fontFamily:"Impact",restrict:!1});this.elements.length>0&&e.cloneStyle(this.elements[this.elements.length-1]),e.top=0,e.left=0,e.initStyle(),e.init(),e.select(),this.elements.push(e)},n.prototype.actionFormAddImage=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=new c.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"image",imgSrc:t,fileId:e,resizableAspectRatio:!0,restrict:!1});n.initStyle(),n.init(),n.select(),this.elements.push(n)},n.prototype.checkLimits=function(e,n){return"pickwatermark"==n?e:"picktextwatermark"==n?e:t.prototype.checkLimits.call(this,e,n)},n.prototype.fileAdded=function(e,n){var i=this;return"pickwatermark"==n?t.prototype.fileAdded.call(this,e,n,!0):"picktextwatermark"==n?t.prototype.fileAdded.call(this,e,n,!0):new Promise(function(r,o){t.prototype.fileAdded.call(i,e,n).then(function(){"gif"==/(?:\.([^.]+))?$/.exec(e.name)[1]&&c.EditElement.setGifMode(),r({})},function(){o()})})},n.prototype.fileReady=function(n){n&&"upBy"in n&&"pickwatermark"==n.upBy&&(e("#"+n.id).hide(),this.actionFormAddImage(n.id,this.viewManager.imageViewer.imageSrc["cover-"+n.id])),t.prototype.fileReady.call(this,n)},n.prototype.fileUploaded=function(e,n){var i=this.files.getFile(e);null!=i&&"pickwatermark"==i.upBy&&(this.processDisabledUploading=!1,this.enableProcessBtn()),t.prototype.fileUploaded.call(this,e,n)},n.prototype.getElementSizeFactorial=function(){var e=document.getElementById("file").naturalWidth;return e<800?1:Math.ceil(e/800)},n}(l.EditorOptionsManager);t.MemeImageOptionsManager=f}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TojpgOptionsManager=void 0;var a=n(100),s=n(18),l=n(72),c=o(n(59)),u=n(79),d=function(t){function n(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.selectedExtensions=[],"tojpg"==n.subtool&&(n.hideProblemForm=!0),n}return r(n,t),n.prototype.init=function(){t.prototype.init.call(this);var n=this;this.viewManager.onBeforeRemoveFile=function(t){e("#"+t).length>0&&e("#"+t)[0].hasAttribute("data-extension")&&-1==e.inArray(e("#"+t).attr("data-extension").toLowerCase(),["png","webp","svg","gif","psd","tif","heic"])&&(n.selectedExtensions.splice(e.inArray(e("#"+t).attr("data-extension").toUpperCase(),n.selectedExtensions),1),n.selectedExtensions.length<1?(e("#highres-options").hide(),e(".option__panel__content").show()):e(".formats-sel-raw").html(n.uniqueValueArray(n.selectedExtensions).join(", ")))}},n.prototype.actionFormPremiumfeature=function(t,n){var i=this,r=new c.default({dialogName:"becomePremium"});r.setContentBuilder(function(){return new u.PremiumContext({tool:i.tool,triggerReason:l.REASON.ERROR_FEATURE,limits:i.limits})}),s.UserModel.isPremium()||"premium"==window.ilovepdfConfig.levelTemp||(e('#highres-options [data-value="0"]').trigger("click"),r.show(),window.ev("send","event","limits","feature-exceeded","converttojpg"))},n.prototype.fileAdded=function(n,i,r){void 0===r&&(r=!1);var o=t.prototype.fileAdded.call(this,n,i,!1),a=/(?:\.([^.]+))?$/.exec(n.name)[1];return a&&-1==e.inArray(a.toLowerCase(),["png","webp","svg","gif","psd","tif","heic"])&&(this.selectedExtensions.push(a),e("#highres-options").show(),e(".option__panel__content").hide(),e(".formats-sel-raw").html(this.uniqueValueArray(this.selectedExtensions).join(", "))),this.fileChanged(n.id),o},n.prototype.beforeProcess=function(){return this.setGifLoop(),t.prototype.beforeProcess.call(this)},n.prototype.setGifLoop=function(){this.options.gif_time=Math.floor(100*this.options.gif_time),isNaN(this.options.gif_time)&&(this.options.gif_time=100)},n.prototype.uniqueValueArray=function(t){var n=[];return e.each(t,function(t,i){-1==e.inArray(i,n)&&n.push(i)}),n},n}(a.OptionsManager);t.TojpgOptionsManager=d}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.BlurfaceImageOptionsManager=void 0;var l=n(179),c=n(99),u=n(126),d=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={detection:"byLevel",byLevel:{level:"recommended"},byFace:{level:"recommended",face:void 0,mode:"include"}},e.onClickFile=function(t){e.files.files.includes(t)&&!t.processed&&e.detect()},e.setFileRendered=function(t){e.files.files.forEach(function(e){return e.rendered=!1}),t.rendered=!0},e.onClickDetectByLevelTab=function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.state.detection="byLevel",this.hideAllFileElementArray(),this.removeAllElementArray(),[4,this.detectByLevel()];case 1:return e.sent(),[2]}})})},e.onClickDetectByFaceTab=function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.state.detection="byFace",this.hideAllFileElementArray(),this.removeAllElementArray(),[4,this.recognize()];case 1:return e.sent(),[2]}})})},e.recognize=function(){return o(e,void 0,void 0,function(){var e,t,n;return a(this,function(i){switch(i.label){case 0:return this.loadingStart(),this.hideAllFileElementArray(),this.removeCurrentElementArray(),void 0===this.state.byFace.face?[3,3]:[4,this.getCoordArray()];case 1:return e=i.sent(),[4,this.createElementArray(e)];case 2:t=i.sent(),null===(n=t[t.length-1])||void 0===n||n.select(),i.label=3;case 3:return this.loadingEnd(),[2]}})})},e.removeCurrentElementArray=function(){e.removeFileElementArray(e.currentFile)},e.removeFileElementArray=function(e){var t;null===(t=e.elementArray)||void 0===t||t.forEach(function(e){return e.remove()}),e.elementArray=void 0,e.processed=!1},e}return r(n,t),n.prototype.startPanels=function(){t.prototype.startPanels.call(this),this.initUploader(),this.addDetectByLevelListeners(),this.addDetectByFaceListeners()},n.prototype.initUploader=function(){new u.PluploadUpload({id:"img-input",optionsManager:this,processManager:this.processManager,config:new c.Config({tool:"blurfaceimage",subtool:"blurfaceimage",config:this.config.config}),apiVersion:this.processManager.apiVersion,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.processManager.token,tool:this.tool,taskId:this.processManager.taskId,servers:[],haveDrop:!0,dropElement:"sidebar"})},n.prototype.initFromUrl=function(){},n.prototype.fileAdded=function(e,n,i){return o(this,void 0,void 0,function(){return a(this,function(r){return e.rotable=!1,"img-input"===n?[2,{}]:(e.elementArray=[],e.processed=!1,[2,t.prototype.fileAdded.call(this,e,n,i)])})})},n.prototype.fileChanged=function(e){var n="string"==typeof e?this.files.getFile(e):e;"img-input"!==(null===n||void 0===n?void 0:n.upBy)&&(this.files.files[this.files.files.length-1]===n&&n.server_filename&&!n.processed&&n.rendered&&this.detect(),t.prototype.fileChanged.call(this,e),this.checkProcessBtn())},n.prototype.checkProcessBtn=function(){0===this.files.files.length?this.disableProcessBtn():"byFace"===this.state.detection&&void 0===this.state.byFace.face?this.disableProcessBtn():this.enableProcessBtn()},n.prototype.fileUploaded=function(e,n){var i=this,r=this.files.getFile(e);return"img-input"===r.upBy&&(this.state.byFace.face=n.server_filename,this.displayFacePreview(r.getNative()).then(function(){return i.recognize()})),t.prototype.fileUploaded.call(this,e,n)},n.prototype.fileRendered=function(e){var n=this;t.prototype.fileRendered.call(this,e),this.setFileRendered(e),document.getElementById(e.id).addEventListener("click",function(){return n.onClickFile(e)}),this.fileChanged(e)},n.prototype.beforeProcess=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return"byFace"===this.state.detection&&(this.setOption("level",this.state.byFace.level),this.setOption("face",this.state.byFace.face)),this.files.files.forEach(function(e){var t;e.elementArray=null===(t=e.elementArray)||void 0===t?void 0:t.map(function(e){e.show();var t=e.getGravityData();return e.hide(),t})}),this.files.files=this.files.files.filter(function(e){return"img-input"!==e.upBy}),[2,{}]})})},n.prototype.saveGravityTemp=function(){},n.prototype.addDetectByLevelListeners=function(){document.querySelector("#tab-level").addEventListener("click",this.onClickDetectByLevelTab),this.addLevelListener("recommended"),this.addLevelListener("low"),this.addLevelListener("high"),this.addProtectionListener()},n.prototype.addLevelListener=function(e){var t=this;document.querySelector('[data-name="level"][data-value="'+e+'"]').addEventListener("click",function(){t.state.byLevel.level=e,t.detectByLevel()})},n.prototype.addProtectionListener=function(){var e=this;document.querySelector("#tab-content-level .btn--inline").addEventListener("click",function(){var t=e.createMidCoordWithOffset();e.createElement(t).select(),e.fileChanged(e.currentFile)})},n.prototype.createMidCoordWithOffset=function(){var e=this.createMidCoord();return e.x+=100*(Math.random()-.5),e.y+=100*(Math.random()-.5),e},n.prototype.createMidCoord=function(){var e=document.querySelector("#file");return{x:e.width/2-50,y:e.height/2-75,width:100,height:150}},n.prototype.createElement=function(e){var t=this,n=new l.EditElement({fileId:this.currentFile.id,type:"blur",left:e.x,top:e.y,width:e.width,height:e.height,draggable:!0,resizable:!0,restrict:!1});n.initStyle(),n.init();var i=this.currentFile;return this.pushElementIntoCurrentFile(i,n),i.processed=!0,n.addEventListener("remove",function(){return t.removeElementFromFile(i,n)}),document.querySelector("#"+i.id+" .remove").addEventListener("click",function(){return t.removeFileElementArray(i)}),n},n.prototype.addDetectByFaceListeners=function(){document.querySelector("#tab-face").addEventListener("click",this.onClickDetectByFaceTab),this.addModeListener("include"),this.addModeListener("exclude")},n.prototype.addModeListener=function(e){var t=this;document.querySelector('[data-name="mode"][data-value="'+e+'"]').addEventListener("click",function(){t.state.byFace.mode=e,t.recognize()})},n.prototype.displayFacePreview=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,new Promise(function(t){var n=new FileReader;n.onload=function(e){document.querySelector('label[for="img-input"] > img').setAttribute("src",e.target.result),t()},n.readAsDataURL(e)})]})})},n.prototype.detect=function(){return"byLevel"===this.state.detection?this.detectByLevel():this.recognize()},n.prototype.detectByLevel=function(){var e;return o(this,void 0,void 0,function(){var t,n;return a(this,function(i){switch(i.label){case 0:return this.loadingStart(),this.hideAllFileElementArray(),this.removeCurrentElementArray(),[4,this.getCoordArray()];case 1:return t=i.sent(),[4,this.createElementArray(t)];case 2:return n=i.sent(),null===(e=n[n.length-1])||void 0===e||e.select(),this.loadingEnd(),[2]}})})},n.prototype.removeAllElementArray=function(){var e=this;this.files.files.forEach(function(t){e.removeFileElementArray(t)})},n.prototype.createElementArray=function(e){return o(this,void 0,void 0,function(){var t=this;return a(this,function(n){return[2,e.map(function(e){return t.createElement(e)})]})})},n.prototype.pushElementIntoCurrentFile=function(e,t){void 0===e.elementArray&&(e.elementArray=[]),e.elementArray.push(t)},n.prototype.removeElementFromFile=function(e,t){var n=e.elementArray.indexOf(t);if(-1===n)throw new Error("Element not found");e.elementArray.splice(n,1)},n.prototype.getCoordArray=function(){return o(this,void 0,void 0,function(){var e,t,n,i;return a(this,function(r){switch(r.label){case 0:return e="byFace"===this.state.detection?[{server_filename:this.state.byFace.face,mode:this.state.byFace.mode}]:[],[4,(i=this.processManager.api).detectFaces.apply(i,s([this.state[this.state.detection].level,[{server_filename:this.currentFile.server_filename}]],e))];case 1:return t=r.sent(),n=this.getCurrentScaleFactor(),[2,t.map(function(e){return{x:e.x*n,y:e.y*n,width:e.width*n,height:e.height*n}})]}})})},n.prototype.getCurrentScaleFactor=function(){e(".tool__workarea__rendered").show();var t=document.querySelector("#"+this.currentFile.canvasId),n=parseInt(t.getAttribute("data-width"));return document.querySelector("#file").width/n},n}(n(178).EditorOptionsManager);t.BlurfaceImageOptionsManager=d}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlimageOptionsManager=void 0;var o=n(100),a=n(13),s=n(38),l=n(180),c=function(t){function n(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.page=1,n.currentFile=null,n.lastFile=null,n.setPageWidth(),n}return r(n,t),n.prototype.startPanels=function(){t.prototype.startPanels.call(this),this.initControlUrl(),this.initResetActions(),this.saveOptions()},n.prototype.initViewManager=function(){t.prototype.initViewManager.call(this)},n.prototype.initControlUrl=function(){var t=this,n=null;e(".inputUrl").on("keyup",function(i){clearTimeout(n),n=window.setTimeout(function(){!0===l.Url.validate(e(i.target).val())?(e(i.target).removeClass("error"),e(".errorMsg").hide(),t.enableRefresh(),e("#refreshUrl").removeAttr("disabled")):(e(i.target).addClass("error"),e(".errorMsg").show(),t.disableRefresh(),e("#refreshUrl").attr("disabled","disabled"))},500)})},n.prototype.fileAdded=function(e,n,i){return void 0===i&&(i=!1),t.prototype.fileAdded.call(this,e,n,i)},n.prototype.initResetActions=function(){var t=this;e("#reset").on("click",function(){t.resetOptions()}),e(".inputUrl").on("keypress",function(t){"13"==(t.keyCode?t.keyCode:t.which).toString()&&1==l.Url.validate(e(".inputUrl").first().val())&&e("#refreshUrl").click()}),e("#settingsRefresh, #refreshUrl").on("click",function(){t.saveOptions(),window.ilovepdf.uploadPopupManager.urlupload.upload(e(".inputUrl").first().val())})},n.prototype.setPageWidth=function(){e("#view_width_custom").attr("value",window.innerWidth),e("#view_width_custom").html(a.Lang.t(a.Lang.t("Your screen")+" (${pixelsSize})",{pixelsSize:window.innerWidth+"px"}))},n.prototype.fileReady=function(t){var n=this,i=this;this.lastFile=this.currentFile,this.currentFile=t.id,this.files.removeFilesExcept(t.id),this.makeWorkarea().then(function(){i.showLoadingPreview(),n.getPreview(t).then(function(e){i.currentFile===t.id?(t=i.files.updateFile(t.id,{url:i.workerServer+"/thumbnails/"+e.thumbnail,percent:100}),i.fileChanged(t),i.hideLoadingPreview(),i.addCanvas(t),i.renderFile(t).then(function(e){},function(e){})):i.files.removeFile(t.id)},function(){i.hideLoadingPreview(),e(".waitMsgError").show()})},function(){})},n.prototype.saveOptions=function(){this.getPanelActiveOptions(),this.savedOptions=JSON.stringify(this.options),this.hideRefresh()},n.prototype.resetOptions=function(){Object.assign(this.options,JSON.parse(this.savedOptions)),this.applyAllOptions(),this.hideRefresh()},n.prototype.optionsChanged=function(){return this.getPanelActiveOptions(),this.savedOptions!==JSON.stringify(this.options)},n.prototype.setOption=function(e,n){t.prototype.setOption.call(this,e,n),1==this.optionsChanged()?this.showRefresh():this.hideRefresh()},n.prototype.showRefresh=function(){e("#reset").show(),e("#settingsRefresh").show(),e("#settingsRefresh:enabled").length&&(s.Tooltip.setContent(e("#settingsRefresh"),a.Lang.t("Click to refresh changes")),s.Tooltip.show(e("#settingsRefresh")))},n.prototype.hideRefresh=function(){e("#reset").hide(),e("#settingsRefresh").hide(),s.Tooltip.hide(e("#settingsRefresh"))},n.prototype.disableRefresh=function(){e("#settingsRefresh").attr("disabled","disabled"),this.disableProcessBtn()},n.prototype.enableRefresh=function(){e("#reset").hide(),e("#settingsRefresh").removeAttr("disabled"),this.enableProcessBtn()},n.prototype.addCanvas=function(t){e(".editor__content").append('<img id="image_'+t.id+'">')},n.prototype.getPreview=function(e){return this.getPanelActiveOptions(),this.saveOptions(),this.processManager.api.getPreview(e.server_filename,this.options)},n.prototype.showLoadingPreview=function(){e(".waitMsgError").hide(),e(".tool__workarea")[0].scrollTop=0,e(".waitMsg").show(),e(".tool__workarea").addClass("waiting"),this.startWaitMessages()},n.prototype.hideLoadingPreview=function(){e(".tool__workarea").removeClass("waiting"),e(".waitMsg").hide(),this.stopWaitMessages()},n.prototype.startWaitMessages=function(){var t=0,n=e(".waitMsg_message").length,i=e(".waitMsg_message");function r(){i.hide().filter(function(e){return e==t%n}).show(),t++}r(),this.waitInterval=setInterval(function(){r()},3e3)},n.prototype.stopWaitMessages=function(){clearInterval(this.waitInterval)},n.prototype.renderFile=function(t){var n=this;return this.rendering=!0,e(".editor__content img").hide(),e("#image_"+t.id).show(),new Promise(function(e,i){void 0!==t?n.viewManager.imageViewer.renderUrl(t.url,"image_"+t.id,!0).then(function(){},function(){}):i()})},n.prototype.beforeProcess=function(){return e(".waitMsg, .waitMsgError").hide(),e("#settingsRefresh").hide(),t.prototype.beforeProcess.call(this)},n}(o.OptionsManager);t.HtmlimageOptionsManager=c}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.UploadPopupManager=void 0;var i=n(248),r=n(180),o=function(){function t(e){this.id="pickfiles",this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.servers=null,this.openTab="url",Object.assign(this,e),this.urlupload=null,this.firstFile=!1,this.init()}return t.prototype.init=function(){var t=this,n=this;this.urlupload=new i.UrlUpload({id:this.id,optionsManager:this.optionsManager,processManager:this.processManager,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.token,tool:this.tool,taskId:this.taskId,servers:this.servers,haveDrop:!0}),e("form").on("submit",function(t){t.preventDefault(),e("#addWeb").click()}),e("#inputWeb").on("change",function(t){!0===r.Url.validate(e(t.target).val())?(e(t.target).removeClass("error"),e(".errorMsg").hide()):(e(t.target).addClass("error"),e(".errorMsg").show())}),e("#addWeb").on("click",function(){if(n.openTab=e(".tab-pane.active").attr("id"),"url"==n.openTab){if(0==r.Url.validate(e("#inputWeb").val()))return!1;e(".inputUrl").first().val(e("#inputWeb").val()),e("#htmlModal").modal("hide"),e("body").removeClass("modal-open"),e(".modal-backdrop").remove(),t.urlupload.upload(e("#inputWeb").val())}})},t}();t.UploadPopupManager=o}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUpload=void 0;var a=o(n(24)),s=n(77),l=n(180),c=function(){function t(e){void 0===e&&(e={}),Object.assign(this,e),this.init()}return t.prototype.init=function(){e(".errorMsg").hide()},t.prototype.upload=function(e){if(!0===l.Url.validate(e)){var t=new s.File({id:(new Date).getTime(),link:l.Url.correct(e)});this.fileAdded(t),this.uploadFile(t)}},t.prototype.fileAdded=function(e){e.runtime="html5",e.percent=0,e.service="user",e.url=e.link,e.size=e.bytes,e.canvasId=e.id,e.name=new URL(e.link).hostname.replace(".","_"),e.filename=e.name,e.origin="url",this.optionsManager.files.addFile(e),this.optionsManager.fileAdded(e,"urlUploader")},t.prototype.uploadFile=function(e){var t=this;this.processManager.api.request("POST","upload",{task:this.processManager.taskId,cloud_file:e.link}).then(function(n){t.processManager.files.updateFile(e.id,{process:100,percent:100,server_filename:n.server_filename}),t.optionsManager.fileReady(e)},function(n){e.error=!0,t.processManager.files.updateFile(e.id,{process:0,percent:0,error:!0}),t.optionsManager.invalidUpload({error:"CloudError",file:{id:e.id}}),a.configureScope(function(e){e.setExtra("error",JSON.parse(n))}),a.captureMessage("Upload from url error")})},t}();t.UrlUpload=c}).call(this,n(1))}]);